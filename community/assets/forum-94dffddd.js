(function(global){var babelHelpers=global.babelHelpers={};babelHelpers.typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};babelHelpers.jsx=function(){var REACT_ELEMENT_TYPE=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||0xeac7;return function createRawReactElement(type,props,key,children){var defaultProps=type&&type.defaultProps;var childrenLength=arguments.length-3;if(!props&&childrenLength!==0){props={}}
if(props&&defaultProps){for(var propName in defaultProps){if(props[propName]===void 0){props[propName]=defaultProps[propName]}}}else if(!props){props=defaultProps||{}}
if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+3]}
props.children=childArray}
return{$$typeof:REACT_ELEMENT_TYPE,type:type,key:key===undefined?null:''+key,ref:null,props:props,_owner:null}}}();babelHelpers.asyncIterator=function(iterable){if(typeof Symbol==="function"){if(Symbol.asyncIterator){var method=iterable[Symbol.asyncIterator];if(method!=null)return method.call(iterable)}
if(Symbol.iterator){return iterable[Symbol.iterator]()}}
throw new TypeError("Object is not async iterable")};babelHelpers.asyncGenerator=function(){function AwaitValue(value){this.value=value}
function AsyncGenerator(gen){var front,back;function send(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};if(back){back=back.next=request}else{front=back=request;resume(key,arg)}})}
function resume(key,arg){try{var result=gen[key](arg);var value=result.value;if(value instanceof AwaitValue){Promise.resolve(value.value).then(function(arg){resume("next",arg)},function(arg){resume("throw",arg)})}else{settle(result.done?"return":"normal",result.value)}}catch(err){settle("throw",err)}}
function settle(type,value){switch(type){case "return":front.resolve({value:value,done:!0});break;case "throw":front.reject(value);break;default:front.resolve({value:value,done:!1});break}
front=front.next;if(front){resume(front.key,front.arg)}else{back=null}}
this._invoke=send;if(typeof gen.return!=="function"){this.return=undefined}}
if(typeof Symbol==="function"&&Symbol.asyncIterator){AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}}
AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)};AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)};AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)};return{wrap:function(fn){return function(){return new AsyncGenerator(fn.apply(this,arguments))}},await:function(value){return new AwaitValue(value)}}}();babelHelpers.asyncGeneratorDelegate=function(inner,awaitWrap){var iter={},waiting=!1;function pump(key,value){waiting=!0;value=new Promise(function(resolve){resolve(inner[key](value))});return{done:!1,value:awaitWrap(value)}};if(typeof Symbol==="function"&&Symbol.iterator){iter[Symbol.iterator]=function(){return this}}
iter.next=function(value){if(waiting){waiting=!1;return value}
return pump("next",value)};if(typeof inner.throw==="function"){iter.throw=function(value){if(waiting){waiting=!1;throw value}
return pump("throw",value)}}
if(typeof inner.return==="function"){iter.return=function(value){return pump("return",value)}}
return iter};babelHelpers.asyncToGenerator=function(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}
if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}
return step("next")})}};babelHelpers.classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};babelHelpers.createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value" in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();babelHelpers.defineEnumerableProperties=function(obj,descs){for(var key in descs){var desc=descs[key];desc.configurable=desc.enumerable=!0;if("value" in desc)desc.writable=!0;Object.defineProperty(obj,key,desc)}
return obj};babelHelpers.defaults=function(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}
return obj};babelHelpers.defineProperty=function(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}
return obj};babelHelpers.extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}
return target};babelHelpers.get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value" in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}
return getter.call(receiver)}};babelHelpers.inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass};babelHelpers.instanceof=function(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return right[Symbol.hasInstance](left)}else{return left instanceof right}};babelHelpers.interopRequireDefault=function(obj){return obj&&obj.__esModule?obj:{default:obj}};babelHelpers.interopRequireWildcard=function(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}
newObj.default=obj;return newObj}};babelHelpers.newArrowCheck=function(innerThis,boundThis){if(innerThis!==boundThis){throw new TypeError("Cannot instantiate an arrow function")}};babelHelpers.objectDestructuringEmpty=function(obj){if(obj==null)throw new TypeError("Cannot destructure undefined")};babelHelpers.objectWithoutProperties=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}
return target};babelHelpers.possibleConstructorReturn=function(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}
return call&&(typeof call==="object"||typeof call==="function")?call:self};babelHelpers.selfGlobal=typeof global==="undefined"?self:global;babelHelpers.set=function set(object,property,value,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent!==null){set(parent,property,value,receiver)}}else if("value" in desc&&desc.writable){desc.value=value}else{var setter=desc.set;if(setter!==undefined){setter.call(receiver,value)}}
return value};babelHelpers.slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=!0;var _d=!1;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}
return _arr}
return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();babelHelpers.slicedToArrayLoose=function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){var _arr=[];for(var _iterator=arr[Symbol.iterator](),_step;!(_step=_iterator.next()).done;){_arr.push(_step.value);if(i&&_arr.length===i)break}
return _arr}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};babelHelpers.taggedTemplateLiteral=function(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))};babelHelpers.taggedTemplateLiteralLoose=function(strings,raw){strings.raw=raw;return strings};babelHelpers.temporalRef=function(val,name,undef){if(val===undef){throw new ReferenceError(name+" is not defined - temporal dead zone")}else{return val}};babelHelpers.temporalUndefined={};babelHelpers.toArray=function(arr){return Array.isArray(arr)?arr:Array.from(arr)};babelHelpers.toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}})(typeof global==="undefined"?self:global);(function(exports){'use strict';var headEl=document.getElementsByTagName('head')[0],ie=/MSIE/.test(navigator.userAgent);function normalizeName(child,parentBase){if(child.charAt(0)==='/'){child=child.slice(1)}
if(child.charAt(0)!=='.'){return child}
var parts=child.split('/');while(parts[0]==='.'||parts[0]==='..'){if(parts.shift()==='..'){parentBase.pop()}}
return parentBase.concat(parts).join('/')}
var seen=Object.create(null);var internalRegistry=Object.create(null);var externalRegistry=Object.create(null);var anonymousEntry;function ensuredExecute(name){var mod=internalRegistry[name];if(mod&&!seen[name]){seen[name]=!0;mod.execute()}
return mod&&mod.proxy}
function set(name,values){externalRegistry[name]=values}
function get(name){return externalRegistry[name]||ensuredExecute(name)}
function has(name){return!!externalRegistry[name]||!!internalRegistry[name]}
function createScriptNode(src,callback){var node=document.createElement('script');if(node.async){node.async=!1}
if(ie){node.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState)){this.onreadystatechange=null;callback()}}}else{node.onload=node.onerror=callback}
node.setAttribute('src',src);headEl.appendChild(node)}
function load(name){return new Promise(function(resolve,reject){createScriptNode((System.baseURL||'/')+name+'.js',function(err){if(anonymousEntry){System.register(name,anonymousEntry[0],anonymousEntry[1]);anonymousEntry=undefined}
var mod=internalRegistry[name];if(!mod){reject(new Error('Error loading module '+name));return}
Promise.all(mod.deps.map(function(dep){if(externalRegistry[dep]||internalRegistry[dep]){return Promise.resolve()}
return load(dep)})).then(resolve,reject)})})}
var System={set:set,get:get,has:has,import:function(name){return new Promise(function(resolve,reject){var normalizedName=normalizeName(name,[]);var mod=get(normalizedName);return mod?resolve(mod):load(name).then(function(){return get(normalizedName)})})},register:function(name,deps,wrapper){if(Array.isArray(name)){anonymousEntry=[];anonymousEntry.push.apply(anonymousEntry,arguments);return}
var proxy=Object.create(null),values=Object.create(null),mod,meta;internalRegistry[name]=mod={proxy:proxy,values:values,deps:deps.map(function(dep){return normalizeName(dep,name.split('/').slice(0,-1))}),dependants:[],update:function(moduleName,moduleObj){meta.setters[mod.deps.indexOf(moduleName)](moduleObj)},execute:function(){mod.deps.map(function(dep){var imports=externalRegistry[dep];if(imports){mod.update(dep,imports)}else{imports=get(dep)&&internalRegistry[dep].values;if(imports){internalRegistry[dep].dependants.push(name);mod.update(dep,imports)}}});meta.execute()}};meta=wrapper(function(identifier,value){values[identifier]=value;mod.lock=!0;mod.dependants.forEach(function(moduleName){if(internalRegistry[moduleName]&&!internalRegistry[moduleName].lock){internalRegistry[moduleName].update(name,values)}});mod.lock=!1;if(!Object.getOwnPropertyDescriptor(proxy,identifier)){Object.defineProperty(proxy,identifier,{enumerable:!0,get:function(){return values[identifier]}})}
return value})}};exports.System=System})(window);(function(global,factory){"use strict"
var m=factory(global)
if(typeof module==="object"&&module!=null&&module.exports){module.exports=m}else if(typeof define==="function"&&define.amd){define(function(){return m})}else{global.m=m}})(typeof window!=="undefined"?window:this,function(global,undefined){"use strict"
m.version=function(){return"v0.2.5"}
var hasOwn={}.hasOwnProperty
var type={}.toString
function isFunction(object){return typeof object==="function"}
function isObject(object){return type.call(object)==="[object Object]"}
function isString(object){return type.call(object)==="[object String]"}
var isArray=Array.isArray||function(object){return type.call(object)==="[object Array]"}
function noop(){}
var voidElements={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1}
var $document,$location,$requestAnimationFrame,$cancelAnimationFrame
function initialize(mock){$document=mock.document
$location=mock.location
$cancelAnimationFrame=mock.cancelAnimationFrame||mock.clearTimeout
$requestAnimationFrame=mock.requestAnimationFrame||mock.setTimeout}
m.deps=function(mock){initialize(global=mock||window)
return global}
m.deps(global)
function parseTagAttrs(cell,tag){var classes=[]
var parser=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g
var match
while((match=parser.exec(tag))){if(match[1]===""&&match[2]){cell.tag=match[2]}else if(match[1]==="#"){cell.attrs.id=match[2]}else if(match[1]==="."){classes.push(match[2])}else if(match[3][0]==="["){var pair=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(match[3])
cell.attrs[pair[1]]=pair[3]||""}}
return classes}
function getVirtualChildren(args,hasAttrs){var children=hasAttrs?args.slice(1):args
if(children.length===1&&isArray(children[0])){return children[0]}else{return children}}
function assignAttrs(target,attrs,classes){var classAttr="class" in attrs?"class":"className"
for(var attrName in attrs){if(hasOwn.call(attrs,attrName)){if(attrName===classAttr&&attrs[attrName]!=null&&attrs[attrName]!==""){classes.push(attrs[attrName])
target[attrName]=""}else{target[attrName]=attrs[attrName]}}}
if(classes.length)target[classAttr]=classes.join(" ")}
function m(tag,pairs){var args=[]
for(var i=1,length=arguments.length;i<length;i++){args[i-1]=arguments[i]}
if(isObject(tag))return parameterize(tag,args)
if(!isString(tag)){throw new Error("selector in m(selector, attrs, children) should "+"be a string")}
var hasAttrs=pairs!=null&&isObject(pairs)&&!("tag" in pairs||"view" in pairs||"subtree" in pairs)
var attrs=hasAttrs?pairs:{}
var cell={tag:"div",attrs:{},children:getVirtualChildren(args,hasAttrs)}
assignAttrs(cell.attrs,attrs,parseTagAttrs(cell,tag))
return cell}
function forEach(list,f){for(var i=0;i<list.length&&!f(list[i],i++);){}}
function forKeys(list,f){forEach(list,function(attrs,i){return(attrs=attrs&&attrs.attrs)&&attrs.key!=null&&f(attrs,i)})}
function dataToString(data){try{if(data!=null&&data.toString()!=null)return data}catch(e){}
return""}
function injectTextNode(parentElement,first,index,data){try{insertNode(parentElement,first,index)
first.nodeValue=data}catch(e){}}
function flatten(list){for(var i=0;i<list.length;i++){if(isArray(list[i])){list=list.concat.apply([],list)
i--}}
return list}
function insertNode(parentElement,node,index){parentElement.insertBefore(node,parentElement.childNodes[index]||null)}
var DELETION=1
var INSERTION=2
var MOVE=3
function handleKeysDiffer(data,existing,cached,parentElement){forKeys(data,function(key,i){existing[key=key.key]=existing[key]?{action:MOVE,index:i,from:existing[key].index,element:cached.nodes[existing[key].index]||$document.createElement("div")}:{action:INSERTION,index:i}})
var actions=[]
for(var prop in existing){if(hasOwn.call(existing,prop)){actions.push(existing[prop])}}
var changes=actions.sort(sortChanges)
var newCached=new Array(cached.length)
newCached.nodes=cached.nodes.slice()
forEach(changes,function(change){var index=change.index
if(change.action===DELETION){clear(cached[index].nodes,cached[index])
newCached.splice(index,1)}
if(change.action===INSERTION){var dummy=$document.createElement("div")
dummy.key=data[index].attrs.key
insertNode(parentElement,dummy,index)
newCached.splice(index,0,{attrs:{key:data[index].attrs.key},nodes:[dummy]})
newCached.nodes[index]=dummy}
if(change.action===MOVE){var changeElement=change.element
var maybeChanged=parentElement.childNodes[index]
if(maybeChanged!==changeElement&&changeElement!==null){parentElement.insertBefore(changeElement,maybeChanged||null)}
newCached[index]=cached[change.from]
newCached.nodes[index]=changeElement}})
return newCached}
function diffKeys(data,cached,existing,parentElement){var keysDiffer=data.length!==cached.length
if(!keysDiffer){forKeys(data,function(attrs,i){var cachedCell=cached[i]
return keysDiffer=cachedCell&&cachedCell.attrs&&cachedCell.attrs.key!==attrs.key})}
if(keysDiffer){return handleKeysDiffer(data,existing,cached,parentElement)}else{return cached}}
function diffArray(data,cached,nodes){forEach(data,function(_,i){if(cached[i]!=null)nodes.push.apply(nodes,cached[i].nodes)})
forEach(cached.nodes,function(node,i){if(node.parentNode!=null&&nodes.indexOf(node)<0){clear([node],[cached[i]])}})
if(data.length<cached.length)cached.length=data.length
cached.nodes=nodes}
function buildArrayKeys(data){var guid=0
forKeys(data,function(){forEach(data,function(attrs){if((attrs=attrs&&attrs.attrs)&&attrs.key==null){attrs.key="__mithril__"+guid++}})
return 1})}
function isDifferentEnough(data,cached,dataAttrKeys){if(data.tag!==cached.tag)return!0
if(dataAttrKeys.sort().join()!==Object.keys(cached.attrs).sort().join()){return!0}
if(data.attrs.id!==cached.attrs.id){return!0}
if(data.attrs.key!==cached.attrs.key){return!0}
if(m.redraw.strategy()==="all"){return!cached.configContext||cached.configContext.retain!==!0}
if(m.redraw.strategy()==="diff"){return cached.configContext&&cached.configContext.retain===!1}
return!1}
function maybeRecreateObject(data,cached,dataAttrKeys){if(isDifferentEnough(data,cached,dataAttrKeys)){if(cached.nodes.length)clear(cached.nodes)
if(cached.configContext&&isFunction(cached.configContext.onunload)){cached.configContext.onunload()}
if(cached.controllers){forEach(cached.controllers,function(controller){if(controller.onunload){controller.onunload({preventDefault:noop})}})}}}
function getObjectNamespace(data,namespace){if(data.attrs.xmlns)return data.attrs.xmlns
if(data.tag==="svg")return"http://www.w3.org/2000/svg"
if(data.tag==="math")return"http://www.w3.org/1998/Math/MathML"
return namespace}
var pendingRequests=0
m.startComputation=function(){pendingRequests++}
m.endComputation=function(){if(pendingRequests>1){pendingRequests--}else{pendingRequests=0
m.redraw()}}
function unloadCachedControllers(cached,views,controllers){if(controllers.length){cached.views=views
cached.controllers=controllers
forEach(controllers,function(controller){if(controller.onunload&&controller.onunload.$old){controller.onunload=controller.onunload.$old}
if(pendingRequests&&controller.onunload){var onunload=controller.onunload
controller.onunload=noop
controller.onunload.$old=onunload}})}}
function scheduleConfigsToBeCalled(configs,data,node,isNew,cached){if(isFunction(data.attrs.config)){var context=cached.configContext=cached.configContext||{}
configs.push(function(){return data.attrs.config.call(data,node,!isNew,context,cached)})}}
function buildUpdatedNode(cached,data,editable,hasKeys,namespace,views,configs,controllers){var node=cached.nodes[0]
if(hasKeys){setAttributes(node,data.tag,data.attrs,cached.attrs,namespace)}
cached.children=build(node,data.tag,undefined,undefined,data.children,cached.children,!1,0,data.attrs.contenteditable?node:editable,namespace,configs)
cached.nodes.intact=!0
if(controllers.length){cached.views=views
cached.controllers=controllers}
return node}
function handleNonexistentNodes(data,parentElement,index){var nodes
if(data.$trusted){nodes=injectHTML(parentElement,index,data)}else{nodes=[$document.createTextNode(data)]
if(!(parentElement.nodeName in voidElements)){insertNode(parentElement,nodes[0],index)}}
var cached
if(typeof data==="string"||typeof data==="number"||typeof data==="boolean"){cached=new data.constructor(data)}else{cached=data}
cached.nodes=nodes
return cached}
function reattachNodes(data,cached,parentElement,editable,index,parentTag){var nodes=cached.nodes
if(!editable||editable!==$document.activeElement){if(data.$trusted){clear(nodes,cached)
nodes=injectHTML(parentElement,index,data)}else if(parentTag==="textarea"){parentElement.value=data}else if(editable){editable.innerHTML=data}else{if(nodes[0].nodeType===1||nodes.length>1||(nodes[0].nodeValue.trim&&!nodes[0].nodeValue.trim())){clear(cached.nodes,cached)
nodes=[$document.createTextNode(data)]}
injectTextNode(parentElement,nodes[0],index,data)}}
cached=new data.constructor(data)
cached.nodes=nodes
return cached}
function handleTextNode(cached,data,index,parentElement,shouldReattach,editable,parentTag){if(!cached.nodes.length){return handleNonexistentNodes(data,parentElement,index)}else if(cached.valueOf()!==data.valueOf()||shouldReattach){return reattachNodes(data,cached,parentElement,editable,index,parentTag)}else{return(cached.nodes.intact=!0,cached)}}
function getSubArrayCount(item){if(item.$trusted){var match=item.match(/<[^\/]|\>\s*[^<]/g)
if(match!=null)return match.length}else if(isArray(item)){return item.length}
return 1}
function buildArray(data,cached,parentElement,index,parentTag,shouldReattach,editable,namespace,configs){data=flatten(data)
var nodes=[]
var intact=cached.length===data.length
var subArrayCount=0
var existing={}
var shouldMaintainIdentities=!1
forKeys(cached,function(attrs,i){shouldMaintainIdentities=!0
existing[cached[i].attrs.key]={action:DELETION,index:i}})
buildArrayKeys(data)
if(shouldMaintainIdentities){cached=diffKeys(data,cached,existing,parentElement)}
var cacheCount=0
for(var i=0,len=data.length;i<len;i++){var item=build(parentElement,parentTag,cached,index,data[i],cached[cacheCount],shouldReattach,index+subArrayCount||subArrayCount,editable,namespace,configs)
if(item!==undefined){intact=intact&&item.nodes.intact
subArrayCount+=getSubArrayCount(item)
cached[cacheCount++]=item}}
if(!intact)diffArray(data,cached,nodes)
return cached}
function makeCache(data,cached,index,parentIndex,parentCache){if(cached!=null){if(type.call(cached)===type.call(data))return cached
if(parentCache&&parentCache.nodes){var offset=index-parentIndex
var end=offset+(isArray(data)?data:cached.nodes).length
clear(parentCache.nodes.slice(offset,end),parentCache.slice(offset,end))}else if(cached.nodes){clear(cached.nodes,cached)}}
cached=new data.constructor()
if(cached.tag)cached={}
cached.nodes=[]
return cached}
function constructNode(data,namespace){if(data.attrs.is){if(namespace==null){return $document.createElement(data.tag,data.attrs.is)}else{return $document.createElementNS(namespace,data.tag,data.attrs.is)}}else if(namespace==null){return $document.createElement(data.tag)}else{return $document.createElementNS(namespace,data.tag)}}
function constructAttrs(data,node,namespace,hasKeys){if(hasKeys){return setAttributes(node,data.tag,data.attrs,{},namespace)}else{return data.attrs}}
function constructChildren(data,node,cached,editable,namespace,configs){if(data.children!=null&&data.children.length>0){return build(node,data.tag,undefined,undefined,data.children,cached.children,!0,0,data.attrs.contenteditable?node:editable,namespace,configs)}else{return data.children}}
function reconstructCached(data,attrs,children,node,namespace,views,controllers){var cached={tag:data.tag,attrs:attrs,children:children,nodes:[node]}
unloadCachedControllers(cached,views,controllers)
if(cached.children&&!cached.children.nodes){cached.children.nodes=[]}
if(data.tag==="select"&&"value" in data.attrs){setAttributes(node,data.tag,{value:data.attrs.value},{},namespace)}
return cached}
function getController(views,view,cachedControllers,controller){var controllerIndex
if(m.redraw.strategy()==="diff"&&views){controllerIndex=views.indexOf(view)}else{controllerIndex=-1}
if(controllerIndex>-1){return cachedControllers[controllerIndex]}else if(isFunction(controller)){return new controller()}else{return{}}}
var unloaders=[]
function updateLists(views,controllers,view,controller){if(controller.onunload!=null&&unloaders.map(function(u){return u.handler}).indexOf(controller.onunload)<0){unloaders.push({controller:controller,handler:controller.onunload})}
views.push(view)
controllers.push(controller)}
var forcing=!1
function checkView(data,view,cached,cachedControllers,controllers,views){var controller=getController(cached.views,view,cachedControllers,data.controller)
var key=data&&data.attrs&&data.attrs.key
if(pendingRequests===0||forcing||cachedControllers&&cachedControllers.indexOf(controller)>-1){data=data.view(controller)}else{data={tag:"placeholder"}}
if(data.subtree==="retain")return data
data.attrs=data.attrs||{}
data.attrs.key=key
updateLists(views,controllers,view,controller)
return data}
function markViews(data,cached,views,controllers){var cachedControllers=cached&&cached.controllers
while(data.view!=null){data=checkView(data,data.view.$original||data.view,cached,cachedControllers,controllers,views)}
return data}
function buildObject(data,cached,editable,parentElement,index,shouldReattach,namespace,configs){var views=[]
var controllers=[]
data=markViews(data,cached,views,controllers)
if(data.subtree==="retain")return cached
if(!data.tag&&controllers.length){throw new Error("Component template must return a virtual "+"element, not an array, string, etc.")}
data.attrs=data.attrs||{}
cached.attrs=cached.attrs||{}
var dataAttrKeys=Object.keys(data.attrs)
var hasKeys=dataAttrKeys.length>("key" in data.attrs?1:0)
maybeRecreateObject(data,cached,dataAttrKeys)
if(!isString(data.tag))return
var isNew=cached.nodes.length===0
namespace=getObjectNamespace(data,namespace)
var node
if(isNew){node=constructNode(data,namespace)
var attrs=constructAttrs(data,node,namespace,hasKeys)
insertNode(parentElement,node,index)
var children=constructChildren(data,node,cached,editable,namespace,configs)
cached=reconstructCached(data,attrs,children,node,namespace,views,controllers)}else{node=buildUpdatedNode(cached,data,editable,hasKeys,namespace,views,configs,controllers)}
if(!isNew&&shouldReattach===!0&&node!=null){insertNode(parentElement,node,index)}
scheduleConfigsToBeCalled(configs,data,node,isNew,cached)
return cached}
function build(parentElement,parentTag,parentCache,parentIndex,data,cached,shouldReattach,index,editable,namespace,configs){data=dataToString(data)
if(data.subtree==="retain")return cached
cached=makeCache(data,cached,index,parentIndex,parentCache)
if(isArray(data)){return buildArray(data,cached,parentElement,index,parentTag,shouldReattach,editable,namespace,configs)}else if(data!=null&&isObject(data)){return buildObject(data,cached,editable,parentElement,index,shouldReattach,namespace,configs)}else if(!isFunction(data)){return handleTextNode(cached,data,index,parentElement,shouldReattach,editable,parentTag)}else{return cached}}
function sortChanges(a,b){return a.action-b.action||a.index-b.index}
function copyStyleAttrs(node,dataAttr,cachedAttr){for(var rule in dataAttr){if(hasOwn.call(dataAttr,rule)){if(cachedAttr==null||cachedAttr[rule]!==dataAttr[rule]){node.style[rule]=dataAttr[rule]}}}
for(rule in cachedAttr){if(hasOwn.call(cachedAttr,rule)){if(!hasOwn.call(dataAttr,rule))node.style[rule]=""}}}
var shouldUseSetAttribute={list:1,style:1,form:1,type:1,width:1,height:1}
function setSingleAttr(node,attrName,dataAttr,cachedAttr,tag,namespace){if(attrName==="config"||attrName==="key"){return!0}else if(isFunction(dataAttr)&&attrName.slice(0,2)==="on"){node[attrName]=autoredraw(dataAttr,node)}else if(attrName==="style"&&dataAttr!=null&&isObject(dataAttr)){copyStyleAttrs(node,dataAttr,cachedAttr)}else if(namespace!=null){if(attrName==="href"){node.setAttributeNS("http://www.w3.org/1999/xlink","href",dataAttr)}else{node.setAttribute(attrName==="className"?"class":attrName,dataAttr)}}else if(attrName in node&&!shouldUseSetAttribute[attrName]){try{if(tag!=="input"||node[attrName]!==dataAttr){node[attrName]=dataAttr}}catch(e){node.setAttribute(attrName,dataAttr)}}else node.setAttribute(attrName,dataAttr)}
function trySetAttr(node,attrName,dataAttr,cachedAttr,cachedAttrs,tag,namespace){if(!(attrName in cachedAttrs)||(cachedAttr!==dataAttr)||($document.activeElement===node)){cachedAttrs[attrName]=dataAttr
try{return setSingleAttr(node,attrName,dataAttr,cachedAttr,tag,namespace)}catch(e){if(e.message.indexOf("Invalid argument")<0)throw e}}else if(attrName==="value"&&tag==="input"&&node.value!==dataAttr){node.value=dataAttr}}
function setAttributes(node,tag,dataAttrs,cachedAttrs,namespace){for(var attrName in dataAttrs){if(hasOwn.call(dataAttrs,attrName)){if(trySetAttr(node,attrName,dataAttrs[attrName],cachedAttrs[attrName],cachedAttrs,tag,namespace)){continue}}}
return cachedAttrs}
function clear(nodes,cached){for(var i=nodes.length-1;i>-1;i--){if(nodes[i]&&nodes[i].parentNode){try{nodes[i].parentNode.removeChild(nodes[i])}catch(e){}
cached=[].concat(cached)
if(cached[i])unload(cached[i])}}
if(nodes.length){nodes.length=0}}
function unload(cached){if(cached.configContext&&isFunction(cached.configContext.onunload)){cached.configContext.onunload()
cached.configContext.onunload=null}
if(cached.controllers){forEach(cached.controllers,function(controller){if(isFunction(controller.onunload)){controller.onunload({preventDefault:noop})}})}
if(cached.children){if(isArray(cached.children))forEach(cached.children,unload)
else if(cached.children.tag)unload(cached.children)}}
function appendTextFragment(parentElement,data){try{parentElement.appendChild($document.createRange().createContextualFragment(data))}catch(e){parentElement.insertAdjacentHTML("beforeend",data)
replaceScriptNodes(parentElement)}}
function replaceScriptNodes(node){if(node.tagName==="SCRIPT"){node.parentNode.replaceChild(buildExecutableNode(node),node)}else{var children=node.childNodes
if(children&&children.length){for(var i=0;i<children.length;i++){replaceScriptNodes(children[i])}}}
return node}
function buildExecutableNode(node){var scriptEl=document.createElement("script")
var attrs=node.attributes
for(var i=0;i<attrs.length;i++){scriptEl.setAttribute(attrs[i].name,attrs[i].value)}
scriptEl.text=node.innerHTML
return scriptEl}
function injectHTML(parentElement,index,data){var nextSibling=parentElement.childNodes[index]
if(nextSibling){var isElement=nextSibling.nodeType!==1
var placeholder=$document.createElement("span")
if(isElement){parentElement.insertBefore(placeholder,nextSibling||null)
placeholder.insertAdjacentHTML("beforebegin",data)
parentElement.removeChild(placeholder)}else{nextSibling.insertAdjacentHTML("beforebegin",data)}}else{appendTextFragment(parentElement,data)}
var nodes=[]
while(parentElement.childNodes[index]!==nextSibling){nodes.push(parentElement.childNodes[index])
index++}
return nodes}
function autoredraw(callback,object){return function(e){e=e||event
m.redraw.strategy("diff")
m.startComputation()
try{return callback.call(object,e)}finally{endFirstComputation()}}}
var html
var documentNode={appendChild:function(node){if(html===undefined)html=$document.createElement("html")
if($document.documentElement&&$document.documentElement!==node){$document.replaceChild(node,$document.documentElement)}else{$document.appendChild(node)}
this.childNodes=$document.childNodes},insertBefore:function(node){this.appendChild(node)},childNodes:[]}
var nodeCache=[]
var cellCache={}
m.render=function(root,cell,forceRecreation){if(!root){throw new Error("Ensure the DOM element being passed to "+"m.route/m.mount/m.render is not undefined.")}
var configs=[]
var id=getCellCacheKey(root)
var isDocumentRoot=root===$document
var node
if(isDocumentRoot||root===$document.documentElement){node=documentNode}else{node=root}
if(isDocumentRoot&&cell.tag!=="html"){cell={tag:"html",attrs:{},children:cell}}
if(cellCache[id]===undefined)clear(node.childNodes)
if(forceRecreation===!0)reset(root)
cellCache[id]=build(node,null,undefined,undefined,cell,cellCache[id],!1,0,null,undefined,configs)
forEach(configs,function(config){config()})}
function getCellCacheKey(element){var index=nodeCache.indexOf(element)
return index<0?nodeCache.push(element)-1:index}
m.trust=function(value){value=new String(value)
value.$trusted=!0
return value}
function gettersetter(store){function prop(){if(arguments.length)store=arguments[0]
return store}
prop.toJSON=function(){return store}
return prop}
m.prop=function(store){if((store!=null&&(isObject(store)||isFunction(store))||((typeof Promise!=="undefined")&&(store instanceof Promise)))&&isFunction(store.then)){return propify(store)}
return gettersetter(store)}
var roots=[]
var components=[]
var controllers=[]
var lastRedrawId=null
var lastRedrawCallTime=0
var computePreRedrawHook=null
var computePostRedrawHook=null
var topComponent
var FRAME_BUDGET=16
function parameterize(component,args){function controller(){return(component.controller||noop).apply(this,args)||this}
if(component.controller){controller.prototype=component.controller.prototype}
function view(ctrl){var currentArgs=[ctrl].concat(args)
for(var i=1;i<arguments.length;i++){currentArgs.push(arguments[i])}
return component.view.apply(component,currentArgs)}
view.$original=component.view
var output={controller:controller,view:view}
if(args[0]&&args[0].key!=null)output.attrs={key:args[0].key}
return output}
m.component=function(component){var args=new Array(arguments.length-1)
for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}
return parameterize(component,args)}
function checkPrevented(component,root,index,isPrevented){if(!isPrevented){m.redraw.strategy("all")
m.startComputation()
roots[index]=root
var currentComponent
if(component){currentComponent=topComponent=component}else{currentComponent=topComponent=component={controller:noop}}
var controller=new(component.controller||noop)()
if(currentComponent===topComponent){controllers[index]=controller
components[index]=component}
endFirstComputation()
if(component===null){removeRootElement(root,index)}
return controllers[index]}else if(component==null){removeRootElement(root,index)}}
m.mount=m.module=function(root,component){if(!root){throw new Error("Please ensure the DOM element exists before "+"rendering a template into it.")}
var index=roots.indexOf(root)
if(index<0)index=roots.length
var isPrevented=!1
var event={preventDefault:function(){isPrevented=!0
computePreRedrawHook=computePostRedrawHook=null}}
forEach(unloaders,function(unloader){unloader.handler.call(unloader.controller,event)
unloader.controller.onunload=null})
if(isPrevented){forEach(unloaders,function(unloader){unloader.controller.onunload=unloader.handler})}else{unloaders=[]}
if(controllers[index]&&isFunction(controllers[index].onunload)){controllers[index].onunload(event)}
return checkPrevented(component,root,index,isPrevented)}
function removeRootElement(root,index){roots.splice(index,1)
controllers.splice(index,1)
components.splice(index,1)
reset(root)
nodeCache.splice(getCellCacheKey(root),1)}
var redrawing=!1
m.redraw=function(force){if(redrawing)return
redrawing=!0
if(force)forcing=!0
try{if(lastRedrawId&&!force){if($requestAnimationFrame===global.requestAnimationFrame||new Date()-lastRedrawCallTime>FRAME_BUDGET){if(lastRedrawId>0)$cancelAnimationFrame(lastRedrawId)
lastRedrawId=$requestAnimationFrame(redraw,FRAME_BUDGET)}}else{redraw()
lastRedrawId=$requestAnimationFrame(function(){lastRedrawId=null},FRAME_BUDGET)}}finally{redrawing=forcing=!1}}
m.redraw.strategy=m.prop()
function redraw(){if(computePreRedrawHook){computePreRedrawHook()
computePreRedrawHook=null}
forEach(roots,function(root,i){var component=components[i]
if(controllers[i]){var args=[controllers[i]]
m.render(root,component.view?component.view(controllers[i],args):"")}})
if(computePostRedrawHook){computePostRedrawHook()
computePostRedrawHook=null}
lastRedrawId=null
lastRedrawCallTime=new Date()
m.redraw.strategy("diff")}
function endFirstComputation(){if(m.redraw.strategy()==="none"){pendingRequests--
m.redraw.strategy("diff")}else{m.endComputation()}}
m.withAttr=function(prop,withAttrCallback,callbackThis){return function(e){e=e||window.event
var currentTarget=e.currentTarget||this
var _this=callbackThis||this
var target=prop in currentTarget?currentTarget[prop]:currentTarget.getAttribute(prop)
withAttrCallback.call(_this,target)}}
var modes={pathname:"",hash:"#",search:"?"}
var redirect=noop
var isDefaultRoute=!1
var routeParams,currentRoute
m.route=function(root,arg1,arg2,vdom){if(arguments.length===0)return currentRoute
if(arguments.length===3&&isString(arg1)){redirect=function(source){var path=currentRoute=normalizeRoute(source)
if(!routeByValue(root,arg2,path)){if(isDefaultRoute){throw new Error("Ensure the default route matches "+"one of the routes defined in m.route")}
isDefaultRoute=!0
m.route(arg1,!0)
isDefaultRoute=!1}}
var listener=m.route.mode==="hash"?"onhashchange":"onpopstate"
global[listener]=function(){var path=$location[m.route.mode]
if(m.route.mode==="pathname")path+=$location.search
if(currentRoute!==normalizeRoute(path))redirect(path)}
computePreRedrawHook=setScroll
global[listener]()
return}
if(root.addEventListener||root.attachEvent){var base=m.route.mode!=="pathname"?$location.pathname:""
root.href=base+modes[m.route.mode]+vdom.attrs.href
if(root.addEventListener){root.removeEventListener("click",routeUnobtrusive)
root.addEventListener("click",routeUnobtrusive)}else{root.detachEvent("onclick",routeUnobtrusive)
root.attachEvent("onclick",routeUnobtrusive)}
return}
if(isString(root)){var oldRoute=currentRoute
currentRoute=root
var args=arg1||{}
var queryIndex=currentRoute.indexOf("?")
var params
if(queryIndex>-1){params=parseQueryString(currentRoute.slice(queryIndex+1))}else{params={}}
for(var i in args){if(hasOwn.call(args,i)){params[i]=args[i]}}
var querystring=buildQueryString(params)
var currentPath
if(queryIndex>-1){currentPath=currentRoute.slice(0,queryIndex)}else{currentPath=currentRoute}
if(querystring){currentRoute=currentPath+(currentPath.indexOf("?")===-1?"?":"&")+querystring}
var replaceHistory=(arguments.length===3?arg2:arg1)===!0||oldRoute===root
if(global.history.pushState){var method=replaceHistory?"replaceState":"pushState"
computePreRedrawHook=setScroll
computePostRedrawHook=function(){try{global.history[method](null,$document.title,modes[m.route.mode]+currentRoute)}catch(err){$location[m.route.mode]=currentRoute}}
redirect(modes[m.route.mode]+currentRoute)}else{$location[m.route.mode]=currentRoute
redirect(modes[m.route.mode]+currentRoute)}}}
m.route.param=function(key){if(!routeParams){throw new Error("You must call m.route(element, defaultRoute, "+"routes) before calling m.route.param()")}
if(!key){return routeParams}
return routeParams[key]}
m.route.mode="search"
function normalizeRoute(route){return route.slice(modes[m.route.mode].length)}
function routeByValue(root,router,path){routeParams={}
var queryStart=path.indexOf("?")
if(queryStart!==-1){routeParams=parseQueryString(path.substr(queryStart+1,path.length))
path=path.substr(0,queryStart)}
var keys=Object.keys(router)
var index=keys.indexOf(path)
if(index!==-1){m.mount(root,router[keys[index]])
return!0}
for(var route in router){if(hasOwn.call(router,route)){if(route===path){m.mount(root,router[route])
return!0}
var matcher=new RegExp("^"+route.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"\/?$")
if(matcher.test(path)){path.replace(matcher,function(){var keys=route.match(/:[^\/]+/g)||[]
var values=[].slice.call(arguments,1,-2)
forEach(keys,function(key,i){routeParams[key.replace(/:|\./g,"")]=decodeURIComponent(values[i])})
m.mount(root,router[route])})
return!0}}}}
function routeUnobtrusive(e){e=e||event
if(e.ctrlKey||e.metaKey||e.shiftKey||e.which===2)return
if(e.preventDefault){e.preventDefault()}else{e.returnValue=!1}
var currentTarget=e.currentTarget||e.srcElement
var args
if(m.route.mode==="pathname"&&currentTarget.search){args=parseQueryString(currentTarget.search.slice(1))}else{args={}}
while(currentTarget&&!/a/i.test(currentTarget.nodeName)){currentTarget=currentTarget.parentNode}
pendingRequests=0
m.route(currentTarget[m.route.mode].slice(modes[m.route.mode].length),args)}
function setScroll(){if(m.route.mode!=="hash"&&$location.hash){$location.hash=$location.hash}else{global.scrollTo(0,0)}}
function buildQueryString(object,prefix){var duplicates={}
var str=[]
for(var prop in object){if(hasOwn.call(object,prop)){var key=prefix?prefix+"["+prop+"]":prop
var value=object[prop]
if(value===null){str.push(encodeURIComponent(key))}else if(isObject(value)){str.push(buildQueryString(value,key))}else if(isArray(value)){var keys=[]
duplicates[key]=duplicates[key]||{}
forEach(value,function(item){if(!duplicates[key][item]){duplicates[key][item]=!0
keys.push(encodeURIComponent(key)+"="+encodeURIComponent(item))}})
str.push(keys.join("&"))}else if(value!==undefined){str.push(encodeURIComponent(key)+"="+encodeURIComponent(value))}}}
return str.join("&")}
function parseQueryString(str){if(str===""||str==null)return{}
if(str.charAt(0)==="?")str=str.slice(1)
var pairs=str.split("&")
var params={}
forEach(pairs,function(string){var pair=string.split("=")
var key=decodeURIComponent(pair[0])
var value=pair.length===2?decodeURIComponent(pair[1]):null
if(params[key]!=null){if(!isArray(params[key]))params[key]=[params[key]]
params[key].push(value)}else params[key]=value})
return params}
m.route.buildQueryString=buildQueryString
m.route.parseQueryString=parseQueryString
function reset(root){var cacheKey=getCellCacheKey(root)
clear(root.childNodes,cellCache[cacheKey])
cellCache[cacheKey]=undefined}
m.deferred=function(){var deferred=new Deferred()
deferred.promise=propify(deferred.promise)
return deferred}
function propify(promise,initialValue){var prop=m.prop(initialValue)
promise.then(prop)
prop.then=function(resolve,reject){return propify(promise.then(resolve,reject),initialValue)}
prop.catch=prop.then.bind(null,null)
return prop}
var RESOLVING=1
var REJECTING=2
var RESOLVED=3
var REJECTED=4
function Deferred(onSuccess,onFailure){var self=this
var state=0
var promiseValue=0
var next=[]
self.promise={}
self.resolve=function(value){if(!state){promiseValue=value
state=RESOLVING
fire()}
return self}
self.reject=function(value){if(!state){promiseValue=value
state=REJECTING
fire()}
return self}
self.promise.then=function(onSuccess,onFailure){var deferred=new Deferred(onSuccess,onFailure)
if(state===RESOLVED){deferred.resolve(promiseValue)}else if(state===REJECTED){deferred.reject(promiseValue)}else{next.push(deferred)}
return deferred.promise}
function finish(type){state=type||REJECTED
next.map(function(deferred){if(state===RESOLVED){deferred.resolve(promiseValue)}else{deferred.reject(promiseValue)}})}
function thennable(then,success,failure,notThennable){if(((promiseValue!=null&&isObject(promiseValue))||isFunction(promiseValue))&&isFunction(then)){try{var count=0
then.call(promiseValue,function(value){if(count++)return
promiseValue=value
success()},function(value){if(count++)return
promiseValue=value
failure()})}catch(e){m.deferred.onerror(e)
promiseValue=e
failure()}}else{notThennable()}}
function fire(){var then
try{then=promiseValue&&promiseValue.then}catch(e){m.deferred.onerror(e)
promiseValue=e
state=REJECTING
return fire()}
if(state===REJECTING){m.deferred.onerror(promiseValue)}
thennable(then,function(){state=RESOLVING
fire()},function(){state=REJECTING
fire()},function(){try{if(state===RESOLVING&&isFunction(onSuccess)){promiseValue=onSuccess(promiseValue)}else if(state===REJECTING&&isFunction(onFailure)){promiseValue=onFailure(promiseValue)
state=RESOLVING}}catch(e){m.deferred.onerror(e)
promiseValue=e
return finish()}
if(promiseValue===self){promiseValue=TypeError()
finish()}else{thennable(then,function(){finish(RESOLVED)},finish,function(){finish(state===RESOLVING&&RESOLVED)})}})}}
m.deferred.onerror=function(e){if(type.call(e)==="[object Error]"&&!/ Error/.test(e.constructor.toString())){pendingRequests=0
throw e}}
m.sync=function(args){var deferred=m.deferred()
var outstanding=args.length
var results=[]
var method="resolve"
function synchronizer(pos,resolved){return function(value){results[pos]=value
if(!resolved)method="reject"
if(--outstanding===0){deferred.promise(results)
deferred[method](results)}
return value}}
if(args.length>0){forEach(args,function(arg,i){arg.then(synchronizer(i,!0),synchronizer(i,!1))})}else{deferred.resolve([])}
return deferred.promise}
function identity(value){return value}
function handleJsonp(options){var callbackKey=options.callbackName||"mithril_callback_"+new Date().getTime()+"_"+(Math.round(Math.random()*1e16)).toString(36)
var script=$document.createElement("script")
global[callbackKey]=function(resp){script.parentNode.removeChild(script)
options.onload({type:"load",target:{responseText:resp}})
global[callbackKey]=undefined}
script.onerror=function(){script.parentNode.removeChild(script)
options.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}})
global[callbackKey]=undefined
return!1}
script.onload=function(){return!1}
script.src=options.url+(options.url.indexOf("?")>0?"&":"?")+(options.callbackKey?options.callbackKey:"callback")+"="+callbackKey+"&"+buildQueryString(options.data||{})
$document.body.appendChild(script)}
function createXhr(options){var xhr=new global.XMLHttpRequest()
xhr.open(options.method,options.url,!0,options.user,options.password)
xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status>=200&&xhr.status<300){options.onload({type:"load",target:xhr})}else{options.onerror({type:"error",target:xhr})}}}
if(options.serialize===JSON.stringify&&options.data&&options.method!=="GET"){xhr.setRequestHeader("Content-Type","application/json; charset=utf-8")}
if(options.deserialize===JSON.parse){xhr.setRequestHeader("Accept","application/json, text/*")}
if(isFunction(options.config)){var maybeXhr=options.config(xhr,options)
if(maybeXhr!=null)xhr=maybeXhr}
var data=options.method==="GET"||!options.data?"":options.data
if(data&&!isString(data)&&data.constructor!==global.FormData){throw new Error("Request data should be either be a string or "+"FormData. Check the `serialize` option in `m.request`")}
xhr.send(data)
return xhr}
function ajax(options){if(options.dataType&&options.dataType.toLowerCase()==="jsonp"){return handleJsonp(options)}else{return createXhr(options)}}
function bindData(options,data,serialize){if(options.method==="GET"&&options.dataType!=="jsonp"){var prefix=options.url.indexOf("?")<0?"?":"&"
var querystring=buildQueryString(data)
options.url+=(querystring?prefix+querystring:"")}else{options.data=serialize(data)}}
function parameterizeUrl(url,data){if(data){url=url.replace(/:[a-z]\w+/gi,function(token){var key=token.slice(1)
var value=data[key]||token
delete data[key]
return value})}
return url}
m.request=function(options){if(options.background!==!0)m.startComputation()
var deferred=new Deferred()
var isJSONP=options.dataType&&options.dataType.toLowerCase()==="jsonp"
var serialize,deserialize,extract
if(isJSONP){serialize=options.serialize=deserialize=options.deserialize=identity
extract=function(jsonp){return jsonp.responseText}}else{serialize=options.serialize=options.serialize||JSON.stringify
deserialize=options.deserialize=options.deserialize||JSON.parse
extract=options.extract||function(xhr){if(xhr.responseText.length||deserialize!==JSON.parse){return xhr.responseText}else{return null}}}
options.method=(options.method||"GET").toUpperCase()
options.url=parameterizeUrl(options.url,options.data)
bindData(options,options.data,serialize)
options.onload=options.onerror=function(ev){try{ev=ev||event
var response=deserialize(extract(ev.target,options))
if(ev.type==="load"){if(options.unwrapSuccess){response=options.unwrapSuccess(response,ev.target)}
if(isArray(response)&&options.type){forEach(response,function(res,i){response[i]=new options.type(res)})}else if(options.type){response=new options.type(response)}
deferred.resolve(response)}else{if(options.unwrapError){response=options.unwrapError(response,ev.target)}
deferred.reject(response)}}catch(e){deferred.reject(e)
m.deferred.onerror(e)}finally{if(options.background!==!0)m.endComputation()}}
ajax(options)
deferred.promise=propify(deferred.promise,options.initialValue)
return deferred.promise}
return m});;(function _package(factory){if(typeof define==='function'&&define.amd){define(['mithril'],factory)}else if(typeof exports==='object'){module.exports=factory(require('mithril'))}else{factory(m)}}(function define(m){function bidi(node,prop){var type=node.tag==='select'?node.attrs.multi?'multi':'select':node.attrs.type
if(type==='multi'){node.attrs.onchange=function(){prop([].slice.call(this.selectedOptions,function(x){return x.value}))}}else if(type==='select'){node.attrs.onchange=function(e){prop(this.selectedOptions[0].value)}}else if(type==='checkbox'){node.attrs.onchange=function(e){prop(this.checked)}}else{node.attrs.onchange=node.attrs.oninput=function(e){prop(this.value)}}
if(node.tag==='select'){node.children.forEach(function(option){if(option.attrs.value===prop()||option.children[0]===prop()){option.attrs.selected=!0}})}else if(type==='checkbox'){node.attrs.checked=prop()}else if(type==='radio'){node.attrs.checked=prop()===node.attrs.value}else{node.attrs.value=prop()}
return node}
bidi.view=function(ctrl,node,prop){return bidi(node,node.attrs.bidi)}
if(m.attrs)m.attrs.bidi=bidi
m.bidi=bidi
return bidi}));(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,!0):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}
return factory(w)}}else{factory(global)}}(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?(num<0?this[num+this.length]:this[num]):slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}
if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}
if(i===length){target=this;i--}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=!1;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}
target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}
return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&(obj-parseFloat(obj)+1)>=0},isPlainObject:function(obj){if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return!1}
if(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return!1}
return!0},isEmptyObject:function(obj){var name;for(name in obj){return!1}
return!0},type:function(obj){if(obj==null){return obj+""}
return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===!1){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===!1){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===!1){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===!1){break}}}}
return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}
return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}
first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}
return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}
return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}
if(!jQuery.isFunction(fn)){return undefined}
args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length="length" in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return!1}
if(obj.nodeType===1&&length){return!0}
return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1)in obj}
var Sizzle=(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=!0}
return 0},MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}
return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-0x10000;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00)},unloadHandler=function(){setDocument()};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1}}}
function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}
context=context||document;results=results||[];nodeType=context.nodeType;if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}
if(!seed&&documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}
if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType!==1&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}
nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}
newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}
if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed)}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}
return(cache[key+" "]=value)}
return cache}
function markFunction(fn){fn[expando]=!0;return fn}
function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{if(div.parentNode){div.parentNode.removeChild(div)}
div=null}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1}}}
return a?1:-1}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}
function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":!1};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}
document=doc;docElem=doc.documentElement;parent=doc.defaultView;if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,!1)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}
documentIsHTML=!isXML(doc);support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find.ID=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find.ID;Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}
Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem)}}
return tmp}
return results};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(doc.querySelectorAll))){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}
if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}
if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}
if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}
if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}
if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}
div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return!0}}}
return!1};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=!0;return 0}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}
compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}
if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}
return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}
return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=!0;return 0}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}else if(aup===bup){return siblingCheck(a,b)}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur)}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur)}
while(ap[i]===bp[i]){i++}
return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}
expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}
return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}
return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i)}}
while(j--){results.splice(duplicates[j],1)}}
sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}
return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}
return match.slice(0,4)},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}
return match},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null}
if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}
return match.slice(0,3)}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}
if(!operator){return!0}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":!1}},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return!1}}
start=dir=type==="only"&&!start&&"nextSibling"}
return!0}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}
if(node===elem){break}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}
return fn}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return!1}}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},"root":function(elem){return elem===docElem},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},"enabled":function(elem){return elem.disabled===!1},"disabled":function(elem){return elem.disabled===!0},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}
return elem.selected===!0},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return!1}}
return!0},"parent":function(elem){return!Expr.pseudos.empty(elem)},"header":function(elem){return rheader.test(elem.nodeName)},"input":function(elem){return rinputs.test(elem.nodeName)},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},"first":createPositionalPseudo(function(){return[0]}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1]}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}
return matchIndexes}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}
return matchIndexes}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}
return matchIndexes}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}
return matchIndexes})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){Expr.pseudos[i]=createInputPseudo(i)}
for(i in{submit:!0,reset:!0}){Expr.pseudos[i]=createButtonPseudo(i)}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}
groups.push((tokens=[]))}
matched=!1;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}
if(!matched){break}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}
return selector}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return!0}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2])}else{outerCache[dir]=newCache;if((newCache[2]=matcher(elem,context,xml))){return!0}}}}}}}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return!1}}
return!0}:matchers[0]}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}
return results}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}
return newUnmatched}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}
postFinder(null,(matcherOut=[]),temp,xml)}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens))}
matchers.push(matcher)}}
return elementMatcher(matchers)}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context!==document&&context}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while((matcher=elementMatchers[j++])){if(matcher(elem,context,xml)){results.push(elem);break}}
if(outermost){dirruns=dirrunsUnique}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--}
if(seed){unmatched.push(elem)}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml)}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}
setMatched=condense(setMatched)}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}
return unmatched};return bySet?markFunction(superMatcher):superMatcher}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}
return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}
selector=selector.slice(tokens.shift().value.length)}
i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}
break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}
if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}
if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}
return Sizzle})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}
if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not})}
if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}
qualifier=jQuery.filter(qualifier,elements)}
return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>=0)!==not})}
jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}
return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return!0}}}))}
for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}
ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}
if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}
return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}
this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}
if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}
return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}
matched.push(elem)}}
return matched},sibling:function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}
return matched}});jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return!0}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}
return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}
if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}
return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}
return cur}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}
if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}
if(this.length>1){if(!guaranteedUnique[name]){jQuery.unique(matched)}
if(rparentsprev.test(name)){matched.reverse()}}
return this.pushStack(matched)}});var rnotwhite=(/\S+/g);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0});return object}
jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=!0;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=!0;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}}
firing=!1;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}
return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}
if(index<=firingIndex){firingIndex--}}}})}
return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}
return this},locked:function(){return!stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}
return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}
deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}
return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!(--remaining)){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}
if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}
return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(!0)}},ready:function(wait){if(wait===!0?--jQuery.readyWait:jQuery.isReady){return}
jQuery.isReady=!0;if(wait!==!0&&--jQuery.readyWait>0){return}
readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed,!1);window.removeEventListener("load",completed,!1);jQuery.ready()}
jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed,!1);window.addEventListener("load",completed,!1)}}
return readyList.promise(obj)};jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=!0;for(i in key){jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}}else if(value!==undefined){chainable=!0;if(!jQuery.isFunction(value)){raw=!0}
if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}
if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}
return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType)};function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=jQuery.expando+Data.uid++}
Data.uid=1;Data.accepts=jQuery.acceptData;Data.prototype={key:function(owner){if(!Data.accepts(owner)){return 0}
var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock};Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock;jQuery.extend(owner,descriptor)}}
if(!this.cache[unlock]){this.cache[unlock]={}}
return unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if(typeof data==="string"){cache[data]=value}else{if(jQuery.isEmptyObject(cache)){jQuery.extend(this.cache[unlock],data)}else{for(prop in data){cache[prop]=data[prop]}}}
return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){var stored;if(key===undefined||((key&&typeof key==="string")&&value===undefined)){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}
this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined){this.cache[unlock]={}}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:(name.match(rnotwhite)||[])}}
i=name.length;while(i--){delete cache[name[i]]}}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){if(owner[this.expando]){delete this.cache[owner[this.expando]]}}};var data_priv=new Data();var data_user=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?!0:data==="false"?!1:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}
data_user.set(elem,key,data)}else{data=undefined}}
return data}
jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=data_user.get(elem);if(elem.nodeType===1&&!data_priv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}
data_priv.set(elem,"hasDataAttrs",!0)}}
return data}
if(typeof key==="object"){return this.each(function(){data_user.set(this,key)})}
return access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&value===undefined){data=data_user.get(elem,key);if(data!==undefined){return data}
data=data_user.get(elem,camelKey);if(data!==undefined){return data}
data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}
return}
this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value);if(key.indexOf("-")!==-1&&data!==undefined){data_user.set(this,key,value)}})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=data_priv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=data_priv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}
return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}
if(fn){if(type==="fx"){queue.unshift("inprogress")}
delete hooks.stop;fn.call(elem,next,hooks)}
if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}
if(arguments.length<setter){return jQuery.queue(this[0],type)}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}
type=type||"fx";while(i--){tmp=data_priv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}
resolve();return defer.promise(obj)}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var rcheckableType=(/^(?:checkbox|radio)$/i);(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin" in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return!0}
function returnFalse(){return!1}
function safeActiveElement(){try{return document.activeElement}catch(err){}}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(!elemData){return}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}
if(!handler.guid){handler.guid=jQuery.guid++}
if(!(events=elemData.events)){events=elemData.events={}}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===!1){if(elem.addEventListener){elem.addEventListener(type,eventHandle,!1)}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}
jQuery.event.global[type]=!0}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(!elemData||!(events=elemData.events)){return}
types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,!0)}
continue}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}
if(special.remove){special.remove.call(elem,handleObj)}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===!1){jQuery.removeEvent(elem,type,elemData.handle)}
delete events[type]}}
if(jQuery.isEmptyObject(events)){delete elemData.handle;data_priv.remove(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}
if(rfocusMorph.test(type+jQuery.event.triggered)){return}
if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===!1){return}
if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle");if(handle){handle.apply(cur,data)}
handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===!1){event.preventDefault()}}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===!1)&&jQuery.acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}
jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}
return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===!1){return}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===!1){event.preventDefault();event.stopPropagation()}}}}}
if(special.postDispatch){special.postDispatch.call(this,event)}
return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!==this;cur=cur.parentNode||this){if(cur.disabled!==!0||event.type!=="click"){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}
if(matches[sel]){matches.push(handleObj)}}
if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}
if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}
return handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}
return event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}
if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}
return event}},fix:function(event){if(event[jQuery.expando]){return event}
var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}
copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}
if(!event.target){event.target=document}
if(event.target.nodeType===3){event.target=event.target.parentNode}
return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return!1}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return!1}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return!1}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:!0,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}
if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,!1)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===!1?returnTrue:returnFalse}else{this.type=src}
if(props){jQuery.extend(this,props)}
this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=!0};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}
this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}
return ret}}});if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,!0)}
data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,!0);data_priv.remove(doc,fix)}else{data_priv.access(doc,fix,attaches)}}}})}
jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}
for(type in types){this.on(type,selector,data,types[type],one)}
return this}
if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}
if(fn===!1){fn=returnFalse}else if(!fn){return this}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}
return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}
return this}
if(selector===!1||typeof selector==="function"){fn=selector;selector=undefined}
if(fn===!1){fn=returnFalse}
return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,!0)}}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}
function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}
function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}
return elem}
function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}}
function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}
if(data_priv.hasData(src)){pdataOld=data_priv.access(src);pdataCur=data_priv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}
if(data_user.hasData(src)){udataOld=data_user.access(src);udataCur=jQuery.extend({},udataOld);data_user.set(dest,udataCur)}}
function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}
function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}
jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}
return clone},buildFragment:function(elems,context,scripts,selection){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}
jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}
fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}
contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}
return fragment},cleanData:function(elems){var data,elem,type,key,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(jQuery.acceptData(elem)){key=elem[data_priv.expando];if(key&&(data=data_priv.cache[key])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}
if(data_priv.cache[key]){delete data_priv.cache[key]}}}
delete data_user.cache[elem[data_user.expando]]}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}
if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}
elem.parentNode.removeChild(elem)}}
return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,!1));elem.textContent=""}}
return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?!1:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,!1));elem.innerHTML=value}}
elem=0}catch(e){}}
if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}
self.domManip(args,callback)})}
if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}
if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,!0,!0);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}
callback.call(this[i],node,i)}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}
return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(!0);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}
return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}
function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}
elemdisplay[nodeName]=display}
return display}
var rmargin=(/^margin/);var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){if(elem.ownerDocument.defaultView.opener){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)}
return window.getComputedStyle(elem,null)};function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name]}
if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}
if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}
return ret!==undefined?ret+"":ret}
function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}
return(this.get=hookFn).apply(this,arguments)}}}(function(){var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}
div.style.backgroundClip="content-box";div.cloneNode(!0).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;"+"position:absolute";container.appendChild(div);function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";div.innerHTML="";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}
if(window.getComputedStyle){jQuery.extend(support,{pixelPosition:function(){computePixelPositionAndBoxSizingReliable();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computePixelPositionAndBoxSizingReliable()}
return boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.removeChild(marginDiv);return ret}})}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}
ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}
return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}
var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}
return origName}
function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}
function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)}
if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)}
if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)}}}
return val}
function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",!1,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}
if(rnumnonpx.test(val)){return val}
valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}
return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px"}
function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}
values[index]=data_priv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}
if(elem.style.display===""&&isHidden(elem)){values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}
for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}
if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}
return elements}
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{"columnCount":!0,"fillOpacity":!0,"flexGrow":!0,"flexShrink":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"order":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}
var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}
if(value==null||value!==value){return}
if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}
if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}
if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined){return ret}
return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,!0,extra)}
if(val===undefined){val=curCSS(elem,name,styles)}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}
if(extra===""||extra){num=parseFloat(val);return extra===!0||jQuery.isNumeric(num)?num||0:val}
return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",!1,styles)==="border-box",styles):0)}}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}
return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],!1,styles)}
return map}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}
return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}
if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}
return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations);}
if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}
return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return(fxNow=jQuery.now())}
function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}
if(includeWidth){attrs.opacity=attrs.width=type}
return attrs}
function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween}}}
function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}
if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}
if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}
for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=!0}else{continue}}
orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}
if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden" in dataShow){hidden=dataShow.hidden}}else{dataShow=data_priv.access(elem,"fxshow",{})}
if(toggle){dataShow.hidden=!hidden}
if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}
anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}
function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}
if(index!==name){props[name]=value;delete props[index]}
hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}
function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return!1}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return!1}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}
stopped=!0;for(;index<length;index++){animation.tweens[index].run(1)}
if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}
return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}
jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}
jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}
jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===!0){opt.queue="fx"}
opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}
if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||data_priv.get(this,"finish")){anim.stop(!0)}};doAnimation.finish=doAnimation;return empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}
if(clearQueue&&type!==!1){this.queue(type||"fx",[])}
return this.each(function(){var dequeue=!0,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=!1;timers.splice(index,1)}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==!1){type=type||"fx"}
return this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=!0;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,!0)}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(!0);timers.splice(index,1)}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}
delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}
if(!timers.length){jQuery.fx.stop()}
fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=!0;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}
if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=!1}
elem.removeAttribute(name)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}
return value}}}}});boolHook={set:function(elem,value,name){if(value===!1){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}
return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}
return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}
if(value!==undefined){return hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem[name]=value)}else{return hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}
return null}}}
jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}
if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}
finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}
return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=arguments.length===0||typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}
if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}
finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}
return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}
if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}
return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||type==="boolean"){if(this.className){data_priv.set(this,"__className__",this.className)}
this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return!0}}
return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}
ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}
return}
isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}
if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}
if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}
values.push(value)}}
return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if((option.selected=jQuery.inArray(option.value,values)>=0)){optionSet=!0}}
if(!optionSet){elem.selectedIndex=-1}
return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=(/\?/);jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}
try{tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}
if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}
return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=!0;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return!1}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}
function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}
if(deep){jQuery.extend(!0,target,deep)}
return target}
function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}
if(!firstDataType){firstDataType=type}}
finalDataType=finalDataType||firstDataType}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}
return responses[finalDataType]}}
function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}
current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}
if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}
prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===!0){conv=converters[conv2]}else if(converters[conv2]!==!0){current=tmp[0];dataTypes.unshift(tmp[1])}
break}}}}
if(conv!==!0){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}
return{state:"success",data:response}}
jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}
options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}
match=responseHeaders[key.toLowerCase()]}
return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}
return this},overrideMimeType:function(type){if(!state){s.mimeType=type}
return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}
return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}
done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}
fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(rquery.test(cacheURL)?"&":"?")+s.data);delete s.data}
if(s.cache===!1){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}
if(s.data&&s.hasContent&&s.contentType!==!1||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||state===2)){return jqXHR.abort()}
strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}
transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}
if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}
try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}
state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}
response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}
if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}
return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}
return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}
if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);if(this[0].parentNode){wrap.insertBefore(this[0])}
wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}
return elem}).append(this)}
return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}
if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}
return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest()}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();if(window.attachEvent){window.attachEvent("onunload",function(){for(var key in xhrCallbacks){xhrCallbacks[key]()}})}
support.cors=!!xhrSupported&&("withCredentials" in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}
if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}
for(i in headers){xhr.setRequestHeader(i,headers[i])}
callback=function(type){return function(){if(callback){delete xhrCallbacks[id];callback=xhr.onload=xhr.onerror=null;if(type==="abort"){xhr.abort()}else if(type==="error"){complete(xhr.status,xhr.statusText)}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,typeof xhr.responseText==="string"?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders())}}}};xhr.onload=callback();xhr.onerror=callback("error");callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=!1}
if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=!0;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==!1){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}
return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}
if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}
responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}
if(typeof context==="boolean"){keepScripts=context;context=!1}
context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}
parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}
return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}
var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}
if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}
if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}
return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}
jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}
curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}
if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}
if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}
var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}
docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}
if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}
win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}
var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}
parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}
return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}
if(win){win.scrollTo(!top?val:window.pageXOffset,top?val:window.pageYOffset)}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}
var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}
return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}
return jQuery}));(function(jQuery){jQuery.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],options:{filterTextInputs:!0}};function keyHandler(handleObj){if(typeof handleObj.data==="string"){handleObj.data={keys:handleObj.data}}
if(!handleObj.data||!handleObj.data.keys||typeof handleObj.data.keys!=="string"){return}
var origHandler=handleObj.handler,keys=handleObj.data.keys.toLowerCase().split(" ");handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||(jQuery.hotkeys.options.filterTextInputs&&jQuery.inArray(event.target.type,jQuery.hotkeys.textAcceptingInputTypes)>-1))){return}
var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),modif="",possible={};jQuery.each(["alt","ctrl","shift"],function(index,specialKey){if(event[specialKey+'Key']&&special!==specialKey){modif+=specialKey+'+'}});if(event.metaKey&&!event.ctrlKey&&special!=="meta"){modif+="meta+"}
if(event.metaKey&&special!=="meta"&&modif.indexOf("alt+ctrl+shift+")>-1){modif=modif.replace("alt+ctrl+shift+","hyper+")}
if(special){possible[modif+special]=!0}else{possible[modif+character]=!0;possible[modif+jQuery.hotkeys.shiftNums[character]]=!0;if(modif==="shift+"){possible[jQuery.hotkeys.shiftNums[character]]=!0}}
for(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments)}}}}
jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler}})})(jQuery||this.jQuery||window.jQuery);var CanvasImage=function(image){this.canvas=document.createElement('canvas');this.context=this.canvas.getContext('2d');document.body.appendChild(this.canvas);this.width=this.canvas.width=image.width;this.height=this.canvas.height=image.height;this.context.drawImage(image,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};CanvasImage.prototype.update=function(imageData){this.context.putImageData(imageData,0,0)};CanvasImage.prototype.getPixelCount=function(){return this.width*this.height};CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};ColorThief.prototype.getColor=function(sourceImage,quality){var palette=this.getPalette(sourceImage,5,quality);var dominantColor=palette[0];return dominantColor};ColorThief.prototype.getPalette=function(sourceImage,colorCount,quality){if(typeof colorCount==='undefined'){colorCount=10}
if(typeof quality==='undefined'||quality<1){quality=10}
var image=new CanvasImage(sourceImage);var imageData=image.getImageData();var pixels=imageData.data;var pixelCount=image.getPixelCount();var pixelArray=[];for(var i=0,offset,r,g,b,a;i<pixelCount;i=i+quality){offset=i*4;r=pixels[offset+0];g=pixels[offset+1];b=pixels[offset+2];a=pixels[offset+3];if(a>=125){if(!(r>250&&g>250&&b>250)){pixelArray.push([r,g,b])}}}
var cmap=MMCQ.quantize(pixelArray,colorCount);var palette=cmap?cmap.palette():null;image.removeCanvas();return palette};if(!pv){var pv={map:function(array,f){var o={};return f?array.map(function(d,i){o.index=i;return f.call(o,d)}):array.slice()},naturalOrder:function(a,b){return(a<b)?-1:((a>b)?1:0)},sum:function(array,f){var o={};return array.reduce(f?function(p,d,i){o.index=i;return p+f.call(o,d)}:function(p,d){return p+d},0)},max:function(array,f){return Math.max.apply(null,f?pv.map(array,f):array)}}}
var MMCQ=(function(){var sigbits=5,rshift=8-sigbits,maxIterations=1000,fractByPopulations=0.75;function getColorIndex(r,g,b){return(r<<(2*sigbits))+(g<<sigbits)+b}
function PQueue(comparator){var contents=[],sorted=!1;function sort(){contents.sort(comparator);sorted=!0}
return{push:function(o){contents.push(o);sorted=!1},peek:function(index){if(!sorted)sort();if(index===undefined)index=contents.length-1;return contents[index]},pop:function(){if(!sorted)sort();return contents.pop()},size:function(){return contents.length},map:function(f){return contents.map(f)},debug:function(){if(!sorted)sort();return contents}}}
function VBox(r1,r2,g1,g2,b1,b2,histo){var vbox=this;vbox.r1=r1;vbox.r2=r2;vbox.g1=g1;vbox.g2=g2;vbox.b1=b1;vbox.b2=b2;vbox.histo=histo}
VBox.prototype={volume:function(force){var vbox=this;if(!vbox._volume||force){vbox._volume=((vbox.r2-vbox.r1+1)*(vbox.g2-vbox.g1+1)*(vbox.b2-vbox.b1+1))}
return vbox._volume},count:function(force){var vbox=this,histo=vbox.histo;if(!vbox._count_set||force){var npix=0,i,j,k;for(i=vbox.r1;i<=vbox.r2;i++){for(j=vbox.g1;j<=vbox.g2;j++){for(k=vbox.b1;k<=vbox.b2;k++){index=getColorIndex(i,j,k);npix+=(histo[index]||0)}}}
vbox._count=npix;vbox._count_set=!0}
return vbox._count},copy:function(){var vbox=this;return new VBox(vbox.r1,vbox.r2,vbox.g1,vbox.g2,vbox.b1,vbox.b2,vbox.histo)},avg:function(force){var vbox=this,histo=vbox.histo;if(!vbox._avg||force){var ntot=0,mult=1<<(8-sigbits),rsum=0,gsum=0,bsum=0,hval,i,j,k,histoindex;for(i=vbox.r1;i<=vbox.r2;i++){for(j=vbox.g1;j<=vbox.g2;j++){for(k=vbox.b1;k<=vbox.b2;k++){histoindex=getColorIndex(i,j,k);hval=histo[histoindex]||0;ntot+=hval;rsum+=(hval*(i+0.5)*mult);gsum+=(hval*(j+0.5)*mult);bsum+=(hval*(k+0.5)*mult)}}}
if(ntot){vbox._avg=[~~(rsum/ntot),~~(gsum/ntot),~~(bsum/ntot)]}else{vbox._avg=[~~(mult*(vbox.r1+vbox.r2+1)/2),~~(mult*(vbox.g1+vbox.g2+1)/2),~~(mult*(vbox.b1+vbox.b2+1)/2)]}}
return vbox._avg},contains:function(pixel){var vbox=this,rval=pixel[0]>>rshift;gval=pixel[1]>>rshift;bval=pixel[2]>>rshift;return(rval>=vbox.r1&&rval<=vbox.r2&&gval>=vbox.g1&&gval<=vbox.g2&&bval>=vbox.b1&&bval<=vbox.b2)}};function CMap(){this.vboxes=new PQueue(function(a,b){return pv.naturalOrder(a.vbox.count()*a.vbox.volume(),b.vbox.count()*b.vbox.volume())})}
CMap.prototype={push:function(vbox){this.vboxes.push({vbox:vbox,color:vbox.avg()})},palette:function(){return this.vboxes.map(function(vb){return vb.color})},size:function(){return this.vboxes.size()},map:function(color){var vboxes=this.vboxes;for(var i=0;i<vboxes.size();i++){if(vboxes.peek(i).vbox.contains(color)){return vboxes.peek(i).color}}
return this.nearest(color)},nearest:function(color){var vboxes=this.vboxes,d1,d2,pColor;for(var i=0;i<vboxes.size();i++){d2=Math.sqrt(Math.pow(color[0]-vboxes.peek(i).color[0],2)+Math.pow(color[1]-vboxes.peek(i).color[1],2)+Math.pow(color[2]-vboxes.peek(i).color[2],2));if(d2<d1||d1===undefined){d1=d2;pColor=vboxes.peek(i).color}}
return pColor},forcebw:function(){var vboxes=this.vboxes;vboxes.sort(function(a,b){return pv.naturalOrder(pv.sum(a.color),pv.sum(b.color))});var lowest=vboxes[0].color;if(lowest[0]<5&&lowest[1]<5&&lowest[2]<5)
vboxes[0].color=[0,0,0];var idx=vboxes.length-1,highest=vboxes[idx].color;if(highest[0]>251&&highest[1]>251&&highest[2]>251)
vboxes[idx].color=[255,255,255]}};function getHisto(pixels){var histosize=1<<(3*sigbits),histo=new Array(histosize),index,rval,gval,bval;pixels.forEach(function(pixel){rval=pixel[0]>>rshift;gval=pixel[1]>>rshift;bval=pixel[2]>>rshift;index=getColorIndex(rval,gval,bval);histo[index]=(histo[index]||0)+1});return histo}
function vboxFromPixels(pixels,histo){var rmin=1000000,rmax=0,gmin=1000000,gmax=0,bmin=1000000,bmax=0,rval,gval,bval;pixels.forEach(function(pixel){rval=pixel[0]>>rshift;gval=pixel[1]>>rshift;bval=pixel[2]>>rshift;if(rval<rmin)rmin=rval;else if(rval>rmax)rmax=rval;if(gval<gmin)gmin=gval;else if(gval>gmax)gmax=gval;if(bval<bmin)bmin=bval;else if(bval>bmax)bmax=bval});return new VBox(rmin,rmax,gmin,gmax,bmin,bmax,histo)}
function medianCutApply(histo,vbox){if(!vbox.count())return;var rw=vbox.r2-vbox.r1+1,gw=vbox.g2-vbox.g1+1,bw=vbox.b2-vbox.b1+1,maxw=pv.max([rw,gw,bw]);if(vbox.count()==1){return[vbox.copy()]}
var total=0,partialsum=[],lookaheadsum=[],i,j,k,sum,index;if(maxw==rw){for(i=vbox.r1;i<=vbox.r2;i++){sum=0;for(j=vbox.g1;j<=vbox.g2;j++){for(k=vbox.b1;k<=vbox.b2;k++){index=getColorIndex(i,j,k);sum+=(histo[index]||0)}}
total+=sum;partialsum[i]=total}}else if(maxw==gw){for(i=vbox.g1;i<=vbox.g2;i++){sum=0;for(j=vbox.r1;j<=vbox.r2;j++){for(k=vbox.b1;k<=vbox.b2;k++){index=getColorIndex(j,i,k);sum+=(histo[index]||0)}}
total+=sum;partialsum[i]=total}}else{for(i=vbox.b1;i<=vbox.b2;i++){sum=0;for(j=vbox.r1;j<=vbox.r2;j++){for(k=vbox.g1;k<=vbox.g2;k++){index=getColorIndex(j,k,i);sum+=(histo[index]||0)}}
total+=sum;partialsum[i]=total}}
partialsum.forEach(function(d,i){lookaheadsum[i]=total-d});function doCut(color){var dim1=color+'1',dim2=color+'2',left,right,vbox1,vbox2,d2,count2=0;for(i=vbox[dim1];i<=vbox[dim2];i++){if(partialsum[i]>total/2){vbox1=vbox.copy();vbox2=vbox.copy();left=i-vbox[dim1];right=vbox[dim2]-i;if(left<=right)
d2=Math.min(vbox[dim2]-1,~~(i+right/2));else d2=Math.max(vbox[dim1],~~(i-1-left/2));while(!partialsum[d2])d2++;count2=lookaheadsum[d2];while(!count2&&partialsum[d2-1])count2=lookaheadsum[--d2];vbox1[dim2]=d2;vbox2[dim1]=vbox1[dim2]+1;return[vbox1,vbox2]}}}
return maxw==rw?doCut('r'):maxw==gw?doCut('g'):doCut('b')}
function quantize(pixels,maxcolors){if(!pixels.length||maxcolors<2||maxcolors>256){return!1}
var histo=getHisto(pixels),histosize=1<<(3*sigbits);var nColors=0;histo.forEach(function(){nColors++});if(nColors<=maxcolors){}
var vbox=vboxFromPixels(pixels,histo),pq=new PQueue(function(a,b){return pv.naturalOrder(a.count(),b.count())});pq.push(vbox);function iter(lh,target){var ncolors=1,niters=0,vbox;while(niters<maxIterations){vbox=lh.pop();if(!vbox.count()){lh.push(vbox);niters++;continue}
var vboxes=medianCutApply(histo,vbox),vbox1=vboxes[0],vbox2=vboxes[1];if(!vbox1){return}
lh.push(vbox1);if(vbox2){lh.push(vbox2);ncolors++}
if(ncolors>=target)return;if(niters++>maxIterations){return}}}
iter(pq,fractByPopulations*maxcolors);var pq2=new PQueue(function(a,b){return pv.naturalOrder(a.count()*a.volume(),b.count()*b.volume())});while(pq.size()){pq2.push(pq.pop())}
iter(pq2,maxcolors-pq2.size());var cmap=new CMap();while(pq2.size()){cmap.push(pq2.pop())}
return cmap}
return{quantize:quantize}})();(function(undefined){var moment,VERSION='2.8.4',globalScope=typeof global!=='undefined'?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=(typeof module!=='undefined'&&module&&module.exports),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat='YYYY-MM-DDTHH:mm:ssZ',isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]],isoTimes=[['HH:mm:ss.SSSS',/(T|)\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T|)\d\d:\d\d:\d\d/],['HH:mm',/(T|)\d\d:\d\d/],['HH',/(T|)\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters='Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),unitMillisecondFactors={'Milliseconds':1,'Seconds':1e3,'Minutes':6e4,'Hours':36e5,'Days':864e5,'Months':2592e6,'Years':31536e6},unitAliases={ms:'millisecond',s:'second',m:'minute',h:'hour',d:'day',D:'date',w:'week',W:'isoWeek',M:'month',Q:'quarter',y:'year',DDD:'dayOfYear',e:'weekday',E:'isoWeekday',gg:'weekYear',GG:'isoWeekYear'},camelFunctions={dayofyear:'dayOfYear',isoweekday:'isoWeekday',isoweek:'isoWeek',weekyear:'weekYear',isoweekyear:'isoWeekYear'},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens='DDD w W M D d'.split(' '),paddedTokens='M D H h m s w W'.split(' '),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?'+':'-';return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b='+';if(a<0){a=-a;b='-'}
return b+leftZeroFill(toInt(a/60),2)+':'+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b='+';if(a<0){a=-a;b='-'}
return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=['months','monthsShort','weekdays','weekdaysShort','weekdaysMin'];function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error('Implement me')}}
function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}
function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}
function printMsg(msg){if(moment.suppressDeprecationWarnings===!1&&typeof console!=='undefined'&&console.warn){console.warn('Deprecation warning: '+msg)}}
function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(firstTime){printMsg(msg);firstTime=!1}
return fn.apply(this,arguments)},fn)}
function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=!0}}
function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}
function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}
while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+'o']=ordinalizeToken(formatTokenFunctions[i],i)}
while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}
formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function Locale(){}
function Moment(config,skipOverflow){if(skipOverflow!==!1){checkOverflow(config)}
copyConfig(this,config);this._d=new Date(+config._d)}
function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=moment.localeData();this._bubble()}
function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}
if(hasOwnProp(b,'toString')){a.toString=b.toString}
if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf}
return a}
function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=='undefined'){to._isAMomentObject=from._isAMomentObject}
if(typeof from._i!=='undefined'){to._i=from._i}
if(typeof from._f!=='undefined'){to._f=from._f}
if(typeof from._l!=='undefined'){to._l=from._l}
if(typeof from._strict!=='undefined'){to._strict=from._strict}
if(typeof from._tzm!=='undefined'){to._tzm=from._tzm}
if(typeof from._isUTC!=='undefined'){to._isUTC=from._isUTC}
if(typeof from._offset!=='undefined'){to._offset=from._offset}
if(typeof from._pf!=='undefined'){to._pf=from._pf}
if(typeof from._locale!=='undefined'){to._locale=from._locale}
if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=='undefined'){to[prop]=val}}}
return to}
function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}
function leftZeroFill(number,targetLength,forceSign){var output=''+Math.abs(number),sign=number>=0;while(output.length<targetLength){output='0'+output}
return(sign?(forceSign?'+':''):'-')+output}
function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months}
res.milliseconds=+other- +(base.clone().add(res.months,'M'));return res}
function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}
return res}
function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).');tmp=val;val=period;period=tmp}
val=typeof val==='string'?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this}}
function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?!0:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}
if(days){rawSetter(mom,'Date',rawGetter(mom,'Date')+days*isAdding)}
if(months){rawMonthSetter(mom,rawGetter(mom,'Month')+months*isAdding)}
if(updateOffset){moment.updateOffset(mom,days||months)}}
function isArray(input){return Object.prototype.toString.call(input)==='[object Array]'}
function isDate(input){return Object.prototype.toString.call(input)==='[object Date]'||input instanceof Date}
function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++}}
return diffs+lengthDiff}
function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,'$1');units=unitAliases[units]||camelFunctions[lowered]||lowered}
return units}
function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}
return normalizedInput}
function makeList(field){var count,setter;if(field.indexOf('week')===0){count=7;setter='day'}else if(field.indexOf('month')===0){count=12;setter='month'}else{return}
moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==='number'){index=format;format=undefined}
getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||'')};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}
return results}}}
function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}
return value}
function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}
function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}
function daysInYear(year){return isLeapYear(year)?366:365}
function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0}
function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||(m._a[HOUR]===24&&(m._a[MINUTE]!==0||m._a[SECOND]!==0||m._a[MILLISECOND]!==0))?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}
m._pf.overflow=overflow}}
function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0&&m._pf.bigHour===undefined}}
return m._isValid}
function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key}
function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale}
if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1){break}
j--}
i++}
return null}
function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();require('./locale/'+name);moment.locale(oldLocale)}catch(e){}}
return locales[name]}
function makeAs(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-(+res);res._d.setTime(+res._d+diff);moment.updateOffset(res,!1);return res}else{return moment(input).local()}}
extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==='function'){this[i]=prop}else{this['_'+i]=prop}}
this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+/\d{1,2}/.source)},_months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),months:function(m){return this._months[m.month()]},_monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}
for(i=0;i<12;i++){mom=moment.utc([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i')}
if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i')}
if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}},_weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}
for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2000,1]).day(i);regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i')}
if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY LT',LLLL:'dddd, MMMM D, YYYY LT'},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}
return output},isPM:function(input){return((input+'').toLowerCase().charAt(0)==='p')},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM'}else{return isLower?'am':'AM'}},_calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},calendar:function(key,mom,now){var output=this._calendar[key];return typeof output==='function'?output.apply(mom,[now]):output},_relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==='function')?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return typeof format==='function'?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace('%d',number)},_ordinal:'%d',_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:'Invalid date',invalidDate:function(){return this._invalidDate}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'')}
return input.replace(/\\/g,'')}
function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}
return function(mom){var output='';for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}
return output}}
function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}
format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}
return formatFunctions[format](m)}
function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}
localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}
return format}
function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case 'Q':return parseTokenOneDigit;case 'DDDD':return parseTokenThreeDigits;case 'YYYY':case 'GGGG':case 'gggg':return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case 'Y':case 'G':case 'g':return parseTokenSignedNumber;case 'YYYYYY':case 'YYYYY':case 'GGGGG':case 'ggggg':return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case 'S':if(strict){return parseTokenOneDigit}
case 'SS':if(strict){return parseTokenTwoDigits}
case 'SSS':if(strict){return parseTokenThreeDigits}
case 'DDD':return parseTokenOneToThreeDigits;case 'MMM':case 'MMMM':case 'dd':case 'ddd':case 'dddd':return parseTokenWord;case 'a':case 'A':return config._locale._meridiemParse;case 'x':return parseTokenOffsetMs;case 'X':return parseTokenTimestampMs;case 'Z':case 'ZZ':return parseTokenTimezone;case 'T':return parseTokenT;case 'SSSS':return parseTokenDigits;case 'MM':case 'DD':case 'YY':case 'GG':case 'gg':case 'HH':case 'hh':case 'mm':case 'ss':case 'ww':case 'WW':return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case 'M':case 'D':case 'd':case 'H':case 'h':case 'm':case 's':case 'w':case 'W':case 'e':case 'E':return parseTokenOneOrTwoDigits;case 'Do':return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace('\\','')),'i'));return a}}
function timezoneMinutesFromString(string){string=string||'';var possibleTzMatches=(string.match(parseTokenTimezone)||[]),tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+'').match(parseTimezoneChunker)||['-',0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==='+'?-minutes:minutes}
function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case 'Q':if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3}
break;case 'M':case 'MM':if(input!=null){datePartArray[MONTH]=toInt(input)-1}
break;case 'MMM':case 'MMMM':a=config._locale.monthsParse(input,token,config._strict);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}
break;case 'D':case 'DD':if(input!=null){datePartArray[DATE]=toInt(input)}
break;case 'Do':if(input!=null){datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10))}
break;case 'DDD':case 'DDDD':if(input!=null){config._dayOfYear=toInt(input)}
break;case 'YY':datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case 'YYYY':case 'YYYYY':case 'YYYYYY':datePartArray[YEAR]=toInt(input);break;case 'a':case 'A':config._isPm=config._locale.isPM(input);break;case 'h':case 'hh':config._pf.bigHour=!0;case 'H':case 'HH':datePartArray[HOUR]=toInt(input);break;case 'm':case 'mm':datePartArray[MINUTE]=toInt(input);break;case 's':case 'ss':datePartArray[SECOND]=toInt(input);break;case 'S':case 'SS':case 'SSS':case 'SSSS':datePartArray[MILLISECOND]=toInt(('0.'+input)*1000);break;case 'x':config._d=new Date(toInt(input));break;case 'X':config._d=new Date(parseFloat(input)*1000);break;case 'Z':case 'ZZ':config._useUTC=!0;config._tzm=timezoneMinutesFromString(input);break;case 'dd':case 'ddd':case 'dddd':a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w.d=a}else{config._pf.invalidWeekday=input}
break;case 'w':case 'ww':case 'W':case 'WW':case 'd':case 'e':case 'E':token=token.substr(0,1);case 'gggg':case 'GGGG':case 'GGGGG':token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input)}
break;case 'gg':case 'GG':config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input)}}
function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}
temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}
function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}
currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}
if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=!0}
date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}
for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}
for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i]}
if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=!0;config._a[HOUR]=0}
config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}
if(config._nextDay){config._a[HOUR]=24}}
function dateFromObject(config){var normalizedInput;if(config._d){return}
normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}
function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}
function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return}
config._a=[];config._pf.empty=!0;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}
string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}
if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=!1}else{config._pf.unusedTokens.push(token)}
addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}
config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}
if(config._pf.bigHour===!0&&config._a[HOUR]<=12){config._pf.bigHour=undefined}
if(config._isPm&&config._a[HOUR]<12){config._a[HOUR]+=12}
if(config._isPm===!1&&config._a[HOUR]===12){config._a[HOUR]=0}
dateFromConfig(config);checkOverflow(config)}
function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}
function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}
function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=!0;config._d=new Date(NaN);return}
for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}
tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}
currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}
extend(config,bestMoment||tempConfig)}
function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=!0;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||' ');break}}
for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}
if(string.match(parseTokenTimezone)){config._f+='Z'}
makeDateFromStringAndFormat(config)}else{config._isValid=!1}}
function makeDateFromString(config){parseISO(config);if(config._isValid===!1){delete config._isValid;moment.createFromInputFallback(config)}}
function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}
return res}
function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date()}else if(isDate(input)){config._d=new Date(+input)}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1])}else if(typeof input==='string'){makeDateFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});dateFromConfig(config)}else if(typeof(input)==='object'){dateFromObject(config)}else if(typeof(input)==='number'){config._d=new Date(input)}else{moment.createFromInputFallback(config)}}
function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}
return date}
function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}
return date}
function parseWeekday(input,locale){if(typeof input==='string'){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=='number'){return null}}}
return input}
function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}
function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as('s')),minutes=round(duration.as('m')),hours=round(duration.as('h')),days=round(duration.as('d')),months=round(duration.as('M')),years=round(duration.as('y')),args=seconds<relativeTimeThresholds.s&&['s',seconds]||minutes===1&&['m']||minutes<relativeTimeThresholds.m&&['mm',minutes]||hours===1&&['h']||hours<relativeTimeThresholds.h&&['hh',hours]||days===1&&['d']||days<relativeTimeThresholds.d&&['dd',days]||months===1&&['M']||months<relativeTimeThresholds.M&&['MM',months]||years===1&&['y']||['yy',years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args)}
function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}
if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}
adjustedMoment=moment(mom).add(daysToDayOfWeek,'d');return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}
function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}
function makeMoment(config){var input=config._i,format=config._f,res;config._locale=config._locale||moment.localeData(config._l);if(input===null||(format===undefined&&input==='')){return moment.invalid({nullInput:!0})}
if(typeof input==='string'){config._i=input=config._locale.preparse(input)}
if(moment.isMoment(input)){return new Moment(input,!0)}else if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}
res=new Moment(config);if(res._nextDay){res.add(1,'d');res._nextDay=undefined}
return res}
moment=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined}
c={};c._isAMomentObject=!0;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=!1;c._pf=defaultParsingFlags();return makeMoment(c)};moment.suppressDeprecationWarnings=!1;moment.createFromInputFallback=deprecate('moment construction falls back to js Date. This is '+'discouraged and will be removed in upcoming major '+'release. Please refer to '+'https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''))});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}
if(!moments.length){return moment()}
res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}
return res}
moment.min=function(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args)};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args)};moment.utc=function(input,format,locale,strict){var c;if(typeof(locale)==='boolean'){strict=locale;locale=undefined}
c={};c._isAMomentObject=!0;c._useUTC=!0;c._isUTC=!0;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1000)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==='number'){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoDurationRegex.exec(input))){sign=(match[1]==='-')?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}else if(typeof duration==='object'&&('from' in duration||'to' in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}
ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale}
return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return!1}
if(limit===undefined){return relativeTimeThresholds[threshold]}
relativeTimeThresholds[threshold]=limit;return!0};moment.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',function(key,value){return moment.locale(key,value)});moment.locale=function(key,values){var data;if(key){if(typeof(values)!=='undefined'){data=moment.defineLocale(key,values)}else{data=moment.localeData(key)}
if(data){moment.duration._locale=moment._locale=data}}
return moment._locale._abbr};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale()}
locales[name].set(values);moment.locale(name);return locales[name]}else{delete locales[name];return null}};moment.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',function(key){return moment.localeData(key)});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}
if(!key){return moment._locale}
if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}
key=[key]}
return chooseLocale(key)};moment.isMoment=function(obj){return obj instanceof Moment||(obj!=null&&hasOwnProp(obj,'_isAMomentObject'))};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}
moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=!0}
return m};moment.parseZone=function(){return moment.apply(null,arguments).parseZone()};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000)};extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){if('function'===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}
return!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC){this.zone(0,keepLocalTime);this._isUTC=!1;if(keepLocalTime){this.add(this._dateTzOffset(),'m')}}
return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,'add'),subtract:createAdder(-1,'subtract'),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(this.zone()-that.zone())*6e4,diff,output,daysAdjust;units=normalizeUnits(units);if(units==='year'||units==='month'){diff=(this.daysInMonth()+that.daysInMonth())*432e5;output=((this.year()-that.year())*12)+(this.month()-that.month());daysAdjust=(this-moment(this).startOf('month'))-(that-moment(that).startOf('month'));daysAdjust-=((this.zone()-moment(this).startOf('month').zone())-(that.zone()-moment(that).startOf('month').zone()))*6e4;output+=daysAdjust/diff;if(units==='year'){output=output/12}}else{diff=(this-that);output=units==='second'?diff/1e3:units==='minute'?diff/6e4:units==='hour'?diff/36e5:units==='day'?(diff-zoneDiff)/864e5:units==='week'?(diff-zoneDiff)/6048e5:diff}
return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf('day'),diff=this.diff(sod,'days',!0),format=diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d')}else{return day}},month:makeAccessor('Month',!0),startOf:function(units){units=normalizeUnits(units);switch(units){case 'year':this.month(0);case 'quarter':case 'month':this.date(1);case 'week':case 'isoWeek':case 'day':this.hours(0);case 'hour':this.minutes(0);case 'minute':this.seconds(0);case 'second':this.milliseconds(0)}
if(units==='week'){this.weekday(0)}else if(units==='isoWeek'){this.isoWeekday(1)}
if(units==='quarter'){this.month(Math.floor(this.month()/3)*3)}
return this},endOf:function(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this}
return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms')},isAfter:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this>+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return inputMs<+this.clone().startOf(units)}},isBefore:function(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this<+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return+this.clone().endOf(units)<inputMs}},isSame:function(input,units){var inputMs;units=normalizeUnits(units||'millisecond');if(units==='millisecond'){input=moment.isMoment(input)?input:moment(input);return+this===+input}else{inputMs=+moment(input);return+(this.clone().startOf(units))<=inputMs&&inputMs<=+(this.clone().endOf(units))}},min:deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other<this?this:other}),max:deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(other){other=moment.apply(null,arguments);return other>this?this:other}),zone:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==='string'){input=timezoneMinutesFromString(input)}
if(Math.abs(input)<16){input=input*60}
if(!this._isUTC&&keepLocalTime){localAdjust=this._dateTzOffset()}
this._offset=input;this._isUTC=!0;if(localAdjust!=null){this.subtract(localAdjust,'m')}
if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(offset-input,'m'),1,!1)}else if(!this._changeInProgress){this._changeInProgress=!0;moment.updateOffset(this,!0);this._changeInProgress=null}}}else{return this._isUTC?offset:this._dateTzOffset()}
return this},zoneAbbr:function(){return this._isUTC?'UTC':''},zoneName:function(){return this._isUTC?'Coordinated Universal Time':''},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else if(typeof this._i==='string'){this.zone(this._i)}
return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).zone()}
return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf('day')-moment(this).startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d')},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add((input-year),'y')},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add((input-year),'y')},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d')},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d')},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d')},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){units=normalizeUnits(units);if(typeof this[units]==='function'){this[units](value)}
return this},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData}
return this}},lang:deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==='string'){value=mom.localeData().monthsParse(value);if(typeof value!=='number'){return mom}}
dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom}
function rawGetter(mom,unit){return mom._d['get'+(mom._isUTC?'UTC':'')+unit]()}
function rawSetter(mom,unit,value){if(unit==='Month'){return rawMonthSetter(mom,value)}else{return mom._d['set'+(mom._isUTC?'UTC':'')+unit](value)}}
function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this}else{return rawGetter(this,unit)}}}
moment.fn.millisecond=moment.fn.milliseconds=makeAccessor('Milliseconds',!1);moment.fn.second=moment.fn.seconds=makeAccessor('Seconds',!1);moment.fn.minute=moment.fn.minutes=makeAccessor('Minutes',!1);moment.fn.hour=moment.fn.hours=makeAccessor('Hours',!0);moment.fn.date=makeAccessor('Date',!0);moment.fn.dates=deprecate('dates accessor is deprecated. Use date instead.',makeAccessor('Date',!0));moment.fn.year=makeAccessor('FullYear',!0);moment.fn.years=deprecate('years accessor is deprecated. Use year instead.',makeAccessor('FullYear',!0));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;function daysToYears(days){return days*400/146097}
function yearsToDays(years){return years*146097/400}
extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1000;seconds=absRound(milliseconds/1000);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+(this._months%12)*2592e6+toInt(this._months/12)*31536e6},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output)}
return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+'s']()},as:function(units){var days,months;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==='month'?months:months/12}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case 'week':return days/7+this._milliseconds/6048e5;case 'day':return days+this._milliseconds/864e5;case 'hour':return days*24+this._milliseconds/36e5;case 'minute':return days*24*60+this._milliseconds/6e4;case 'second':return days*24*60*60+this._milliseconds/1000;case 'millisecond':return Math.floor(days*24*60*60*1000)+this._milliseconds;default:throw new Error('Unknown unit '+units)}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate('toIsoString() is deprecated. Please use toISOString() instead '+'(notice the capitals)',function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return'P0D'}
return(this.asSeconds()<0?'-':'')+'P'+(years?years+'Y':'')+(months?months+'M':'')+(days?days+'D':'')+((hours||minutes||seconds)?'T':'')+(hours?hours+'H':'')+(minutes?minutes+'M':'')+(seconds?seconds+'S':'')},localeData:function(){return this._locale}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}
for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase())}}
moment.duration.fn.asMilliseconds=function(){return this.as('ms')};moment.duration.fn.asSeconds=function(){return this.as('s')};moment.duration.fn.asMinutes=function(){return this.as('m')};moment.duration.fn.asHours=function(){return this.as('h')};moment.duration.fn.asDays=function(){return this.as('d')};moment.duration.fn.asWeeks=function(){return this.as('weeks')};moment.duration.fn.asMonths=function(){return this.as('M')};moment.duration.fn.asYears=function(){return this.as('y')};moment.locale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output}});function makeGlobal(shouldDeprecate){if(typeof ender!=='undefined'){return}
oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate('Accessing Moment through the global scope is '+'deprecated, and will be removed in an upcoming '+'release.',moment)}else{globalScope.moment=moment}}
if(hasModule){module.exports=moment}else if(typeof define==='function'&&define.amd){define('moment',function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===!0){globalScope.moment=oldGlobalMoment}
return moment});makeGlobal(!0)}else{makeGlobal()}}).call(this);(function(){var h=[].slice;String.prototype.autoLink=function(){var b,f,d,a,e,g;a=1<=arguments.length?h.call(arguments,0):[];e=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi;if(!(0<a.length))return this.replace(e,"$1<a href='$2'>$2</a>");d=a[0];f=function(){var c;c=[];for(b in d)g=d[b],"callback"!==b&&c.push(" "+b+"='"+g+"'");return c}().join("");return this.replace(e,function(c,b,a){c=("function"===typeof d.callback?d.callback(a):void 0)||"<a href='"+a+"'"+f+">"+a+"</a>";return""+b+c})}}).call(this);+function($){'use strict';var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options)
this.$target=$(this.options.target).on('scroll.bs.affix.data-api',$.proxy(this.checkPosition,this)).on('click.bs.affix.data-api',$.proxy(this.checkPositionWithEventLoop,this))
this.$element=$(element)
this.affixed=null
this.unpin=null
this.pinnedOffset=null
this.checkPosition()}
Affix.VERSION='3.3.7'
Affix.RESET='affix affix-top affix-bottom'
Affix.DEFAULTS={offset:0,target:window}
Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
var targetHeight=this.$target.height()
if(offsetTop!=null&&this.affixed=='top')return scrollTop<offsetTop?'top':!1
if(this.affixed=='bottom'){if(offsetTop!=null)return(scrollTop+this.unpin<=position.top)?!1:'bottom'
return(scrollTop+targetHeight<=scrollHeight-offsetBottom)?!1:'bottom'}
var initializing=this.affixed==null
var colliderTop=initializing?scrollTop:position.top
var colliderHeight=initializing?targetHeight:height
if(offsetTop!=null&&scrollTop<=offsetTop)return'top'
if(offsetBottom!=null&&(colliderTop+colliderHeight>=scrollHeight-offsetBottom))return'bottom'
return!1}
Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset
this.$element.removeClass(Affix.RESET).addClass('affix')
var scrollTop=this.$target.scrollTop()
var position=this.$element.offset()
return(this.pinnedOffset=position.top-scrollTop)}
Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)}
Affix.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return
var height=this.$element.height()
var offset=this.options.offset
var offsetTop=offset.top
var offsetBottom=offset.bottom
var scrollHeight=Math.max($(document).height(),$(document.body).height())
if(typeof offset!='object')offsetBottom=offsetTop=offset
if(typeof offsetTop=='function')offsetTop=offset.top(this.$element)
if(typeof offsetBottom=='function')offsetBottom=offset.bottom(this.$element)
var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom)
if(this.affixed!=affix){if(this.unpin!=null)this.$element.css('top','')
var affixType='affix'+(affix?'-'+affix:'')
var e=$.Event(affixType+'.bs.affix')
this.$element.trigger(e)
if(e.isDefaultPrevented())return
this.affixed=affix
this.unpin=affix=='bottom'?this.getPinnedOffset():null
this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace('affix','affixed')+'.bs.affix')}
if(affix=='bottom'){this.$element.offset({top:scrollHeight-height-offsetBottom})}}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.affix')
var options=typeof option=='object'&&option
if(!data)$this.data('bs.affix',(data=new Affix(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.affix
$.fn.affix=Plugin
$.fn.affix.Constructor=Affix
$.fn.affix.noConflict=function(){$.fn.affix=old
return this}
$(window).on('load',function(){$('[data-spy="affix"]').each(function(){var $spy=$(this)
var data=$spy.data()
data.offset=data.offset||{}
if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom
if(data.offsetTop!=null)data.offset.top=data.offsetTop
Plugin.call($spy,data)})})}(jQuery);+function($){'use strict';var backdrop='.dropdown-backdrop'
var toggle='[data-toggle="dropdown"]'
var Dropdown=function(element){$(element).on('click.bs.dropdown',this.toggle)}
Dropdown.VERSION='3.3.7'
function getParent($this){var selector=$this.attr('data-target')
if(!selector){selector=$this.attr('href')
selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')}
var $parent=selector&&$(selector)
return $parent&&$parent.length?$parent:$this.parent()}
function clearMenus(e){if(e&&e.which===3)return
$(backdrop).remove()
$(toggle).each(function(){var $this=$(this)
var $parent=getParent($this)
var relatedTarget={relatedTarget:this}
if(!$parent.hasClass('open'))return
if(e&&e.type=='click'&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target))return
$parent.trigger(e=$.Event('hide.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.attr('aria-expanded','false')
$parent.removeClass('open').trigger($.Event('hidden.bs.dropdown',relatedTarget))})}
Dropdown.prototype.toggle=function(e){var $this=$(this)
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){if('ontouchstart' in document.documentElement&&!$parent.closest('.navbar-nav').length){$(document.createElement('div')).addClass('dropdown-backdrop').insertAfter($(this)).on('click',clearMenus)}
var relatedTarget={relatedTarget:this}
$parent.trigger(e=$.Event('show.bs.dropdown',relatedTarget))
if(e.isDefaultPrevented())return
$this.trigger('focus').attr('aria-expanded','true')
$parent.toggleClass('open').trigger($.Event('shown.bs.dropdown',relatedTarget))}
return!1}
Dropdown.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return
var $this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
var $parent=getParent($this)
var isActive=$parent.hasClass('open')
if(!isActive&&e.which!=27||isActive&&e.which==27){if(e.which==27)$parent.find(toggle).trigger('focus')
return $this.trigger('click')}
var desc=' li:not(.disabled):visible a'
var $items=$parent.find('.dropdown-menu'+desc)
if(!$items.length)return
var index=$items.index(e.target)
if(e.which==38&&index>0)index--
if(e.which==40&&index<$items.length-1)index++
if(!~index)index=0
$items.eq(index).trigger('focus')}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.dropdown')
if(!data)$this.data('bs.dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
var old=$.fn.dropdown
$.fn.dropdown=Plugin
$.fn.dropdown.Constructor=Dropdown
$.fn.dropdown.noConflict=function(){$.fn.dropdown=old
return this}
$(document).on('click.bs.dropdown.data-api',clearMenus).on('click.bs.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.bs.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api',toggle,Dropdown.prototype.keydown).on('keydown.bs.dropdown.data-api','.dropdown-menu',Dropdown.prototype.keydown)}(jQuery);+function($){'use strict';var Modal=function(element,options){this.options=options
this.$body=$(document.body)
this.$element=$(element)
this.$dialog=this.$element.find('.modal-dialog')
this.$backdrop=null
this.isShown=null
this.originalBodyPad=null
this.scrollbarWidth=0
this.ignoreBackdropClick=!1
if(this.options.remote){this.$element.find('.modal-content').load(this.options.remote,$.proxy(function(){this.$element.trigger('loaded.bs.modal')},this))}}
Modal.VERSION='3.3.7'
Modal.TRANSITION_DURATION=300
Modal.BACKDROP_TRANSITION_DURATION=150
Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0}
Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)}
Modal.prototype.show=function(_relatedTarget){var that=this
var e=$.Event('show.bs.modal',{relatedTarget:_relatedTarget})
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
this.isShown=!0
this.checkScrollbar()
this.setScrollbar()
this.$body.addClass('modal-open')
this.escape()
this.resize()
this.$element.on('click.dismiss.bs.modal','[data-dismiss="modal"]',$.proxy(this.hide,this))
this.$dialog.on('mousedown.dismiss.bs.modal',function(){that.$element.one('mouseup.dismiss.bs.modal',function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=!0})})
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(that.$body)}
that.$element.show().scrollTop(0)
that.adjustDialog()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in')
that.enforceFocus()
var e=$.Event('shown.bs.modal',{relatedTarget:_relatedTarget})
transition?that.$dialog.one('bsTransitionEnd',function(){that.$element.trigger('focus').trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger('focus').trigger(e)})}
Modal.prototype.hide=function(e){if(e)e.preventDefault()
e=$.Event('hide.bs.modal')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=!1
this.escape()
this.resize()
$(document).off('focusin.bs.modal')
this.$element.removeClass('in').off('click.dismiss.bs.modal').off('mouseup.dismiss.bs.modal')
this.$dialog.off('mousedown.dismiss.bs.modal')
$.support.transition&&this.$element.hasClass('fade')?this.$element.one('bsTransitionEnd',$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()}
Modal.prototype.enforceFocus=function(){$(document).off('focusin.bs.modal').on('focusin.bs.modal',$.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger('focus')}},this))}
Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on('keydown.dismiss.bs.modal',$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off('keydown.dismiss.bs.modal')}}
Modal.prototype.resize=function(){if(this.isShown){$(window).on('resize.bs.modal',$.proxy(this.handleUpdate,this))}else{$(window).off('resize.bs.modal')}}
Modal.prototype.hideModal=function(){var that=this
this.$element.hide()
this.backdrop(function(){that.$body.removeClass('modal-open')
that.resetAdjustments()
that.resetScrollbar()
that.$element.trigger('hidden.bs.modal')})}
Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove()
this.$backdrop=null}
Modal.prototype.backdrop=function(callback){var that=this
var animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$(document.createElement('div')).addClass('modal-backdrop '+animate).appendTo(this.$body)
this.$element.on('click.dismiss.bs.modal',$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1
return}
if(e.target!==e.currentTarget)return
this.options.backdrop=='static'?this.$element[0].focus():this.hide()},this))
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
if(!callback)return
doAnimate?this.$backdrop.one('bsTransitionEnd',callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
var callbackRemove=function(){that.removeBackdrop()
callback&&callback()}
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one('bsTransitionEnd',callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}}
Modal.prototype.handleUpdate=function(){this.adjustDialog()}
Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight
this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:'',paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:''})}
Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:'',paddingRight:''})}
Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth
if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect()
fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}
this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth
this.scrollbarWidth=this.measureScrollbar()}
Modal.prototype.setScrollbar=function(){var bodyPad=parseInt((this.$body.css('padding-right')||0),10)
this.originalBodyPad=document.body.style.paddingRight||''
if(this.bodyIsOverflowing)this.$body.css('padding-right',bodyPad+this.scrollbarWidth)}
Modal.prototype.resetScrollbar=function(){this.$body.css('padding-right',this.originalBodyPad)}
Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement('div')
scrollDiv.className='modal-scrollbar-measure'
this.$body.append(scrollDiv)
var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth
this.$body[0].removeChild(scrollDiv)
return scrollbarWidth}
function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this)
var data=$this.data('bs.modal')
var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('bs.modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option](_relatedTarget)
else if(options.show)data.show(_relatedTarget)})}
var old=$.fn.modal
$.fn.modal=Plugin
$.fn.modal.Constructor=Modal
$.fn.modal.noConflict=function(){$.fn.modal=old
return this}
$(document).on('click.bs.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this)
var href=$this.attr('href')
var $target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,'')))
var option=$target.data('bs.modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
if($this.is('a'))e.preventDefault()
$target.one('show.bs.modal',function(showEvent){if(showEvent.isDefaultPrevented())return
$target.one('hidden.bs.modal',function(){$this.is(':visible')&&$this.trigger('focus')})})
Plugin.call($target,option,this)})}(jQuery);+function($){'use strict';var Tooltip=function(element,options){this.type=null
this.options=null
this.enabled=null
this.timeout=null
this.hoverState=null
this.$element=null
this.inState=null
this.init('tooltip',element,options)}
Tooltip.VERSION='3.3.7'
Tooltip.TRANSITION_DURATION=150
Tooltip.DEFAULTS={animation:!0,placement:'top',selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:!1,container:!1,viewport:{selector:'body',padding:0}}
Tooltip.prototype.init=function(type,element,options){this.enabled=!0
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport))
this.inState={click:!1,hover:!1,focus:!1}
if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error('`selector` option must be specified when initializing '+this.type+' on the window.document object!')}
var triggers=this.options.trigger.split(' ')
for(var i=triggers.length;i--;){var trigger=triggers[i]
if(trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!='manual'){var eventIn=trigger=='hover'?'mouseenter':'focusin'
var eventOut=trigger=='hover'?'mouseleave':'focusout'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()}
Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS}
Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options)
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options}
Tooltip.prototype.getDelegateOptions=function(){var options={}
var defaults=this.getDefaults()
this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value})
return options}
Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusin'?'focus':'hover']=!0}
if(self.tip().hasClass('in')||self.hoverState=='in'){self.hoverState='in'
return}
clearTimeout(self.timeout)
self.hoverState='in'
if(!self.options.delay||!self.options.delay.show)return self.show()
self.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)}
Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return!0}
return!1}
Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions())
$(obj.currentTarget).data('bs.'+this.type,self)}
if(obj instanceof $.Event){self.inState[obj.type=='focusout'?'focus':'hover']=!1}
if(self.isInStateTrue())return
clearTimeout(self.timeout)
self.hoverState='out'
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)}
Tooltip.prototype.show=function(){var e=$.Event('show.bs.'+this.type)
if(this.hasContent()&&this.enabled){this.$element.trigger(e)
var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0])
if(e.isDefaultPrevented()||!inDom)return
var that=this
var $tip=this.tip()
var tipId=this.getUID(this.type)
this.setContent()
$tip.attr('id',tipId)
this.$element.attr('aria-describedby',tipId)
if(this.options.animation)$tip.addClass('fade')
var placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
var autoToken=/\s?auto?\s?/i
var autoPlace=autoToken.test(placement)
if(autoPlace)placement=placement.replace(autoToken,'')||'top'
$tip.detach().css({top:0,left:0,display:'block'}).addClass(placement).data('bs.'+this.type,this)
this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element)
this.$element.trigger('inserted.bs.'+this.type)
var pos=this.getPosition()
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(autoPlace){var orgPlacement=placement
var viewportDim=this.getPosition(this.$viewport)
placement=placement=='bottom'&&pos.bottom+actualHeight>viewportDim.bottom?'top':placement=='top'&&pos.top-actualHeight<viewportDim.top?'bottom':placement=='right'&&pos.right+actualWidth>viewportDim.width?'left':placement=='left'&&pos.left-actualWidth<viewportDim.left?'right':placement
$tip.removeClass(orgPlacement).addClass(placement)}
var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight)
this.applyPlacement(calculatedOffset,placement)
var complete=function(){var prevHoverState=that.hoverState
that.$element.trigger('shown.bs.'+that.type)
that.hoverState=null
if(prevHoverState=='out')that.leave(that)}
$.support.transition&&this.$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}}
Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip()
var width=$tip[0].offsetWidth
var height=$tip[0].offsetHeight
var marginTop=parseInt($tip.css('margin-top'),10)
var marginLeft=parseInt($tip.css('margin-left'),10)
if(isNaN(marginTop))marginTop=0
if(isNaN(marginLeft))marginLeft=0
offset.top+=marginTop
offset.left+=marginLeft
$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0)
$tip.addClass('in')
var actualWidth=$tip[0].offsetWidth
var actualHeight=$tip[0].offsetHeight
if(placement=='top'&&actualHeight!=height){offset.top=offset.top+height-actualHeight}
var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight)
if(delta.left)offset.left+=delta.left
else offset.top+=delta.top
var isVertical=/top|bottom/.test(placement)
var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight
var arrowOffsetPosition=isVertical?'offsetWidth':'offsetHeight'
$tip.offset(offset)
this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)}
Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?'left':'top',50*(1-delta/dimension)+'%').css(isVertical?'top':'left','')}
Tooltip.prototype.setContent=function(){var $tip=this.tip()
var title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')}
Tooltip.prototype.hide=function(callback){var that=this
var $tip=$(this.$tip)
var e=$.Event('hide.bs.'+this.type)
function complete(){if(that.hoverState!='in')$tip.detach()
if(that.$element){that.$element.removeAttr('aria-describedby').trigger('hidden.bs.'+that.type)}
callback&&callback()}
this.$element.trigger(e)
if(e.isDefaultPrevented())return
$tip.removeClass('in')
$.support.transition&&$tip.hasClass('fade')?$tip.one('bsTransitionEnd',complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()
this.hoverState=null
return this}
Tooltip.prototype.fixTitle=function(){var $e=this.$element
if($e.attr('title')||typeof $e.attr('data-original-title')!='string'){$e.attr('data-original-title',$e.attr('title')||'').attr('title','')}}
Tooltip.prototype.hasContent=function(){return this.getTitle()}
Tooltip.prototype.getPosition=function($element){$element=$element||this.$element
var el=$element[0]
var isBody=el.tagName=='BODY'
var elRect=el.getBoundingClientRect()
if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}
var isSvg=window.SVGElement&&el instanceof window.SVGElement
var elOffset=isBody?{top:0,left:0}:(isSvg?null:$element.offset())
var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()}
var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null
return $.extend({},elRect,scroll,outerDims,elOffset)}
Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=='bottom'?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=='top'?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=='left'?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}
Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0}
if(!this.$viewport)return delta
var viewportPadding=this.options.viewport&&this.options.viewport.padding||0
var viewportDimensions=this.getPosition(this.$viewport)
if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll
var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight
if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding
var rightEdgeOffset=pos.left+viewportPadding+actualWidth
if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}
return delta}
Tooltip.prototype.getTitle=function(){var title
var $e=this.$element
var o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title}
Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1000000)
while(document.getElementById(prefix))
return prefix}
Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template)
if(this.$tip.length!=1){throw new Error(this.type+' `template` option must consist of exactly 1 top-level element!')}}
return this.$tip}
Tooltip.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find('.tooltip-arrow'))}
Tooltip.prototype.enable=function(){this.enabled=!0}
Tooltip.prototype.disable=function(){this.enabled=!1}
Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled}
Tooltip.prototype.toggle=function(e){var self=this
if(e){self=$(e.currentTarget).data('bs.'+this.type)
if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions())
$(e.currentTarget).data('bs.'+this.type,self)}}
if(e){self.inState.click=!self.inState.click
if(self.isInStateTrue())self.enter(self)
else self.leave(self)}else{self.tip().hasClass('in')?self.leave(self):self.enter(self)}}
Tooltip.prototype.destroy=function(){var that=this
clearTimeout(this.timeout)
this.hide(function(){that.$element.off('.'+that.type).removeData('bs.'+that.type)
if(that.$tip){that.$tip.detach()}
that.$tip=null
that.$arrow=null
that.$viewport=null
that.$element=null})}
function Plugin(option){return this.each(function(){var $this=$(this)
var data=$this.data('bs.tooltip')
var options=typeof option=='object'&&option
if(!data&&/destroy|hide/.test(option))return
if(!data)$this.data('bs.tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
var old=$.fn.tooltip
$.fn.tooltip=Plugin
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.noConflict=function(){$.fn.tooltip=old
return this}}(jQuery);;+function($){'use strict';function transitionEnd(){var el=document.createElement('bootstrap')
var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'}
for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}
return!1}
$.fn.emulateTransitionEnd=function(duration){var called=!1
var $el=this
$(this).one('bsTransitionEnd',function(){called=!0})
var callback=function(){if(!called)$($el).trigger($.support.transition.end)}
setTimeout(callback,duration)
return this}
$(function(){$.support.transition=transitionEnd()
if(!$.support.transition)return
$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);;(function(root,factory){if(typeof exports=='object')module.exports=factory()
else if(typeof define=='function'&&define.amd)define(factory)
else root.Spinner=factory()}(this,function(){"use strict";var prefixes=['webkit','Moz','ms','O'],animations={},useCssAnimations
function createEl(tag,prop){var el=document.createElement(tag||'div'),n
for(n in prop)el[n]=prop[n]
return el}
function ins(parent){for(var i=1,n=arguments.length;i<n;i++)
parent.appendChild(arguments[i])
return parent}
var sheet=(function(){var el=createEl('style',{type:'text/css'})
ins(document.getElementsByTagName('head')[0],el)
return el.sheet||el.styleSheet}())
function addAnimation(alpha,trail,i,lines){var name=['opacity',trail,~~(alpha*100),i,lines].join('-'),start=0.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf('Animation')).toLowerCase(),pre=prefix&&'-'+prefix+'-'||''
if(!animations[name]){sheet.insertRule('@'+pre+'keyframes '+name+'{'+'0%{opacity:'+z+'}'+start+'%{opacity:'+alpha+'}'+(start+0.01)+'%{opacity:1}'+(start+trail)%100+'%{opacity:'+alpha+'}'+'100%{opacity:'+z+'}'+'}',sheet.cssRules.length)
animations[name]=1}
return name}
function vendor(el,prop){var s=el.style,pp,i
prop=prop.charAt(0).toUpperCase()+prop.slice(1)
for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop
if(s[pp]!==undefined)return pp}
if(s[prop]!==undefined)return prop}
function css(el,prop){for(var n in prop)
el.style[vendor(el,n)||n]=prop[n]
return el}
function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i]
for(var n in def)
if(obj[n]===undefined)obj[n]=def[n]}
return obj}
function getColor(color,idx){return typeof color=='string'?color:color[idx%color.length]}
var defaults={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:'#000',direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:'spinner',top:'50%',left:'50%',position:'absolute'}
function Spinner(o){this.opts=merge(o||{},Spinner.defaults,defaults)}
Spinner.defaults={}
merge(Spinner.prototype,{spin:function(target){this.stop()
var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex})
css(el,{left:o.left,top:o.top})
if(target){target.insertBefore(el,target.firstChild||null)}
el.setAttribute('role','progressbar')
self.lines(el,self.opts)
if(!useCssAnimations){var i=0,start=(o.lines-1)*(1-o.direction)/2,alpha,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;(function anim(){i++;for(var j=0;j<o.lines;j++){alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity)
self.opacity(el,j*o.direction+start,alpha,o)}
self.timeout=self.el&&setTimeout(anim,~~(1000/fps))})()}
return self},stop:function(){var el=this.el
if(el){clearTimeout(this.timeout)
if(el.parentNode)el.parentNode.removeChild(el)
this.el=undefined}
return this},lines:function(el,o){var i=0,start=(o.lines-1)*(1-o.direction)/2,seg
function fill(color,shadow){return css(createEl(),{position:'absolute',width:(o.length+o.width)+'px',height:o.width+'px',background:color,boxShadow:shadow,transformOrigin:'left',transform:'rotate('+~~(360/o.lines*i+o.rotate)+'deg) translate('+o.radius+'px'+',0)',borderRadius:(o.corners*o.width>>1)+'px'})}
for(;i<o.lines;i++){seg=css(createEl(),{position:'absolute',top:1+~(o.width/2)+'px',transform:o.hwaccel?'translate3d(0,0,0)':'',opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+' '+1/o.speed+'s linear infinite'})
if(o.shadow)ins(seg,css(fill('#000','0 0 4px '+'#000'),{top:2+'px'}))
ins(el,ins(seg,fill(getColor(o.color,i),'0 0 1px rgba(0,0,0,.1)')))}
return el},opacity:function(el,i,val){if(i<el.childNodes.length)el.childNodes[i].style.opacity=val}})
function initVML(){function vml(tag,attr){return createEl('<'+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}
sheet.addRule('.spin-vml','behavior:url(#default#VML)')
Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r
function grp(){return css(vml('group',{coordsize:s+' '+s,coordorigin:-r+' '+ -r}),{width:s,height:s})}
var margin=-(o.width+o.length)*2+'px',g=css(grp(),{position:'absolute',top:margin,left:margin}),i
function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+'deg',left:~~dx}),ins(css(vml('roundrect',{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml('fill',{color:getColor(o.color,i),opacity:o.opacity}),vml('stroke',{opacity:0}))))}
if(o.shadow)
for(i=1;i<=o.lines;i++)
seg(i,-2,'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')
for(i=1;i<=o.lines;i++)seg(i)
return ins(el,g)}
Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild
o=o.shadow&&o.lines||0
if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild
if(c)c.opacity=val}}}
var probe=css(createEl('group'),{behavior:'url(#default#VML)'})
if(!vendor(probe,'transform')&&probe.adj)initVML()
else useCssAnimations=vendor(probe,'animation')
return Spinner}));(function(factory){if(typeof exports=='object'){factory(require('jquery'),require('spin.js'))}else if(typeof define=='function'&&define.amd){define(['jquery','spin'],factory)}else{if(!window.Spinner)throw new Error('Spin.js not present')
factory(window.jQuery,window.Spinner)}}(function($,Spinner){$.fn.spin=function(opts,color){return this.each(function(){var $this=$(this),data=$this.data();if(data.spinner){data.spinner.stop();delete data.spinner}
if(opts!==!1){opts=$.extend({color:color||$this.css('color')},$.fn.spin.presets[opts]||opts)
data.spinner=new Spinner(opts).spin(this)}})}
$.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}));(function(){'use strict';function FastClick(layer,options){var oldOnClick;options=options||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=options.touchBoundary||10;this.layer=layer;this.tapDelay=options.tapDelay||200;this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return}
function bind(method,context){return function(){return method.apply(context,arguments)}}
var methods=['onMouse','onClick','onTouchStart','onTouchMove','onTouchEnd','onTouchCancel'];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context)}
if(deviceIsAndroid){layer.addEventListener('mouseover',this.onMouse,!0);layer.addEventListener('mousedown',this.onMouse,!0);layer.addEventListener('mouseup',this.onMouse,!0)}
layer.addEventListener('click',this.onClick,!0);layer.addEventListener('touchstart',this.onTouchStart,!1);layer.addEventListener('touchmove',this.onTouchMove,!1);layer.addEventListener('touchend',this.onTouchEnd,!1);layer.addEventListener('touchcancel',this.onTouchCancel,!1);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==='click'){rmv.call(layer,type,callback.hijacked||callback,capture)}else{rmv.call(layer,type,callback,capture)}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==='click'){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event)}}),capture)}else{adv.call(layer,type,callback,capture)}}}
if(typeof layer.onclick==='function'){oldOnClick=layer.onclick;layer.addEventListener('click',function(event){oldOnClick(event)},!1);layer.onclick=null}}
var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;var deviceIsAndroid=navigator.userAgent.indexOf('Android')>0&&!deviceIsWindowsPhone;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS [6-7]_\d/).test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf('BB10')>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case 'button':case 'select':case 'textarea':if(target.disabled){return!0}
break;case 'input':if((deviceIsIOS&&target.type==='file')||target.disabled){return!0}
break;case 'label':case 'iframe':case 'video':return!0}
return(/\bneedsclick\b/).test(target.className)};FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case 'textarea':return!0;case 'select':return!deviceIsAndroid;case 'input':switch(target.type){case 'button':case 'checkbox':case 'file':case 'image':case 'radio':case 'submit':return!1}
return!target.disabled&&!target.readOnly;default:return(/\bneedsfocus\b/).test(target.className)}};FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur()}
touch=event.changedTouches[0];clickEvent=document.createEvent('MouseEvents');clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null);clickEvent.forwardedTouchEvent=!0;targetElement.dispatchEvent(clickEvent)};FastClick.prototype.determineEventType=function(targetElement){if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==='select'){return'mousedown'}
return'click'};FastClick.prototype.focus=function(targetElement){var length;if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf('date')!==0&&targetElement.type!=='time'&&targetElement.type!=='month'){length=targetElement.value.length;targetElement.setSelectionRange(length,length)}else{targetElement.focus()}};FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break}
parentElement=parentElement.parentElement}while(parentElement);}
if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode}
return eventTarget};FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1){return!0}
targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return!0}
if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return!1}
this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement)}}
this.trackingClick=!0;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if((event.timeStamp-this.lastClickTime)<this.tapDelay){event.preventDefault()}
return!0};FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return!0}
return!1};FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return!0}
if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=!1;this.targetElement=null}
return!0};FastClick.prototype.findControl=function(labelElement){if(labelElement.control!==undefined){return labelElement.control}
if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor)}
return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea')};FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return!0}
if((event.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=!0;return!0}
if((event.timeStamp-this.trackingClickStart)>this.tapTimeout){return!0}
this.cancelNextClick=!1;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent}
targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==='label'){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return!1}
targetElement=forElement}}else if(this.needsFocus(targetElement)){if((event.timeStamp-trackingClickStart)>100||(deviceIsIOS&&window.top!==window&&targetTagName==='input')){this.targetElement=null;return!1}
this.focus(targetElement);this.sendClick(targetElement,event);if(!deviceIsIOS||targetTagName!=='select'){this.targetElement=null;event.preventDefault()}
return!1}
if(deviceIsIOS&&!deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return!0}}
if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event)}
return!1};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(event){if(!this.targetElement){return!0}
if(event.forwardedTouchEvent){return!0}
if(!event.cancelable){return!0}
if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation()}else{event.propagationStopped=!0}
event.stopPropagation();event.preventDefault();return!1}
return!0};FastClick.prototype.onClick=function(event){var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=!1;return!0}
if(event.target.type==='submit'&&event.detail===0){return!0}
permitted=this.onMouse(event);if(!permitted){this.targetElement=null}
return permitted};FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener('mouseover',this.onMouse,!0);layer.removeEventListener('mousedown',this.onMouse,!0);layer.removeEventListener('mouseup',this.onMouse,!0)}
layer.removeEventListener('click',this.onClick,!0);layer.removeEventListener('touchstart',this.onTouchStart,!1);layer.removeEventListener('touchmove',this.onTouchMove,!1);layer.removeEventListener('touchend',this.onTouchEnd,!1);layer.removeEventListener('touchcancel',this.onTouchCancel,!1)};FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;if(typeof window.ontouchstart==='undefined'){return!0}
chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){if(metaViewport.content.indexOf('user-scalable=no')!==-1){return!0}
if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return!0}}}else{return!0}}
if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){if(metaViewport.content.indexOf('user-scalable=no')!==-1){return!0}
if(document.documentElement.scrollWidth<=window.outerWidth){return!0}}}}
if(layer.style.msTouchAction==='none'||layer.style.touchAction==='manipulation'){return!0}
firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport&&(metaViewport.content.indexOf('user-scalable=no')!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return!0}}
if(layer.style.touchAction==='none'||layer.style.touchAction==='manipulation'){return!0}
return!1};FastClick.attach=function(layer,options){return new FastClick(layer,options)};if(typeof define==='function'&&typeof define.amd==='object'&&define.amd){define(function(){return FastClick})}else if(typeof module!=='undefined'&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}());(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}
return result}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1]}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000)}else{output.push(value);counter--}}else{output.push(value)}}
return output}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF}
output+=stringFromCharCode(value);return output}).join('')}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}
if(codePoint-65<26){return codePoint-65}
if(codePoint-97<26){return codePoint-97}
return base}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic')}
output.push(input.charCodeAt(j))}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input')}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow')}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break}
baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow')}
w*=baseMinusT}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow')}
n+=floor(i/out);i%=out;output.splice(i++,0,n)}
return ucs2encode(output)}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue))}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow')}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow')}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}
++delta;++n}
return output.join('')}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string})}
punycode={'version':'1.4.1','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return punycode})}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}}(this));'use strict';System.register('flarum/app',['flarum/ForumApp','flarum/initializers/store','flarum/initializers/preload','flarum/initializers/routes','flarum/initializers/components','flarum/initializers/humanTime','flarum/initializers/boot','flarum/initializers/alertEmailConfirmation'],function(_export,_context){"use strict";var ForumApp,store,preload,routes,components,humanTime,boot,alertEmailConfirmation,app;return{setters:[function(_flarumForumApp){ForumApp=_flarumForumApp.default},function(_flarumInitializersStore){store=_flarumInitializersStore.default},function(_flarumInitializersPreload){preload=_flarumInitializersPreload.default},function(_flarumInitializersRoutes){routes=_flarumInitializersRoutes.default},function(_flarumInitializersComponents){components=_flarumInitializersComponents.default},function(_flarumInitializersHumanTime){humanTime=_flarumInitializersHumanTime.default},function(_flarumInitializersBoot){boot=_flarumInitializersBoot.default},function(_flarumInitializersAlertEmailConfirmation){alertEmailConfirmation=_flarumInitializersAlertEmailConfirmation.default}],execute:function(){app=new ForumApp();app.initializers.add('store',store);app.initializers.add('routes',routes);app.initializers.add('components',components);app.initializers.add('humanTime',humanTime);app.initializers.add('preload',preload,-100);app.initializers.add('boot',boot,-100);app.initializers.add('alertEmailConfirmation',alertEmailConfirmation,-100);_export('default',app)}}});'use strict';System.register('flarum/App',['flarum/utils/ItemList','flarum/components/Alert','flarum/components/Button','flarum/components/RequestErrorModal','flarum/components/ConfirmPasswordModal','flarum/Translator','flarum/utils/extract','flarum/utils/patchMithril','flarum/utils/RequestError','flarum/extend'],function(_export,_context){"use strict";var ItemList,Alert,Button,RequestErrorModal,ConfirmPasswordModal,Translator,extract,patchMithril,RequestError,extend,App;return{setters:[function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsRequestErrorModal){RequestErrorModal=_flarumComponentsRequestErrorModal.default},function(_flarumComponentsConfirmPasswordModal){ConfirmPasswordModal=_flarumComponentsConfirmPasswordModal.default},function(_flarumTranslator){Translator=_flarumTranslator.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default},function(_flarumUtilsPatchMithril){patchMithril=_flarumUtilsPatchMithril.default},function(_flarumUtilsRequestError){RequestError=_flarumUtilsRequestError.default},function(_flarumExtend){extend=_flarumExtend.extend}],execute:function(){App=function(){function App(){babelHelpers.classCallCheck(this,App);patchMithril(window);this.forum=null;this.routes={};this.initializers=new ItemList();this.session=null;this.translator=new Translator();this.store=null;this.cache={};this.booted=!1;this.requestError=null;this.title='';this.titleCount=0}
babelHelpers.createClass(App,[{key:'boot',value:function boot(data){var _this=this;this.data=data;this.translator.locale=data.locale;this.initializers.toArray().forEach(function(initializer){return initializer(_this)})}},{key:'preloadedDocument',value:function preloadedDocument(){if(this.data.document){var results=this.store.pushPayload(this.data.document);this.data.document=null;return results}
return null}},{key:'setTitle',value:function setTitle(title){this.title=title;this.updateTitle()}},{key:'setTitleCount',value:function setTitleCount(count){this.titleCount=count;this.updateTitle()}},{key:'updateTitle',value:function updateTitle(){document.title=(this.titleCount?'('+this.titleCount+') ':'')+(this.title?this.title+' - ':'')+this.forum.attribute('title')}},{key:'request',value:function request(originalOptions){var _this2=this;var options=babelHelpers.extends({},originalOptions);options.background=options.background||!0;extend(options,'config',function(result,xhr){return xhr.setRequestHeader('X-CSRF-Token',_this2.session.csrfToken)});if(options.method!=='GET'&&options.method!=='POST'){var method=options.method;extend(options,'config',function(result,xhr){return xhr.setRequestHeader('X-HTTP-Method-Override',method)});options.method='POST'}
options.deserialize=options.deserialize||function(responseText){return responseText};options.errorHandler=options.errorHandler||function(error){throw error};var original=options.extract;options.extract=function(xhr){var responseText=void 0;if(original){responseText=original(xhr.responseText)}else{responseText=xhr.responseText||null}
var status=xhr.status;if(status<200||status>299){throw new RequestError(status,responseText,options,xhr)}
if(xhr.getResponseHeader){var csrfToken=xhr.getResponseHeader('X-CSRF-Token');if(csrfToken)app.session.csrfToken=csrfToken}
try{return JSON.parse(responseText)}catch(e){throw new RequestError(500,responseText,options,xhr)}};if(this.requestError)this.alerts.dismiss(this.requestError.alert);var deferred=m.deferred();m.request(options).then(function(response){return deferred.resolve(response)},function(error){_this2.requestError=error;var children=void 0;switch(error.status){case 422:children=error.response.errors.map(function(error){return[error.detail,m('br',null)]}).reduce(function(a,b){return a.concat(b)},[]).slice(0,-1);break;case 401:case 403:children=app.translator.trans('core.lib.error.permission_denied_message');break;case 404:case 410:children=app.translator.trans('core.lib.error.not_found_message');break;case 429:children=app.translator.trans('core.lib.error.rate_limit_exceeded_message');break;default:children=app.translator.trans('core.lib.error.generic_message')}
error.alert=new Alert({type:'error',children:children,controls:app.forum.attribute('debug')?[m(Button,{className:'Button Button--link',onclick:_this2.showDebug.bind(_this2,error)},'Debug')]:undefined});try{options.errorHandler(error)}catch(error){_this2.alerts.show(error.alert)}
deferred.reject(error)});return deferred.promise}},{key:'showDebug',value:function showDebug(error){this.alerts.dismiss(this.requestErrorAlert);this.modal.show(new RequestErrorModal({error:error}))}},{key:'route',value:function route(name){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var url=this.routes[name].path.replace(/:([^\/]+)/g,function(m,key){return extract(params,key)});var queryString=m.route.buildQueryString(params);var prefix=m.route.mode==='pathname'?app.forum.attribute('basePath'):'';return prefix+url+(queryString?'?'+queryString:'')}}]);return App}();_export('default',App)}}});'use strict';System.register('flarum/Component',[],function(_export,_context){"use strict";var Component;return{setters:[],execute:function(){Component=function(){function Component(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;babelHelpers.classCallCheck(this,Component);if(children)props.children=children;this.constructor.initProps(props);this.props=props;this.element=null;this.retain=!1;this.init()}
babelHelpers.createClass(Component,[{key:'init',value:function init(){}},{key:'onunload',value:function onunload(){}},{key:'render',value:function render(){var _this=this;var vdom=this.retain?{subtree:'retain'}:this.view();vdom.attrs=vdom.attrs||{};var originalConfig=vdom.attrs.config;vdom.attrs.config=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}
_this.element=args[0];_this.config.apply(_this,args.slice(1));if(originalConfig)originalConfig.apply(_this,args)};return vdom}},{key:'$',value:function(_$){function $(_x){return _$.apply(this,arguments)}
$.toString=function(){return _$.toString()};return $}(function(selector){var $element=$(this.element);return selector?$element.find(selector):$element})},{key:'config',value:function config(){}},{key:'view',value:function view(){throw new Error('Component#view must be implemented by subclass')}}],[{key:'component',value:function component(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var children=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var componentProps=babelHelpers.extends({},props);if(children)componentProps.children=children;this.initProps(componentProps);var view=function view(component){component.props=componentProps;return component.render()};view.$original=this.prototype.view;var output={controller:this.bind(undefined,componentProps),view:view,props:componentProps,component:this};if(componentProps.key){output.attrs={key:componentProps.key}}
return output}},{key:'initProps',value:function initProps(props){}}]);return Component}();_export('default',Component)}}});'use strict';System.register('flarum/components/Alert',['flarum/Component','flarum/components/Button','flarum/helpers/listItems','flarum/utils/extract'],function(_export,_context){"use strict";var Component,Button,listItems,extract,Alert;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default}],execute:function(){Alert=function(_Component){babelHelpers.inherits(Alert,_Component);function Alert(){babelHelpers.classCallCheck(this,Alert);return babelHelpers.possibleConstructorReturn(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).apply(this,arguments))}
babelHelpers.createClass(Alert,[{key:'view',value:function view(){var attrs=babelHelpers.extends({},this.props);var type=extract(attrs,'type');attrs.className='Alert Alert--'+type+' '+(attrs.className||'');var children=extract(attrs,'children');var controls=extract(attrs,'controls')||[];var dismissible=extract(attrs,'dismissible');var ondismiss=extract(attrs,'ondismiss');var dismissControl=[];if(dismissible||dismissible===undefined){dismissControl.push(m(Button,{icon:'times',className:'Button Button--link Button--icon Alert-dismiss',onclick:ondismiss}))}
return m('div',attrs,m('span',{className:'Alert-body'},children),m('ul',{className:'Alert-controls'},listItems(controls.concat(dismissControl))))}}]);return Alert}(Component);_export('default',Alert)}}});'use strict';System.register('flarum/components/AlertManager',['flarum/Component','flarum/components/Alert'],function(_export,_context){"use strict";var Component,Alert,AlertManager;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default}],execute:function(){AlertManager=function(_Component){babelHelpers.inherits(AlertManager,_Component);function AlertManager(){babelHelpers.classCallCheck(this,AlertManager);return babelHelpers.possibleConstructorReturn(this,(AlertManager.__proto__||Object.getPrototypeOf(AlertManager)).apply(this,arguments))}
babelHelpers.createClass(AlertManager,[{key:'init',value:function init(){this.components=[]}},{key:'view',value:function view(){return m('div',{className:'AlertManager'},this.components.map(function(component){return m('div',{className:'AlertManager-alert'},component)}))}},{key:'config',value:function config(isInitialized,context){context.retain=!0}},{key:'show',value:function show(component){if(!(component instanceof Alert)){throw new Error('The AlertManager component can only show Alert components')}
component.props.ondismiss=this.dismiss.bind(this,component);this.components.push(component);m.redraw()}},{key:'dismiss',value:function dismiss(component){var index=this.components.indexOf(component);if(index!==-1){this.components.splice(index,1);m.redraw()}}},{key:'clear',value:function clear(){this.components=[];m.redraw()}}]);return AlertManager}(Component);_export('default',AlertManager)}}});'use strict';System.register('flarum/components/AvatarEditor',['flarum/Component','flarum/helpers/avatar','flarum/helpers/icon','flarum/helpers/listItems','flarum/utils/ItemList','flarum/components/Button','flarum/components/LoadingIndicator'],function(_export,_context){"use strict";var Component,avatar,icon,listItems,ItemList,Button,LoadingIndicator,AvatarEditor;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default}],execute:function(){AvatarEditor=function(_Component){babelHelpers.inherits(AvatarEditor,_Component);function AvatarEditor(){babelHelpers.classCallCheck(this,AvatarEditor);return babelHelpers.possibleConstructorReturn(this,(AvatarEditor.__proto__||Object.getPrototypeOf(AvatarEditor)).apply(this,arguments))}
babelHelpers.createClass(AvatarEditor,[{key:'init',value:function init(){this.loading=!1}},{key:'view',value:function view(){var user=this.props.user;return m('div',{className:'AvatarEditor Dropdown '+this.props.className+(this.loading?' loading':'')},avatar(user),m('a',{className:user.avatarUrl()?"Dropdown-toggle":"Dropdown-toggle AvatarEditor--noAvatar",title:app.translator.trans('core.forum.user.avatar_upload_tooltip'),'data-toggle':'dropdown',onclick:this.quickUpload.bind(this)},this.loading?LoadingIndicator.component():user.avatarUrl()?icon('pencil'):icon('plus-circle')),m('ul',{className:'Dropdown-menu Menu'},listItems(this.controlItems().toArray())))}},{key:'controlItems',value:function controlItems(){var items=new ItemList();items.add('upload',Button.component({icon:'upload',children:app.translator.trans('core.forum.user.avatar_upload_button'),onclick:this.upload.bind(this)}));items.add('remove',Button.component({icon:'times',children:app.translator.trans('core.forum.user.avatar_remove_button'),onclick:this.remove.bind(this)}));return items}},{key:'quickUpload',value:function quickUpload(e){if(!this.props.user.avatarUrl()){e.preventDefault();e.stopPropagation();this.upload()}}},{key:'upload',value:function upload(){var _this2=this;if(this.loading)return;var user=this.props.user;var $input=$('<input type="file">');$input.appendTo('body').hide().click().on('change',function(e){var data=new FormData();data.append('avatar',$(e.target)[0].files[0]);_this2.loading=!0;m.redraw();app.request({method:'POST',url:app.forum.attribute('apiUrl')+'/users/'+user.id()+'/avatar',serialize:function serialize(raw){return raw},data:data}).then(_this2.success.bind(_this2),_this2.failure.bind(_this2))})}},{key:'remove',value:function remove(){var user=this.props.user;this.loading=!0;m.redraw();app.request({method:'DELETE',url:app.forum.attribute('apiUrl')+'/users/'+user.id()+'/avatar'}).then(this.success.bind(this),this.failure.bind(this))}},{key:'success',value:function success(response){app.store.pushPayload(response);delete this.props.user.avatarColor;this.loading=!1;m.redraw()}},{key:'failure',value:function failure(response){this.loading=!1;m.redraw()}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(AvatarEditor.__proto__||Object.getPrototypeOf(AvatarEditor),'initProps',this).call(this,props);props.className=props.className||''}}]);return AvatarEditor}(Component);_export('default',AvatarEditor)}}});'use strict';System.register('flarum/components/Badge',['flarum/Component','flarum/helpers/icon','flarum/utils/extract'],function(_export,_context){"use strict";var Component,icon,extract,Badge;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default}],execute:function(){Badge=function(_Component){babelHelpers.inherits(Badge,_Component);function Badge(){babelHelpers.classCallCheck(this,Badge);return babelHelpers.possibleConstructorReturn(this,(Badge.__proto__||Object.getPrototypeOf(Badge)).apply(this,arguments))}
babelHelpers.createClass(Badge,[{key:'view',value:function view(){var attrs=babelHelpers.extends({},this.props);var type=extract(attrs,'type');var iconName=extract(attrs,'icon');attrs.className='Badge '+(type?'Badge--'+type:'')+' '+(attrs.className||'');attrs.title=extract(attrs,'label')||'';return m('span',attrs,iconName?icon(iconName,{className:'Badge-icon'}):m.trust('&nbsp;'))}},{key:'config',value:function config(isInitialized){if(isInitialized)return;if(this.props.label)this.$().tooltip({container:'body'})}}]);return Badge}(Component);_export('default',Badge)}}});'use strict';System.register('flarum/components/Button',['flarum/Component','flarum/helpers/icon','flarum/utils/extract','flarum/utils/extractText','flarum/components/LoadingIndicator'],function(_export,_context){"use strict";var Component,icon,extract,extractText,LoadingIndicator,Button;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default}],execute:function(){Button=function(_Component){babelHelpers.inherits(Button,_Component);function Button(){babelHelpers.classCallCheck(this,Button);return babelHelpers.possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments))}
babelHelpers.createClass(Button,[{key:'view',value:function view(){var attrs=babelHelpers.extends({},this.props);delete attrs.children;attrs.className=attrs.className||'';attrs.type=attrs.type||'button';if(!attrs.title&&this.props.children){attrs.title=extractText(this.props.children)}
var iconName=extract(attrs,'icon');if(iconName)attrs.className+=' hasIcon';var loading=extract(attrs,'loading');if(attrs.disabled||loading){attrs.className+=' disabled'+(loading?' loading':'');delete attrs.onclick}
return m('button',attrs,this.getButtonContent())}},{key:'getButtonContent',value:function getButtonContent(){var iconName=this.props.icon;return[iconName&&iconName!==!0?icon(iconName,{className:'Button-icon'}):'',this.props.children?m('span',{className:'Button-label'},this.props.children):'',this.props.loading?LoadingIndicator.component({size:'tiny',className:'LoadingIndicator--inline'}):'']}}]);return Button}(Component);_export('default',Button)}}});'use strict';System.register('flarum/components/ChangeEmailModal',['flarum/components/Modal','flarum/components/Button'],function(_export,_context){"use strict";var Modal,Button,ChangeEmailModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){ChangeEmailModal=function(_Modal){babelHelpers.inherits(ChangeEmailModal,_Modal);function ChangeEmailModal(){babelHelpers.classCallCheck(this,ChangeEmailModal);return babelHelpers.possibleConstructorReturn(this,(ChangeEmailModal.__proto__||Object.getPrototypeOf(ChangeEmailModal)).apply(this,arguments))}
babelHelpers.createClass(ChangeEmailModal,[{key:'init',value:function init(){babelHelpers.get(ChangeEmailModal.prototype.__proto__||Object.getPrototypeOf(ChangeEmailModal.prototype),'init',this).call(this);this.success=!1;this.email=m.prop(app.session.user.email());this.password=m.prop('')}},{key:'className',value:function className(){return'ChangeEmailModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.change_email.title')}},{key:'content',value:function content(){if(this.success){return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('p',{className:'helpText'},app.translator.trans('core.forum.change_email.confirmation_message',{email:m('strong',null,this.email())})),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary Button--block',onclick:this.hide.bind(this)},app.translator.trans('core.forum.change_email.dismiss_button')))))}
return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('div',{className:'Form-group'},m('input',{type:'email',name:'email',className:'FormControl',placeholder:app.session.user.email(),bidi:this.email,disabled:this.loading})),m('div',{className:'Form-group'},m('input',{type:'password',name:'password',className:'FormControl',placeholder:app.translator.trans('core.forum.change_email.confirm_password_placeholder'),bidi:this.password,disabled:this.loading})),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary Button--block',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.change_email.submit_button')}))))}},{key:'onsubmit',value:function onsubmit(e){var _this2=this;e.preventDefault();if(this.email()===app.session.user.email()){this.hide();return}
var oldEmail=app.session.user.email();this.loading=!0;app.session.user.save({email:this.email()},{errorHandler:this.onerror.bind(this),meta:{password:this.password()}}).then(function(){return _this2.success=!0}).catch(function(){}).then(this.loaded.bind(this))}},{key:'onerror',value:function onerror(error){if(error.status===401){error.alert.props.children=app.translator.trans('core.forum.change_email.incorrect_password_message')}
babelHelpers.get(ChangeEmailModal.prototype.__proto__||Object.getPrototypeOf(ChangeEmailModal.prototype),'onerror',this).call(this,error)}}]);return ChangeEmailModal}(Modal);_export('default',ChangeEmailModal)}}});'use strict';System.register('flarum/components/ChangePasswordModal',['flarum/components/Modal','flarum/components/Button'],function(_export,_context){"use strict";var Modal,Button,ChangePasswordModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){ChangePasswordModal=function(_Modal){babelHelpers.inherits(ChangePasswordModal,_Modal);function ChangePasswordModal(){babelHelpers.classCallCheck(this,ChangePasswordModal);return babelHelpers.possibleConstructorReturn(this,(ChangePasswordModal.__proto__||Object.getPrototypeOf(ChangePasswordModal)).apply(this,arguments))}
babelHelpers.createClass(ChangePasswordModal,[{key:'className',value:function className(){return'ChangePasswordModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.change_password.title')}},{key:'content',value:function content(){return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('p',{className:'helpText'},app.translator.trans('core.forum.change_password.text')),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary Button--block',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.change_password.send_button')}))))}},{key:'onsubmit',value:function onsubmit(e){e.preventDefault();this.loading=!0;app.request({method:'POST',url:app.forum.attribute('apiUrl')+'/forgot',data:{email:app.session.user.email()}}).then(this.hide.bind(this),this.loaded.bind(this))}}]);return ChangePasswordModal}(Modal);_export('default',ChangePasswordModal)}}});'use strict';System.register('flarum/components/Checkbox',['flarum/Component','flarum/components/LoadingIndicator','flarum/helpers/icon'],function(_export,_context){"use strict";var Component,LoadingIndicator,icon,Checkbox;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){Checkbox=function(_Component){babelHelpers.inherits(Checkbox,_Component);function Checkbox(){babelHelpers.classCallCheck(this,Checkbox);return babelHelpers.possibleConstructorReturn(this,(Checkbox.__proto__||Object.getPrototypeOf(Checkbox)).apply(this,arguments))}
babelHelpers.createClass(Checkbox,[{key:'init',value:function init(){this.loading=!1}},{key:'view',value:function view(){var className='Checkbox '+(this.props.state?'on':'off')+' '+(this.props.className||'');if(this.loading)className+=' loading';if(this.props.disabled)className+=' disabled';return m('label',{className:className},m('input',{type:'checkbox',checked:this.props.state,disabled:this.props.disabled,onchange:m.withAttr('checked',this.onchange.bind(this))}),m('div',{className:'Checkbox-display'},this.getDisplay()),this.props.children)}},{key:'getDisplay',value:function getDisplay(){return this.loading?LoadingIndicator.component({size:'tiny'}):icon(this.props.state?'check':'times')}},{key:'onchange',value:function onchange(checked){if(this.props.onchange)this.props.onchange(checked,this)}}]);return Checkbox}(Component);_export('default',Checkbox)}}});'use strict';System.register('flarum/components/CommentPost',['flarum/components/Post','flarum/utils/classList','flarum/components/PostUser','flarum/components/PostMeta','flarum/components/PostEdited','flarum/components/EditPostComposer','flarum/utils/ItemList','flarum/helpers/listItems','flarum/components/Button'],function(_export,_context){"use strict";var Post,classList,PostUser,PostMeta,PostEdited,EditPostComposer,ItemList,listItems,Button,CommentPost;return{setters:[function(_flarumComponentsPost){Post=_flarumComponentsPost.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default},function(_flarumComponentsPostUser){PostUser=_flarumComponentsPostUser.default},function(_flarumComponentsPostMeta){PostMeta=_flarumComponentsPostMeta.default},function(_flarumComponentsPostEdited){PostEdited=_flarumComponentsPostEdited.default},function(_flarumComponentsEditPostComposer){EditPostComposer=_flarumComponentsEditPostComposer.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){CommentPost=function(_Post){babelHelpers.inherits(CommentPost,_Post);function CommentPost(){babelHelpers.classCallCheck(this,CommentPost);return babelHelpers.possibleConstructorReturn(this,(CommentPost.__proto__||Object.getPrototypeOf(CommentPost)).apply(this,arguments))}
babelHelpers.createClass(CommentPost,[{key:'init',value:function init(){var _this2=this;babelHelpers.get(CommentPost.prototype.__proto__||Object.getPrototypeOf(CommentPost.prototype),'init',this).call(this);this.revealContent=!1;this.postUser=new PostUser({post:this.props.post});this.subtree.check(function(){return _this2.postUser.cardVisible},function(){return _this2.isEditing()})}},{key:'content',value:function content(){return babelHelpers.get(CommentPost.prototype.__proto__||Object.getPrototypeOf(CommentPost.prototype),'content',this).call(this).concat([m('header',{className:'Post-header'},m('ul',listItems(this.headerItems().toArray()))),m('div',{className:'Post-body'},this.isEditing()?m('div',{className:'Post-preview',config:this.configPreview.bind(this)}):m.trust(this.props.post.contentHtml()))])}},{key:'config',value:function config(isInitialized,context){babelHelpers.get(CommentPost.prototype.__proto__||Object.getPrototypeOf(CommentPost.prototype),'config',this).apply(this,arguments);var contentHtml=this.isEditing()?'':this.props.post.contentHtml();if(context.contentHtml!==contentHtml){this.$('.Post-body script').each(function(){eval.call(window,$(this).text())})}
context.contentHtml=contentHtml}},{key:'isEditing',value:function isEditing(){return app.composer.component instanceof EditPostComposer&&app.composer.component.props.post===this.props.post}},{key:'attrs',value:function attrs(){var post=this.props.post;var attrs=babelHelpers.get(CommentPost.prototype.__proto__||Object.getPrototypeOf(CommentPost.prototype),'attrs',this).call(this);attrs.className+=' '+classList({'CommentPost':!0,'Post--hidden':post.isHidden(),'Post--edited':post.isEdited(),'revealContent':this.revealContent,'editing':this.isEditing()});return attrs}},{key:'configPreview',value:function configPreview(element,isInitialized,context){if(isInitialized)return;var preview=void 0;var updatePreview=function updatePreview(){var content=app.composer.component.content();if(preview===content)return;preview=content;s9e.TextFormatter.preview(preview||'',element)};updatePreview();var updateInterval=setInterval(updatePreview,50);context.onunload=function(){return clearInterval(updateInterval)}}},{key:'toggleContent',value:function toggleContent(){this.revealContent=!this.revealContent}},{key:'headerItems',value:function headerItems(){var items=new ItemList();var post=this.props.post;var props={post:post};items.add('user',this.postUser.render(),100);items.add('meta',PostMeta.component(props));if(post.isEdited()&&!post.isHidden()){items.add('edited',PostEdited.component(props))}
if(post.isHidden()){items.add('toggle',Button.component({className:'Button Button--default Button--more',icon:'ellipsis-h',onclick:this.toggleContent.bind(this)}))}
return items}}]);return CommentPost}(Post);_export('default',CommentPost)}}});'use strict';System.register('flarum/components/Composer',['flarum/Component','flarum/utils/ItemList','flarum/components/ComposerButton','flarum/helpers/listItems','flarum/utils/classList','flarum/utils/computed'],function(_export,_context){"use strict";var Component,ItemList,ComposerButton,listItems,classList,computed,Composer;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsComposerButton){ComposerButton=_flarumComponentsComposerButton.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default}],execute:function(){Composer=function(_Component){babelHelpers.inherits(Composer,_Component);function Composer(){babelHelpers.classCallCheck(this,Composer);return babelHelpers.possibleConstructorReturn(this,(Composer.__proto__||Object.getPrototypeOf(Composer)).apply(this,arguments))}
babelHelpers.createClass(Composer,[{key:'init',value:function init(){this.position=Composer.PositionEnum.HIDDEN;this.height=null;this.active=!1;this.computedHeight=computed('height','position',function(height,position){if(position===Composer.PositionEnum.MINIMIZED){return''}else if(position===Composer.PositionEnum.FULLSCREEN){return $(window).height()}
return Math.max(200,Math.min(height,$(window).height()-$('#header').outerHeight()))})}},{key:'view',value:function view(){var classes={'normal':this.position===Composer.PositionEnum.NORMAL,'minimized':this.position===Composer.PositionEnum.MINIMIZED,'fullScreen':this.position===Composer.PositionEnum.FULLSCREEN,'active':this.active};classes.visible=classes.normal||classes.minimized||classes.fullScreen;if(this.component)this.component.props.disabled=classes.minimized;var showIfMinimized=this.position===Composer.PositionEnum.MINIMIZED?this.show.bind(this):undefined;return m('div',{className:'Composer '+classList(classes)},m('div',{className:'Composer-handle',config:this.configHandle.bind(this)}),m('ul',{className:'Composer-controls'},listItems(this.controlItems().toArray())),m('div',{className:'Composer-content',onclick:showIfMinimized},this.component?this.component.render():''))}},{key:'config',value:function config(isInitialized,context){var _this2=this;var defaultHeight=void 0;if(!isInitialized){defaultHeight=this.$().height()}
if(isInitialized)return;context.retain=!0;this.height=localStorage.getItem('composerHeight')||defaultHeight;this.$().hide().css('bottom',-this.height);this.$().on('focus blur',':input',function(e){_this2.active=e.type==='focusin';m.redraw()});this.$().on('keydown',':input','esc',function(){return _this2.close()});window.onbeforeunload=function(){return _this2.component&&_this2.component.preventExit()||undefined};var handlers={};$(window).on('resize',handlers.onresize=this.updateHeight.bind(this)).resize();$(document).on('mousemove',handlers.onmousemove=this.onmousemove.bind(this)).on('mouseup',handlers.onmouseup=this.onmouseup.bind(this));context.onunload=function(){$(window).off('resize',handlers.onresize);$(document).off('mousemove',handlers.onmousemove).off('mouseup',handlers.onmouseup)}}},{key:'configHandle',value:function configHandle(element,isInitialized){if(isInitialized)return;var composer=this;$(element).css('cursor','row-resize').bind('dragstart mousedown',function(e){return e.preventDefault()}).mousedown(function(e){composer.mouseStart=e.clientY;composer.heightStart=composer.$().height();composer.handle=$(this);$('body').css('cursor','row-resize')})}},{key:'onmousemove',value:function onmousemove(e){if(!this.handle)return;var deltaPixels=this.mouseStart-e.clientY;this.height=this.heightStart+deltaPixels;this.updateHeight();var scrollTop=$(window).scrollTop();var anchorToBottom=scrollTop>0&&scrollTop+$(window).height()>=$(document).height();this.updateBodyPadding(anchorToBottom);localStorage.setItem('composerHeight',this.height)}},{key:'onmouseup',value:function onmouseup(){if(!this.handle)return;this.handle=null;$('body').css('cursor','')}},{key:'updateHeight',value:function updateHeight(){var height=this.computedHeight();var $flexible=this.$('.Composer-flexible');this.$().height(height);if($flexible.length){var headerHeight=$flexible.offset().top-this.$().offset().top;var paddingBottom=parseInt($flexible.css('padding-bottom'),10);var footerHeight=this.$('.Composer-footer').outerHeight(!0);$flexible.height(this.$().outerHeight()-headerHeight-paddingBottom-footerHeight)}}},{key:'updateBodyPadding',value:function updateBodyPadding(){var visible=this.position!==Composer.PositionEnum.HIDDEN&&this.position!==Composer.PositionEnum.MINIMIZED&&this.$().css('position')!=='absolute';var paddingBottom=visible?this.computedHeight()-parseInt($('#app').css('padding-bottom'),10):0;$('#content').css({paddingBottom:paddingBottom})}},{key:'isFullScreen',value:function isFullScreen(){return this.position===Composer.PositionEnum.FULLSCREEN||this.$().css('position')==='absolute'}},{key:'preventExit',value:function preventExit(){if(this.component){var preventExit=this.component.preventExit();if(preventExit){return!confirm(preventExit)}}}},{key:'load',value:function load(component){if(this.preventExit())return;if(this.component){this.clear();m.redraw(!0)}
this.component=component}},{key:'clear',value:function clear(){this.component=null}},{key:'animateToPosition',value:function animateToPosition(position){var _this3=this;var oldPosition=this.position;var $composer=this.$().stop(!0);var oldHeight=$composer.outerHeight();var scrollTop=$(window).scrollTop();this.position=position;m.redraw(!0);$composer.show();this.updateHeight();var newHeight=$composer.outerHeight();if(oldPosition===Composer.PositionEnum.HIDDEN){$composer.css({bottom:-newHeight,height:newHeight})}else{$composer.css({height:oldHeight})}
$composer.animate({bottom:0,height:newHeight},'fast',function(){return _this3.component.focus()});this.updateBodyPadding();$(window).scrollTop(scrollTop)}},{key:'showBackdrop',value:function showBackdrop(){this.$backdrop=$('<div/>').addClass('composer-backdrop').appendTo('body')}},{key:'hideBackdrop',value:function hideBackdrop(){if(this.$backdrop)this.$backdrop.remove()}},{key:'show',value:function show(){if(this.position===Composer.PositionEnum.NORMAL||this.position===Composer.PositionEnum.FULLSCREEN){return}
this.animateToPosition(Composer.PositionEnum.NORMAL);if(this.isFullScreen()){this.$().css('top',$(window).scrollTop());this.showBackdrop();this.component.focus()}}},{key:'hide',value:function hide(){var _this4=this;var $composer=this.$();$composer.stop(!0).animate({bottom:-$composer.height()},'fast',function(){_this4.position=Composer.PositionEnum.HIDDEN;_this4.clear();m.redraw();$composer.hide();_this4.hideBackdrop();_this4.updateBodyPadding()})}},{key:'close',value:function close(){if(!this.preventExit()){this.hide()}}},{key:'minimize',value:function minimize(){if(this.position===Composer.PositionEnum.HIDDEN)return;this.animateToPosition(Composer.PositionEnum.MINIMIZED);this.$().css('top','auto');this.hideBackdrop()}},{key:'fullScreen',value:function fullScreen(){if(this.position!==Composer.PositionEnum.HIDDEN){this.position=Composer.PositionEnum.FULLSCREEN;m.redraw();this.updateHeight();this.component.focus()}}},{key:'exitFullScreen',value:function exitFullScreen(){if(this.position===Composer.PositionEnum.FULLSCREEN){this.position=Composer.PositionEnum.NORMAL;m.redraw();this.updateHeight();this.component.focus()}}},{key:'controlItems',value:function controlItems(){var items=new ItemList();if(this.position===Composer.PositionEnum.FULLSCREEN){items.add('exitFullScreen',ComposerButton.component({icon:'compress',title:app.translator.trans('core.forum.composer.exit_full_screen_tooltip'),onclick:this.exitFullScreen.bind(this)}))}else{if(this.position!==Composer.PositionEnum.MINIMIZED){items.add('minimize',ComposerButton.component({icon:'minus minimize',title:app.translator.trans('core.forum.composer.minimize_tooltip'),onclick:this.minimize.bind(this),itemClassName:'App-backControl'}));items.add('fullScreen',ComposerButton.component({icon:'expand',title:app.translator.trans('core.forum.composer.full_screen_tooltip'),onclick:this.fullScreen.bind(this)}))}
items.add('close',ComposerButton.component({icon:'times',title:app.translator.trans('core.forum.composer.close_tooltip'),onclick:this.close.bind(this)}))}
return items}}]);return Composer}(Component);Composer.PositionEnum={HIDDEN:'hidden',NORMAL:'normal',MINIMIZED:'minimized',FULLSCREEN:'fullScreen'};_export('default',Composer)}}});'use strict';System.register('flarum/components/ComposerBody',['flarum/Component','flarum/components/LoadingIndicator','flarum/components/TextEditor','flarum/helpers/avatar','flarum/helpers/listItems','flarum/utils/ItemList'],function(_export,_context){"use strict";var Component,LoadingIndicator,TextEditor,avatar,listItems,ItemList,ComposerBody;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumComponentsTextEditor){TextEditor=_flarumComponentsTextEditor.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){ComposerBody=function(_Component){babelHelpers.inherits(ComposerBody,_Component);function ComposerBody(){babelHelpers.classCallCheck(this,ComposerBody);return babelHelpers.possibleConstructorReturn(this,(ComposerBody.__proto__||Object.getPrototypeOf(ComposerBody)).apply(this,arguments))}
babelHelpers.createClass(ComposerBody,[{key:'init',value:function init(){this.loading=!1;this.content=m.prop(this.props.originalContent);this.editor=new TextEditor({submitLabel:this.props.submitLabel,placeholder:this.props.placeholder,onchange:this.content,onsubmit:this.onsubmit.bind(this),value:this.content()})}},{key:'view',value:function view(){this.editor.props.disabled=this.loading;return m('div',{className:'ComposerBody '+(this.props.className||'')},avatar(this.props.user,{className:'ComposerBody-avatar'}),m('div',{className:'ComposerBody-content'},m('ul',{className:'ComposerBody-header'},listItems(this.headerItems().toArray())),m('div',{className:'ComposerBody-editor'},this.editor.render())),LoadingIndicator.component({className:'ComposerBody-loading'+(this.loading?' active':'')}))}},{key:'focus',value:function focus(){this.$(':input:enabled:visible:first').focus()}},{key:'preventExit',value:function preventExit(){var content=this.content();return content&&content!==this.props.originalContent&&this.props.confirmExit}},{key:'headerItems',value:function headerItems(){return new ItemList()}},{key:'onsubmit',value:function onsubmit(){}},{key:'loaded',value:function loaded(){this.loading=!1;m.redraw()}}]);return ComposerBody}(Component);_export('default',ComposerBody)}}});'use strict';System.register('flarum/components/ComposerButton',['flarum/components/Button'],function(_export,_context){"use strict";var Button,ComposerButton;return{setters:[function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){ComposerButton=function(_Button){babelHelpers.inherits(ComposerButton,_Button);function ComposerButton(){babelHelpers.classCallCheck(this,ComposerButton);return babelHelpers.possibleConstructorReturn(this,(ComposerButton.__proto__||Object.getPrototypeOf(ComposerButton)).apply(this,arguments))}
babelHelpers.createClass(ComposerButton,null,[{key:'initProps',value:function initProps(props){babelHelpers.get(ComposerButton.__proto__||Object.getPrototypeOf(ComposerButton),'initProps',this).call(this,props);props.className=props.className||'Button Button--icon Button--link'}}]);return ComposerButton}(Button);_export('default',ComposerButton)}}});'use strict';System.register('flarum/components/DiscussionComposer',['flarum/components/ComposerBody','flarum/utils/extractText'],function(_export,_context){"use strict";var ComposerBody,extractText,DiscussionComposer;return{setters:[function(_flarumComponentsComposerBody){ComposerBody=_flarumComponentsComposerBody.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){DiscussionComposer=function(_ComposerBody){babelHelpers.inherits(DiscussionComposer,_ComposerBody);function DiscussionComposer(){babelHelpers.classCallCheck(this,DiscussionComposer);return babelHelpers.possibleConstructorReturn(this,(DiscussionComposer.__proto__||Object.getPrototypeOf(DiscussionComposer)).apply(this,arguments))}
babelHelpers.createClass(DiscussionComposer,[{key:'init',value:function init(){babelHelpers.get(DiscussionComposer.prototype.__proto__||Object.getPrototypeOf(DiscussionComposer.prototype),'init',this).call(this);this.title=m.prop('')}},{key:'headerItems',value:function headerItems(){var items=babelHelpers.get(DiscussionComposer.prototype.__proto__||Object.getPrototypeOf(DiscussionComposer.prototype),'headerItems',this).call(this);items.add('title',m('h3',null,app.translator.trans('core.forum.composer_discussion.title')),100);items.add('discussionTitle',m('h3',null,m('input',{className:'FormControl',value:this.title(),oninput:m.withAttr('value',this.title),placeholder:this.props.titlePlaceholder,disabled:!!this.props.disabled,onkeydown:this.onkeydown.bind(this)})));return items}},{key:'onkeydown',value:function onkeydown(e){if(e.which===13){e.preventDefault();this.editor.setSelectionRange(0,0)}
m.redraw.strategy('none')}},{key:'preventExit',value:function preventExit(){return(this.title()||this.content())&&this.props.confirmExit}},{key:'data',value:function data(){return{title:this.title(),content:this.content()}}},{key:'onsubmit',value:function onsubmit(){this.loading=!0;var data=this.data();app.store.createRecord('discussions').save(data).then(function(discussion){app.composer.hide();app.cache.discussionList.addDiscussion(discussion);m.route(app.route.discussion(discussion))},this.loaded.bind(this))}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(DiscussionComposer.__proto__||Object.getPrototypeOf(DiscussionComposer),'initProps',this).call(this,props);props.placeholder=props.placeholder||extractText(app.translator.trans('core.forum.composer_discussion.body_placeholder'));props.submitLabel=props.submitLabel||app.translator.trans('core.forum.composer_discussion.submit_button');props.confirmExit=props.confirmExit||extractText(app.translator.trans('core.forum.composer_discussion.discard_confirmation'));props.titlePlaceholder=props.titlePlaceholder||extractText(app.translator.trans('core.forum.composer_discussion.title_placeholder'));props.className='ComposerBody--discussion'}}]);return DiscussionComposer}(ComposerBody);_export('default',DiscussionComposer)}}});'use strict';System.register('flarum/components/DiscussionHero',['flarum/Component','flarum/utils/ItemList','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,ItemList,listItems,DiscussionHero;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){DiscussionHero=function(_Component){babelHelpers.inherits(DiscussionHero,_Component);function DiscussionHero(){babelHelpers.classCallCheck(this,DiscussionHero);return babelHelpers.possibleConstructorReturn(this,(DiscussionHero.__proto__||Object.getPrototypeOf(DiscussionHero)).apply(this,arguments))}
babelHelpers.createClass(DiscussionHero,[{key:'view',value:function view(){return m('header',{className:'Hero DiscussionHero'},m('div',{className:'container'},m('ul',{className:'DiscussionHero-items'},listItems(this.items().toArray()))))}},{key:'items',value:function items(){var items=new ItemList();var discussion=this.props.discussion;var badges=discussion.badges().toArray();if(badges.length){items.add('badges',m('ul',{className:'DiscussionHero-badges badges'},listItems(badges)),10)}
items.add('title',m('h2',{className:'DiscussionHero-title'},discussion.title()));return items}}]);return DiscussionHero}(Component);_export('default',DiscussionHero)}}});'use strict';System.register('flarum/components/DiscussionList',['flarum/Component','flarum/components/DiscussionListItem','flarum/components/Button','flarum/components/LoadingIndicator','flarum/components/Placeholder'],function(_export,_context){"use strict";var Component,DiscussionListItem,Button,LoadingIndicator,Placeholder,DiscussionList;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsDiscussionListItem){DiscussionListItem=_flarumComponentsDiscussionListItem.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumComponentsPlaceholder){Placeholder=_flarumComponentsPlaceholder.default}],execute:function(){DiscussionList=function(_Component){babelHelpers.inherits(DiscussionList,_Component);function DiscussionList(){babelHelpers.classCallCheck(this,DiscussionList);return babelHelpers.possibleConstructorReturn(this,(DiscussionList.__proto__||Object.getPrototypeOf(DiscussionList)).apply(this,arguments))}
babelHelpers.createClass(DiscussionList,[{key:'init',value:function init(){this.loading=!0;this.moreResults=!1;this.discussions=[];this.refresh()}},{key:'view',value:function view(){var params=this.props.params;var loading=void 0;if(this.loading){loading=LoadingIndicator.component()}else if(this.moreResults){loading=Button.component({children:app.translator.trans('core.forum.discussion_list.load_more_button'),className:'Button',onclick:this.loadMore.bind(this)})}
if(this.discussions.length===0&&!this.loading){var text=app.translator.trans('core.forum.discussion_list.empty_text');return m('div',{className:'DiscussionList'},Placeholder.component({text:text}))}
return m('div',{className:'DiscussionList'},m('ul',{className:'DiscussionList-discussions'},this.discussions.map(function(discussion){return m('li',{key:discussion.id(),'data-id':discussion.id()},DiscussionListItem.component({discussion:discussion,params:params}))})),m('div',{className:'DiscussionList-loadMore'},loading))}},{key:'requestParams',value:function requestParams(){var params={include:['startUser','lastUser'],filter:{}};params.sort=this.sortMap()[this.props.params.sort];if(this.props.params.q){params.filter.q=this.props.params.q;params.include.push('relevantPosts','relevantPosts.discussion','relevantPosts.user')}
return params}},{key:'sortMap',value:function sortMap(){var map={};if(this.props.params.q){map.relevance=''}
map.latest='-lastTime';map.top='-commentsCount';map.newest='-startTime';map.oldest='startTime';return map}},{key:'refresh',value:function refresh(){var _this2=this;var clear=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(clear){this.loading=!0;this.discussions=[]}
return this.loadResults().then(function(results){_this2.discussions=[];_this2.parseResults(results)},function(){_this2.loading=!1;m.redraw()})}},{key:'loadResults',value:function loadResults(offset){var preloadedDiscussions=app.preloadedDocument();if(preloadedDiscussions){return m.deferred().resolve(preloadedDiscussions).promise}
var params=this.requestParams();params.page={offset:offset};params.include=params.include.join(',');return app.store.find('discussions',params)}},{key:'loadMore',value:function loadMore(){this.loading=!0;this.loadResults(this.discussions.length).then(this.parseResults.bind(this))}},{key:'parseResults',value:function parseResults(results){[].push.apply(this.discussions,results);this.loading=!1;this.moreResults=!!results.payload.links.next;m.lazyRedraw();return results}},{key:'removeDiscussion',value:function removeDiscussion(discussion){var index=this.discussions.indexOf(discussion);if(index!==-1){this.discussions.splice(index,1)}}},{key:'addDiscussion',value:function addDiscussion(discussion){this.discussions.unshift(discussion)}}]);return DiscussionList}(Component);_export('default',DiscussionList)}}});'use strict';System.register('flarum/components/DiscussionListItem',['flarum/Component','flarum/helpers/avatar','flarum/helpers/listItems','flarum/helpers/highlight','flarum/helpers/icon','flarum/utils/humanTime','flarum/utils/ItemList','flarum/utils/abbreviateNumber','flarum/components/Dropdown','flarum/components/TerminalPost','flarum/components/PostPreview','flarum/utils/SubtreeRetainer','flarum/utils/DiscussionControls','flarum/utils/slidable','flarum/utils/extractText','flarum/utils/classList'],function(_export,_context){"use strict";var Component,avatar,listItems,highlight,icon,humanTime,ItemList,abbreviateNumber,Dropdown,TerminalPost,PostPreview,SubtreeRetainer,DiscussionControls,slidable,extractText,classList,DiscussionListItem;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsHumanTime){humanTime=_flarumUtilsHumanTime.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsAbbreviateNumber){abbreviateNumber=_flarumUtilsAbbreviateNumber.default},function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsTerminalPost){TerminalPost=_flarumComponentsTerminalPost.default},function(_flarumComponentsPostPreview){PostPreview=_flarumComponentsPostPreview.default},function(_flarumUtilsSubtreeRetainer){SubtreeRetainer=_flarumUtilsSubtreeRetainer.default},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default},function(_flarumUtilsSlidable){slidable=_flarumUtilsSlidable.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default}],execute:function(){DiscussionListItem=function(_Component){babelHelpers.inherits(DiscussionListItem,_Component);function DiscussionListItem(){babelHelpers.classCallCheck(this,DiscussionListItem);return babelHelpers.possibleConstructorReturn(this,(DiscussionListItem.__proto__||Object.getPrototypeOf(DiscussionListItem)).apply(this,arguments))}
babelHelpers.createClass(DiscussionListItem,[{key:'init',value:function init(){var _this2=this;this.subtree=new SubtreeRetainer(function(){return _this2.props.discussion.freshness},function(){var time=app.session.user&&app.session.user.readTime();return time&&time.getTime()},function(){return _this2.active()})}},{key:'attrs',value:function attrs(){return{className:classList(['DiscussionListItem',this.active()?'active':'',this.props.discussion.isHidden()?'DiscussionListItem--hidden':''])}}},{key:'view',value:function view(){var _this3=this;var retain=this.subtree.retain();if(retain)return retain;var discussion=this.props.discussion;var startUser=discussion.startUser();var isUnread=discussion.isUnread();var isRead=discussion.isRead();var showUnread=!this.showRepliesCount()&&isUnread;var jumpTo=Math.min(discussion.lastPostNumber(),(discussion.readNumber()||0)+1);var relevantPosts=this.props.params.q?discussion.relevantPosts():[];var controls=DiscussionControls.controls(discussion,this).toArray();var attrs=this.attrs();return m('div',attrs,controls.length?Dropdown.component({icon:'ellipsis-v',children:controls,className:'DiscussionListItem-controls',buttonClassName:'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right'}):'',m('a',{className:'Slidable-underneath Slidable-underneath--left Slidable-underneath--elastic'+(isUnread?'':' disabled'),onclick:this.markAsRead.bind(this)},icon('check')),m('div',{className:'DiscussionListItem-content Slidable-content'+(isUnread?' unread':'')+(isRead?' read':'')},m('a',{href:startUser?app.route.user(startUser):'#',className:'DiscussionListItem-author',title:extractText(app.translator.trans('core.forum.discussion_list.started_text',{user:startUser,ago:humanTime(discussion.startTime())})),config:function config(element){$(element).tooltip({placement:'right'});m.route.apply(this,arguments)}},avatar(startUser,{title:''})),m('ul',{className:'DiscussionListItem-badges badges'},listItems(discussion.badges().toArray())),m('a',{href:app.route.discussion(discussion,jumpTo),config:m.route,className:'DiscussionListItem-main'},m('h3',{className:'DiscussionListItem-title'},highlight(discussion.title(),this.props.params.q)),m('ul',{className:'DiscussionListItem-info'},listItems(this.infoItems().toArray()))),m('span',{className:'DiscussionListItem-count',onclick:this.markAsRead.bind(this),title:showUnread?app.translator.trans('core.forum.discussion_list.mark_as_read_tooltip'):''},abbreviateNumber(discussion[showUnread?'unreadCount':'repliesCount']())),relevantPosts&&relevantPosts.length?m('div',{className:'DiscussionListItem-relevantPosts'},relevantPosts.map(function(post){return PostPreview.component({post:post,highlight:_this3.props.params.q})})):''))}},{key:'config',value:function config(isInitialized){if(isInitialized)return;if('ontouchstart' in window){var slidableInstance=slidable(this.$().addClass('Slidable'));this.$('.DiscussionListItem-controls').on('hidden.bs.dropdown',function(){return slidableInstance.reset()})}}},{key:'active',value:function active(){var idParam=m.route.param('id');return idParam&&idParam.split('-')[0]===this.props.discussion.id()}},{key:'showStartPost',value:function showStartPost(){return['newest','oldest'].indexOf(this.props.params.sort)!==-1}},{key:'showRepliesCount',value:function showRepliesCount(){return this.props.params.sort==='replies'}},{key:'markAsRead',value:function markAsRead(){var discussion=this.props.discussion;if(discussion.isUnread()){discussion.save({readNumber:discussion.lastPostNumber()});m.redraw()}}},{key:'infoItems',value:function infoItems(){var items=new ItemList();items.add('terminalPost',TerminalPost.component({discussion:this.props.discussion,lastPost:!this.showStartPost()}));return items}}]);return DiscussionListItem}(Component);_export('default',DiscussionListItem)}}});'use strict';System.register('flarum/components/DiscussionPage',['flarum/components/Page','flarum/utils/ItemList','flarum/components/DiscussionHero','flarum/components/PostStream','flarum/components/PostStreamScrubber','flarum/components/LoadingIndicator','flarum/components/SplitDropdown','flarum/helpers/listItems','flarum/utils/DiscussionControls'],function(_export,_context){"use strict";var Page,ItemList,DiscussionHero,PostStream,PostStreamScrubber,LoadingIndicator,SplitDropdown,listItems,DiscussionControls,DiscussionPage;return{setters:[function(_flarumComponentsPage){Page=_flarumComponentsPage.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsDiscussionHero){DiscussionHero=_flarumComponentsDiscussionHero.default},function(_flarumComponentsPostStream){PostStream=_flarumComponentsPostStream.default},function(_flarumComponentsPostStreamScrubber){PostStreamScrubber=_flarumComponentsPostStreamScrubber.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumComponentsSplitDropdown){SplitDropdown=_flarumComponentsSplitDropdown.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default}],execute:function(){DiscussionPage=function(_Page){babelHelpers.inherits(DiscussionPage,_Page);function DiscussionPage(){babelHelpers.classCallCheck(this,DiscussionPage);return babelHelpers.possibleConstructorReturn(this,(DiscussionPage.__proto__||Object.getPrototypeOf(DiscussionPage)).apply(this,arguments))}
babelHelpers.createClass(DiscussionPage,[{key:'init',value:function init(){babelHelpers.get(DiscussionPage.prototype.__proto__||Object.getPrototypeOf(DiscussionPage.prototype),'init',this).call(this);this.discussion=null;this.near=null;this.refresh();if(app.cache.discussionList){app.pane.enable();app.pane.hide();if(app.previous instanceof DiscussionPage){m.redraw.strategy('diff')}}
app.history.push('discussion');this.bodyClass='App--discussion'}},{key:'onunload',value:function onunload(e){if(this.discussion){var idParam=m.route.param('id');if(idParam&&idParam.split('-')[0]===this.discussion.id()){e.preventDefault();var near=m.route.param('near')||'1';if(near!==String(this.near)){this.stream.goToNumber(near)}
this.near=null;return}}
app.pane.disable();if(app.composingReplyTo(this.discussion)&&!app.composer.component.content()){app.composer.hide()}else{app.composer.minimize()}}},{key:'view',value:function view(){var discussion=this.discussion;return m('div',{className:'DiscussionPage'},app.cache.discussionList?m('div',{className:'DiscussionPage-list',config:this.configPane.bind(this)},!$('.App-navigation').is(':visible')?app.cache.discussionList.render():''):'',m('div',{className:'DiscussionPage-discussion'},discussion?[DiscussionHero.component({discussion:discussion}),m('div',{className:'container'},m('nav',{className:'DiscussionPage-nav'},m('ul',null,listItems(this.sidebarItems().toArray()))),m('div',{className:'DiscussionPage-stream'},this.stream.render()))]:LoadingIndicator.component({className:'LoadingIndicator--block'})))}},{key:'refresh',value:function refresh(){this.near=m.route.param('near')||0;this.discussion=null;var preloadedDiscussion=app.preloadedDocument();if(preloadedDiscussion){setTimeout(this.show.bind(this,preloadedDiscussion),0)}else{var params=this.requestParams();app.store.find('discussions',m.route.param('id').split('-')[0],params).then(this.show.bind(this))}
m.lazyRedraw()}},{key:'requestParams',value:function requestParams(){return{page:{near:this.near}}}},{key:'show',value:function show(discussion){this.discussion=discussion;app.history.push('discussion',discussion.title());app.setTitle(discussion.title());app.setTitleCount(0);var includedPosts=[];if(discussion.payload&&discussion.payload.included){includedPosts=discussion.payload.included.filter(function(record){return record.type==='posts'&&record.relationships&&record.relationships.discussion}).map(function(record){return app.store.getById('posts',record.id)}).sort(function(a,b){return a.id()-b.id()}).slice(0,20)}
this.stream=new PostStream({discussion:discussion,includedPosts:includedPosts});this.stream.on('positionChanged',this.positionChanged.bind(this));this.stream.goToNumber(m.route.param('near')||includedPosts[0]&&includedPosts[0].number(),!0)}},{key:'configPane',value:function configPane(element,isInitialized,context){if(isInitialized)return;context.retain=!0;var $list=$(element);var pane=app.pane;$list.hover(pane.show.bind(pane),pane.onmouseleave.bind(pane));var hotEdge=function hotEdge(e){if(e.pageX<10)pane.show()};$(document).on('mousemove',hotEdge);context.onunload=function(){return $(document).off('mousemove',hotEdge)};var $discussion=$list.find('.DiscussionListItem.active');if($discussion.length){var listTop=$list.offset().top;var listBottom=listTop+$list.outerHeight();var discussionTop=$discussion.offset().top;var discussionBottom=discussionTop+$discussion.outerHeight();if(discussionTop<listTop||discussionBottom>listBottom){$list.scrollTop($list.scrollTop()-listTop+discussionTop)}}}},{key:'sidebarItems',value:function sidebarItems(){var items=new ItemList();items.add('controls',SplitDropdown.component({children:DiscussionControls.controls(this.discussion,this).toArray(),icon:'ellipsis-v',className:'App-primaryControl',buttonClassName:'Button--primary'}));items.add('scrubber',PostStreamScrubber.component({stream:this.stream,className:'App-titleControl'}),-100);return items}},{key:'positionChanged',value:function positionChanged(startNumber,endNumber){var discussion=this.discussion;var url=app.route.discussion(discussion,this.near=startNumber);m.route(url,!0);window.history.replaceState(null,document.title,url);app.history.push('discussion',discussion.title());if(app.session.user&&endNumber>(discussion.readNumber()||0)){discussion.save({readNumber:endNumber});m.redraw()}}}]);return DiscussionPage}(Page);_export('default',DiscussionPage)}}});'use strict';System.register('flarum/components/DiscussionRenamedNotification',['flarum/components/Notification'],function(_export,_context){"use strict";var Notification,DiscussionRenamedNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default}],execute:function(){DiscussionRenamedNotification=function(_Notification){babelHelpers.inherits(DiscussionRenamedNotification,_Notification);function DiscussionRenamedNotification(){babelHelpers.classCallCheck(this,DiscussionRenamedNotification);return babelHelpers.possibleConstructorReturn(this,(DiscussionRenamedNotification.__proto__||Object.getPrototypeOf(DiscussionRenamedNotification)).apply(this,arguments))}
babelHelpers.createClass(DiscussionRenamedNotification,[{key:'icon',value:function icon(){return'pencil'}},{key:'href',value:function href(){var notification=this.props.notification;return app.route.discussion(notification.subject(),notification.content().postNumber)}},{key:'content',value:function content(){return app.translator.trans('core.forum.notifications.discussion_renamed_text',{user:this.props.notification.sender()})}}]);return DiscussionRenamedNotification}(Notification);_export('default',DiscussionRenamedNotification)}}});'use strict';System.register('flarum/components/DiscussionRenamedPost',['flarum/components/EventPost','flarum/utils/extractText'],function(_export,_context){"use strict";var EventPost,extractText,DiscussionRenamedPost;return{setters:[function(_flarumComponentsEventPost){EventPost=_flarumComponentsEventPost.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){DiscussionRenamedPost=function(_EventPost){babelHelpers.inherits(DiscussionRenamedPost,_EventPost);function DiscussionRenamedPost(){babelHelpers.classCallCheck(this,DiscussionRenamedPost);return babelHelpers.possibleConstructorReturn(this,(DiscussionRenamedPost.__proto__||Object.getPrototypeOf(DiscussionRenamedPost)).apply(this,arguments))}
babelHelpers.createClass(DiscussionRenamedPost,[{key:'icon',value:function icon(){return'pencil'}},{key:'description',value:function description(data){var renamed=app.translator.trans('core.forum.post_stream.discussion_renamed_text',data);var oldName=app.translator.trans('core.forum.post_stream.discussion_renamed_old_tooltip',data);return m('span',{title:extractText(oldName)},renamed)}},{key:'descriptionData',value:function descriptionData(){var post=this.props.post;var oldTitle=post.content()[0];var newTitle=post.content()[1];return{'old':oldTitle,'new':m('strong',{className:'DiscussionRenamedPost-new'},newTitle)}}}]);return DiscussionRenamedPost}(EventPost);_export('default',DiscussionRenamedPost)}}});'use strict';System.register('flarum/components/DiscussionsSearchSource',['flarum/helpers/highlight','flarum/components/LinkButton'],function(_export,_context){"use strict";var highlight,LinkButton,DiscussionsSearchSource;return{setters:[function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default}],execute:function(){DiscussionsSearchSource=function(){function DiscussionsSearchSource(){babelHelpers.classCallCheck(this,DiscussionsSearchSource);this.results={}}
babelHelpers.createClass(DiscussionsSearchSource,[{key:'search',value:function search(query){var _this=this;query=query.toLowerCase();this.results[query]=[];var params={filter:{q:query},page:{limit:3},include:'relevantPosts,relevantPosts.discussion,relevantPosts.user'};return app.store.find('discussions',params).then(function(results){return _this.results[query]=results})}},{key:'view',value:function view(query){query=query.toLowerCase();var results=this.results[query]||[];return[m('li',{className:'Dropdown-header'},app.translator.trans('core.forum.search.discussions_heading')),m('li',null,LinkButton.component({icon:'search',children:app.translator.trans('core.forum.search.all_discussions_button',{query:query}),href:app.route('index',{q:query})})),results.map(function(discussion){var relevantPosts=discussion.relevantPosts();var post=relevantPosts&&relevantPosts[0];return m('li',{className:'DiscussionSearchResult','data-index':'discussions'+discussion.id()},m('a',{href:app.route.discussion(discussion,post&&post.number()),config:m.route},m('div',{className:'DiscussionSearchResult-title'},highlight(discussion.title(),query)),post?m('div',{className:'DiscussionSearchResult-excerpt'},highlight(post.contentPlain(),query,100)):''))})]}}]);return DiscussionsSearchSource}();_export('default',DiscussionsSearchSource)}}});'use strict';System.register('flarum/components/DiscussionsUserPage',['flarum/components/UserPage','flarum/components/DiscussionList'],function(_export,_context){"use strict";var UserPage,DiscussionList,DiscussionsUserPage;return{setters:[function(_flarumComponentsUserPage){UserPage=_flarumComponentsUserPage.default},function(_flarumComponentsDiscussionList){DiscussionList=_flarumComponentsDiscussionList.default}],execute:function(){DiscussionsUserPage=function(_UserPage){babelHelpers.inherits(DiscussionsUserPage,_UserPage);function DiscussionsUserPage(){babelHelpers.classCallCheck(this,DiscussionsUserPage);return babelHelpers.possibleConstructorReturn(this,(DiscussionsUserPage.__proto__||Object.getPrototypeOf(DiscussionsUserPage)).apply(this,arguments))}
babelHelpers.createClass(DiscussionsUserPage,[{key:'init',value:function init(){babelHelpers.get(DiscussionsUserPage.prototype.__proto__||Object.getPrototypeOf(DiscussionsUserPage.prototype),'init',this).call(this);this.loadUser(m.route.param('username'))}},{key:'content',value:function content(){return m('div',{className:'DiscussionsUserPage'},DiscussionList.component({params:{q:'author:'+this.user.username()}}))}}]);return DiscussionsUserPage}(UserPage);_export('default',DiscussionsUserPage)}}});'use strict';System.register('flarum/components/Dropdown',['flarum/Component','flarum/helpers/icon','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,icon,listItems,Dropdown;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){Dropdown=function(_Component){babelHelpers.inherits(Dropdown,_Component);function Dropdown(){babelHelpers.classCallCheck(this,Dropdown);return babelHelpers.possibleConstructorReturn(this,(Dropdown.__proto__||Object.getPrototypeOf(Dropdown)).apply(this,arguments))}
babelHelpers.createClass(Dropdown,[{key:'init',value:function init(){this.showing=!1}},{key:'view',value:function view(){var items=this.props.children?listItems(this.props.children):[];return m('div',{className:'ButtonGroup Dropdown dropdown '+this.props.className+' itemCount'+items.length+(this.showing?' open':'')},this.getButton(),this.getMenu(items))}},{key:'config',value:function config(isInitialized){var _this2=this;if(isInitialized)return;this.$().on('shown.bs.dropdown',function(){_this2.showing=!0;if(_this2.props.onshow){_this2.props.onshow()}
m.redraw();var $menu=_this2.$('.Dropdown-menu');var isRight=$menu.hasClass('Dropdown-menu--right');$menu.removeClass('Dropdown-menu--top Dropdown-menu--right');$menu.toggleClass('Dropdown-menu--top',$menu.offset().top+$menu.height()>$(window).scrollTop()+$(window).height());$menu.toggleClass('Dropdown-menu--right',isRight||$menu.offset().left+$menu.width()>$(window).scrollLeft()+$(window).width())});this.$().on('hidden.bs.dropdown',function(){_this2.showing=!1;if(_this2.props.onhide){_this2.props.onhide()}
m.redraw()})}},{key:'getButton',value:function getButton(){return m('button',{className:'Dropdown-toggle '+this.props.buttonClassName,'data-toggle':'dropdown',onclick:this.props.onclick},this.getButtonContent())}},{key:'getButtonContent',value:function getButtonContent(){return[this.props.icon?icon(this.props.icon,{className:'Button-icon'}):'',m('span',{className:'Button-label'},this.props.label),this.props.caretIcon?icon(this.props.caretIcon,{className:'Button-caret'}):'']}},{key:'getMenu',value:function getMenu(items){return m('ul',{className:'Dropdown-menu dropdown-menu '+this.props.menuClassName},items)}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(Dropdown.__proto__||Object.getPrototypeOf(Dropdown),'initProps',this).call(this,props);props.className=props.className||'';props.buttonClassName=props.buttonClassName||'';props.menuClassName=props.menuClassName||'';props.label=props.label||'';props.caretIcon=typeof props.caretIcon!=='undefined'?props.caretIcon:'caret-down'}}]);return Dropdown}(Component);_export('default',Dropdown)}}});'use strict';System.register('flarum/components/EditPostComposer',['flarum/components/ComposerBody','flarum/helpers/icon'],function(_export,_context){"use strict";var ComposerBody,icon,EditPostComposer;function minimizeComposerIfFullScreen(e){if(app.composer.isFullScreen()){app.composer.minimize();e.stopPropagation()}}
return{setters:[function(_flarumComponentsComposerBody){ComposerBody=_flarumComponentsComposerBody.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){EditPostComposer=function(_ComposerBody){babelHelpers.inherits(EditPostComposer,_ComposerBody);function EditPostComposer(){babelHelpers.classCallCheck(this,EditPostComposer);return babelHelpers.possibleConstructorReturn(this,(EditPostComposer.__proto__||Object.getPrototypeOf(EditPostComposer)).apply(this,arguments))}
babelHelpers.createClass(EditPostComposer,[{key:'init',value:function init(){var _this2=this;babelHelpers.get(EditPostComposer.prototype.__proto__||Object.getPrototypeOf(EditPostComposer.prototype),'init',this).call(this);this.editor.props.preview=function(e){minimizeComposerIfFullScreen(e);m.route(app.route.post(_this2.props.post))}}},{key:'headerItems',value:function headerItems(){var items=babelHelpers.get(EditPostComposer.prototype.__proto__||Object.getPrototypeOf(EditPostComposer.prototype),'headerItems',this).call(this);var post=this.props.post;var routeAndMinimize=function routeAndMinimize(element,isInitialized){if(isInitialized)return;$(element).on('click',minimizeComposerIfFullScreen);m.route.apply(this,arguments)};items.add('title',m('h3',null,icon('pencil'),' ',' ',m('a',{href:app.route.discussion(post.discussion(),post.number()),config:routeAndMinimize},app.translator.trans('core.forum.composer_edit.post_link',{number:post.number(),discussion:post.discussion().title()}))));return items}},{key:'data',value:function data(){return{content:this.content()}}},{key:'onsubmit',value:function onsubmit(){this.loading=!0;var data=this.data();this.props.post.save(data).then(function(){return app.composer.hide()},this.loaded.bind(this))}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(EditPostComposer.__proto__||Object.getPrototypeOf(EditPostComposer),'initProps',this).call(this,props);props.submitLabel=props.submitLabel||app.translator.trans('core.forum.composer_edit.submit_button');props.confirmExit=props.confirmExit||app.translator.trans('core.forum.composer_edit.discard_confirmation');props.originalContent=props.originalContent||props.post.content();props.user=props.user||props.post.user();props.post.editedContent=props.originalContent}}]);return EditPostComposer}(ComposerBody);_export('default',EditPostComposer)}}});'use strict';System.register('flarum/components/EditUserModal',['flarum/components/Modal','flarum/components/Button','flarum/components/GroupBadge','flarum/models/Group','flarum/utils/extractText'],function(_export,_context){"use strict";var Modal,Button,GroupBadge,Group,extractText,EditUserModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsGroupBadge){GroupBadge=_flarumComponentsGroupBadge.default},function(_flarumModelsGroup){Group=_flarumModelsGroup.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){EditUserModal=function(_Modal){babelHelpers.inherits(EditUserModal,_Modal);function EditUserModal(){babelHelpers.classCallCheck(this,EditUserModal);return babelHelpers.possibleConstructorReturn(this,(EditUserModal.__proto__||Object.getPrototypeOf(EditUserModal)).apply(this,arguments))}
babelHelpers.createClass(EditUserModal,[{key:'init',value:function init(){var _this2=this;babelHelpers.get(EditUserModal.prototype.__proto__||Object.getPrototypeOf(EditUserModal.prototype),'init',this).call(this);var user=this.props.user;this.username=m.prop(user.username()||'');this.email=m.prop(user.email()||'');this.isActivated=m.prop(user.isActivated()||!1);this.setPassword=m.prop(!1);this.password=m.prop(user.password()||'');this.groups={};app.store.all('groups').filter(function(group){return[Group.GUEST_ID,Group.MEMBER_ID].indexOf(group.id())===-1}).forEach(function(group){return _this2.groups[group.id()]=m.prop(user.groups().indexOf(group)!==-1)})}},{key:'className',value:function className(){return'EditUserModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.edit_user.title')}},{key:'content',value:function content(){var _this3=this;return m('div',{className:'Modal-body'},m('div',{className:'Form'},m('div',{className:'Form-group'},m('label',null,app.translator.trans('core.forum.edit_user.username_heading')),m('input',{className:'FormControl',placeholder:extractText(app.translator.trans('core.forum.edit_user.username_label')),bidi:this.username})),app.session.user!==this.props.user?[m('div',{className:'Form-group'},m('label',null,app.translator.trans('core.forum.edit_user.email_heading')),m('div',null,m('input',{className:'FormControl',placeholder:extractText(app.translator.trans('core.forum.edit_user.email_label')),bidi:this.email})),!this.isActivated()?m('div',null,Button.component({className:'Button Button--block',children:app.translator.trans('core.forum.edit_user.activate_button'),loading:this.loading,onclick:this.activate.bind(this)})):''),m('div',{className:'Form-group'},m('label',null,app.translator.trans('core.forum.edit_user.password_heading')),m('div',null,m('label',{className:'checkbox'},m('input',{type:'checkbox',checked:this.setPassword(),onchange:function onchange(e){_this3.setPassword(e.target.checked);m.redraw(!0);if(e.target.checked)_this3.$('[name=password]').select();m.redraw.strategy('none')}}),app.translator.trans('core.forum.edit_user.set_password_label')),this.setPassword()?m('input',{className:'FormControl',type:'password',name:'password',placeholder:extractText(app.translator.trans('core.forum.edit_user.password_label')),bidi:this.password}):''))]:'',m('div',{className:'Form-group EditUserModal-groups'},m('label',null,app.translator.trans('core.forum.edit_user.groups_heading')),m('div',null,Object.keys(this.groups).map(function(id){return app.store.getById('groups',id)}).map(function(group){return m('label',{className:'checkbox'},m('input',{type:'checkbox',bidi:_this3.groups[group.id()],disabled:_this3.props.user.id()==='1'&&group.id()===Group.ADMINISTRATOR_ID}),GroupBadge.component({group:group,label:''}),' ',group.nameSingular())}))),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.edit_user.submit_button')}))))}},{key:'activate',value:function activate(){var _this4=this;this.loading=!0;var data={username:this.username(),isActivated:!0};this.props.user.save(data,{errorHandler:this.onerror.bind(this)}).then(function(){_this4.isActivated(!0);_this4.loading=!1;m.redraw()}).catch(function(){_this4.loading=!1;m.redraw()})}},{key:'data',value:function data(){var _this5=this;var groups=Object.keys(this.groups).filter(function(id){return _this5.groups[id]()}).map(function(id){return app.store.getById('groups',id)});var data={username:this.username(),relationships:{groups:groups}};if(app.session.user!==this.props.user){data.email=this.email()}
if(this.setPassword()){data.password=this.password()}
return data}},{key:'onsubmit',value:function onsubmit(e){var _this6=this;e.preventDefault();this.loading=!0;this.props.user.save(this.data(),{errorHandler:this.onerror.bind(this)}).then(this.hide.bind(this)).catch(function(){_this6.loading=!1;m.redraw()})}}]);return EditUserModal}(Modal);_export('default',EditUserModal)}}});'use strict';System.register('flarum/components/EventPost',['flarum/components/Post','flarum/utils/string','flarum/helpers/username','flarum/helpers/icon'],function(_export,_context){"use strict";var Post,ucfirst,usernameHelper,icon,EventPost;return{setters:[function(_flarumComponentsPost){Post=_flarumComponentsPost.default},function(_flarumUtilsString){ucfirst=_flarumUtilsString.ucfirst},function(_flarumHelpersUsername){usernameHelper=_flarumHelpersUsername.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){EventPost=function(_Post){babelHelpers.inherits(EventPost,_Post);function EventPost(){babelHelpers.classCallCheck(this,EventPost);return babelHelpers.possibleConstructorReturn(this,(EventPost.__proto__||Object.getPrototypeOf(EventPost)).apply(this,arguments))}
babelHelpers.createClass(EventPost,[{key:'attrs',value:function attrs(){var attrs=babelHelpers.get(EventPost.prototype.__proto__||Object.getPrototypeOf(EventPost.prototype),'attrs',this).call(this);attrs.className+=' EventPost '+ucfirst(this.props.post.contentType())+'Post';return attrs}},{key:'content',value:function content(){var user=this.props.post.user();var username=usernameHelper(user);var data=babelHelpers.extends(this.descriptionData(),{user:user,username:user?m('a',{className:'EventPost-user',href:app.route.user(user),config:m.route},username):username});return babelHelpers.get(EventPost.prototype.__proto__||Object.getPrototypeOf(EventPost.prototype),'content',this).call(this).concat([icon(this.icon(),{className:'EventPost-icon'}),m('div',{'class':'EventPost-info'},this.description(data))])}},{key:'icon',value:function icon(){return''}},{key:'description',value:function description(data){return app.translator.transChoice(this.descriptionKey(),data.count,data)}},{key:'descriptionKey',value:function descriptionKey(){return''}},{key:'descriptionData',value:function descriptionData(){return{}}}]);return EventPost}(Post);_export('default',EventPost)}}});'use strict';System.register('flarum/components/FieldSet',['flarum/Component','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,listItems,FieldSet;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){FieldSet=function(_Component){babelHelpers.inherits(FieldSet,_Component);function FieldSet(){babelHelpers.classCallCheck(this,FieldSet);return babelHelpers.possibleConstructorReturn(this,(FieldSet.__proto__||Object.getPrototypeOf(FieldSet)).apply(this,arguments))}
babelHelpers.createClass(FieldSet,[{key:'view',value:function view(){return m('fieldset',{className:this.props.className},m('legend',null,this.props.label),m('ul',null,listItems(this.props.children)))}}]);return FieldSet}(Component);_export('default',FieldSet)}}});'use strict';System.register('flarum/components/ForgotPasswordModal',['flarum/components/Modal','flarum/components/Alert','flarum/components/Button','flarum/utils/extractText'],function(_export,_context){"use strict";var Modal,Alert,Button,extractText,ForgotPasswordModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){ForgotPasswordModal=function(_Modal){babelHelpers.inherits(ForgotPasswordModal,_Modal);function ForgotPasswordModal(){babelHelpers.classCallCheck(this,ForgotPasswordModal);return babelHelpers.possibleConstructorReturn(this,(ForgotPasswordModal.__proto__||Object.getPrototypeOf(ForgotPasswordModal)).apply(this,arguments))}
babelHelpers.createClass(ForgotPasswordModal,[{key:'init',value:function init(){babelHelpers.get(ForgotPasswordModal.prototype.__proto__||Object.getPrototypeOf(ForgotPasswordModal.prototype),'init',this).call(this);this.email=m.prop(this.props.email||'');this.success=!1}},{key:'className',value:function className(){return'ForgotPasswordModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.forgot_password.title')}},{key:'content',value:function content(){if(this.success){return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('p',{className:'helpText'},app.translator.trans('core.forum.forgot_password.email_sent_message')),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary Button--block',onclick:this.hide.bind(this)},app.translator.trans('core.forum.forgot_password.dismiss_button')))))}
return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('p',{className:'helpText'},app.translator.trans('core.forum.forgot_password.text')),m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'email',type:'email',placeholder:extractText(app.translator.trans('core.forum.forgot_password.email_placeholder')),value:this.email(),onchange:m.withAttr('value',this.email),disabled:this.loading})),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary Button--block',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.forgot_password.submit_button')}))))}},{key:'onsubmit',value:function onsubmit(e){var _this2=this;e.preventDefault();this.loading=!0;app.request({method:'POST',url:app.forum.attribute('apiUrl')+'/forgot',data:{email:this.email()},errorHandler:this.onerror.bind(this)}).then(function(){_this2.success=!0;_this2.alert=null}).catch(function(){}).then(this.loaded.bind(this))}},{key:'onerror',value:function onerror(error){if(error.status===404){error.alert.props.children=app.translator.trans('core.forum.forgot_password.not_found_message')}
babelHelpers.get(ForgotPasswordModal.prototype.__proto__||Object.getPrototypeOf(ForgotPasswordModal.prototype),'onerror',this).call(this,error)}}]);return ForgotPasswordModal}(Modal);_export('default',ForgotPasswordModal)}}});'use strict';System.register('flarum/components/GroupBadge',['flarum/components/Badge'],function(_export,_context){"use strict";var Badge,GroupBadge;return{setters:[function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default}],execute:function(){GroupBadge=function(_Badge){babelHelpers.inherits(GroupBadge,_Badge);function GroupBadge(){babelHelpers.classCallCheck(this,GroupBadge);return babelHelpers.possibleConstructorReturn(this,(GroupBadge.__proto__||Object.getPrototypeOf(GroupBadge)).apply(this,arguments))}
babelHelpers.createClass(GroupBadge,null,[{key:'initProps',value:function initProps(props){babelHelpers.get(GroupBadge.__proto__||Object.getPrototypeOf(GroupBadge),'initProps',this).call(this,props);if(props.group){props.icon=props.group.icon();props.style={backgroundColor:props.group.color()};props.label=typeof props.label==='undefined'?props.group.nameSingular():props.label;props.type='group--'+props.group.id();delete props.group}}}]);return GroupBadge}(Badge);_export('default',GroupBadge)}}});'use strict';System.register('flarum/components/HeaderPrimary',['flarum/Component','flarum/utils/ItemList','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,ItemList,listItems,HeaderPrimary;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){HeaderPrimary=function(_Component){babelHelpers.inherits(HeaderPrimary,_Component);function HeaderPrimary(){babelHelpers.classCallCheck(this,HeaderPrimary);return babelHelpers.possibleConstructorReturn(this,(HeaderPrimary.__proto__||Object.getPrototypeOf(HeaderPrimary)).apply(this,arguments))}
babelHelpers.createClass(HeaderPrimary,[{key:'view',value:function view(){return m('ul',{className:'Header-controls'},listItems(this.items().toArray()))}},{key:'config',value:function config(isInitialized,context){context.retain=!0}},{key:'items',value:function items(){return new ItemList()}}]);return HeaderPrimary}(Component);_export('default',HeaderPrimary)}}});'use strict';System.register('flarum/components/HeaderSecondary',['flarum/Component','flarum/components/Button','flarum/components/LogInModal','flarum/components/SignUpModal','flarum/components/SessionDropdown','flarum/components/SelectDropdown','flarum/components/NotificationsDropdown','flarum/utils/ItemList','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,Button,LogInModal,SignUpModal,SessionDropdown,SelectDropdown,NotificationsDropdown,ItemList,listItems,HeaderSecondary;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLogInModal){LogInModal=_flarumComponentsLogInModal.default},function(_flarumComponentsSignUpModal){SignUpModal=_flarumComponentsSignUpModal.default},function(_flarumComponentsSessionDropdown){SessionDropdown=_flarumComponentsSessionDropdown.default},function(_flarumComponentsSelectDropdown){SelectDropdown=_flarumComponentsSelectDropdown.default},function(_flarumComponentsNotificationsDropdown){NotificationsDropdown=_flarumComponentsNotificationsDropdown.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){HeaderSecondary=function(_Component){babelHelpers.inherits(HeaderSecondary,_Component);function HeaderSecondary(){babelHelpers.classCallCheck(this,HeaderSecondary);return babelHelpers.possibleConstructorReturn(this,(HeaderSecondary.__proto__||Object.getPrototypeOf(HeaderSecondary)).apply(this,arguments))}
babelHelpers.createClass(HeaderSecondary,[{key:'view',value:function view(){return m('ul',{className:'Header-controls'},listItems(this.items().toArray()))}},{key:'config',value:function config(isInitialized,context){context.retain=!0}},{key:'items',value:function items(){var items=new ItemList();items.add('search',app.search.render(),30);if(app.forum.attribute("showLanguageSelector")&&Object.keys(app.data.locales).length>1){var locales=[];var _loop=function _loop(locale){locales.push(Button.component({active:app.data.locale===locale,children:app.data.locales[locale],icon:app.data.locale===locale?'check':!0,onclick:function onclick(){if(app.session.user){app.session.user.savePreferences({locale:locale}).then(function(){return window.location.reload()})}else{document.cookie='locale='+locale+'; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT';window.location.reload()}}}))};for(var locale in app.data.locales){_loop(locale)}
items.add('locale',SelectDropdown.component({children:locales,buttonClassName:'Button Button--link'}),20)}
if(app.session.user){items.add('notifications',NotificationsDropdown.component(),10);items.add('session',SessionDropdown.component(),0)}else{if(app.forum.attribute('allowSignUp')){items.add('signUp',Button.component({children:app.translator.trans('core.forum.header.sign_up_link'),className:'Button Button--link',onclick:function onclick(){return app.modal.show(new SignUpModal())}}),10)}
items.add('logIn',Button.component({children:app.translator.trans('core.forum.header.log_in_link'),className:'Button Button--link',onclick:function onclick(){return app.modal.show(new LogInModal())}}),0)}
return items}}]);return HeaderSecondary}(Component);_export('default',HeaderSecondary)}}});'use strict';System.register('flarum/components/IndexPage',['flarum/extend','flarum/components/Page','flarum/utils/ItemList','flarum/helpers/listItems','flarum/helpers/icon','flarum/components/DiscussionList','flarum/components/WelcomeHero','flarum/components/DiscussionComposer','flarum/components/LogInModal','flarum/components/DiscussionPage','flarum/components/Dropdown','flarum/components/Button','flarum/components/LinkButton','flarum/components/SelectDropdown'],function(_export,_context){"use strict";var extend,Page,ItemList,listItems,icon,DiscussionList,WelcomeHero,DiscussionComposer,LogInModal,DiscussionPage,Dropdown,Button,LinkButton,SelectDropdown,IndexPage;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsPage){Page=_flarumComponentsPage.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumComponentsDiscussionList){DiscussionList=_flarumComponentsDiscussionList.default},function(_flarumComponentsWelcomeHero){WelcomeHero=_flarumComponentsWelcomeHero.default},function(_flarumComponentsDiscussionComposer){DiscussionComposer=_flarumComponentsDiscussionComposer.default},function(_flarumComponentsLogInModal){LogInModal=_flarumComponentsLogInModal.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumComponentsSelectDropdown){SelectDropdown=_flarumComponentsSelectDropdown.default}],execute:function(){IndexPage=function(_Page){babelHelpers.inherits(IndexPage,_Page);function IndexPage(){babelHelpers.classCallCheck(this,IndexPage);return babelHelpers.possibleConstructorReturn(this,(IndexPage.__proto__||Object.getPrototypeOf(IndexPage)).apply(this,arguments))}
babelHelpers.createClass(IndexPage,[{key:'init',value:function init(){babelHelpers.get(IndexPage.prototype.__proto__||Object.getPrototypeOf(IndexPage.prototype),'init',this).call(this);if(app.previous instanceof DiscussionPage){this.lastDiscussion=app.previous.discussion}
if(app.previous instanceof IndexPage){app.cache.discussionList=null}
var params=this.params();if(app.cache.discussionList){Object.keys(params).some(function(key){if(app.cache.discussionList.props.params[key]!==params[key]){app.cache.discussionList=null;return!0}})}
if(!app.cache.discussionList){app.cache.discussionList=new DiscussionList({params:params})}
app.history.push('index',app.translator.trans('core.forum.header.back_to_index_tooltip'));this.bodyClass='App--index'}},{key:'onunload',value:function onunload(){app.cache.scrollTop=$(window).scrollTop()}},{key:'view',value:function view(){return m('div',{className:'IndexPage'},this.hero(),m('div',{className:'container'},m('nav',{className:'IndexPage-nav sideNav'},m('ul',null,listItems(this.sidebarItems().toArray()))),m('div',{className:'IndexPage-results sideNavOffset'},m('div',{className:'IndexPage-toolbar'},m('ul',{className:'IndexPage-toolbar-view'},listItems(this.viewItems().toArray())),m('ul',{className:'IndexPage-toolbar-action'},listItems(this.actionItems().toArray()))),app.cache.discussionList.render())))}},{key:'config',value:function config(isInitialized,context){babelHelpers.get(IndexPage.prototype.__proto__||Object.getPrototypeOf(IndexPage.prototype),'config',this).apply(this,arguments);if(isInitialized)return;extend(context,'onunload',function(){return $('#app').css('min-height','')});app.setTitle('');app.setTitleCount(0);var oldHeroHeight=app.cache.heroHeight;var heroHeight=app.cache.heroHeight=this.$('.Hero').outerHeight();var scrollTop=app.cache.scrollTop;$('#app').css('min-height',$(window).height()+heroHeight);var scroll=function scroll(){return $(window).scrollTop(scrollTop-oldHeroHeight+heroHeight)};scroll();setTimeout(scroll,1);if(this.lastDiscussion){var $discussion=this.$('.DiscussionListItem[data-id="'+this.lastDiscussion.id()+'"]');if($discussion.length){var indexTop=$('#header').outerHeight();var indexBottom=$(window).height();var discussionTop=$discussion.offset().top;var discussionBottom=discussionTop+$discussion.outerHeight();if(discussionTop<scrollTop+indexTop||discussionBottom>scrollTop+indexBottom){$(window).scrollTop(discussionTop-indexTop)}}}}},{key:'hero',value:function hero(){return WelcomeHero.component()}},{key:'sidebarItems',value:function sidebarItems(){var items=new ItemList();var canStartDiscussion=app.forum.attribute('canStartDiscussion')||!app.session.user;items.add('newDiscussion',Button.component({children:app.translator.trans(canStartDiscussion?'core.forum.index.start_discussion_button':'core.forum.index.cannot_start_discussion_button'),icon:'edit',className:'Button Button--primary IndexPage-newDiscussion',itemClassName:'App-primaryControl',onclick:this.newDiscussion.bind(this),disabled:!canStartDiscussion}));items.add('nav',SelectDropdown.component({children:this.navItems(this).toArray(),buttonClassName:'Button',className:'App-titleControl'}));return items}},{key:'navItems',value:function navItems(){var items=new ItemList();var params=this.stickyParams();items.add('allDiscussions',LinkButton.component({href:app.route('index',params),children:app.translator.trans('core.forum.index.all_discussions_link'),icon:'comments-o'}),100);return items}},{key:'viewItems',value:function viewItems(){var _this2=this;var items=new ItemList();var sortMap=app.cache.discussionList.sortMap();var sortOptions={};for(var i in sortMap){sortOptions[i]=app.translator.trans('core.forum.index_sort.'+i+'_button')}
items.add('sort',Dropdown.component({buttonClassName:'Button',label:sortOptions[this.params().sort]||Object.keys(sortMap).map(function(key){return sortOptions[key]})[0],children:Object.keys(sortOptions).map(function(value){var label=sortOptions[value];var active=(_this2.params().sort||Object.keys(sortMap)[0])===value;return Button.component({children:label,icon:active?'check':!0,onclick:_this2.changeSort.bind(_this2,value),active:active})})}));return items}},{key:'actionItems',value:function actionItems(){var items=new ItemList();items.add('refresh',Button.component({title:app.translator.trans('core.forum.index.refresh_tooltip'),icon:'refresh',className:'Button Button--icon',onclick:function onclick(){app.cache.discussionList.refresh();if(app.session.user){app.store.find('users',app.session.user.id());m.redraw()}}}));if(app.session.user){items.add('markAllAsRead',Button.component({title:app.translator.trans('core.forum.index.mark_all_as_read_tooltip'),icon:'check',className:'Button Button--icon',onclick:this.markAllAsRead.bind(this)}))}
return items}},{key:'searching',value:function searching(){return this.params().q}},{key:'clearSearch',value:function clearSearch(){var params=this.params();delete params.q;m.route(app.route(this.props.routeName,params))}},{key:'changeSort',value:function changeSort(sort){var params=this.params();if(sort===Object.keys(app.cache.discussionList.sortMap())[0]){delete params.sort}else{params.sort=sort}
m.route(app.route(this.props.routeName,params))}},{key:'stickyParams',value:function stickyParams(){return{sort:m.route.param('sort'),q:m.route.param('q')}}},{key:'params',value:function params(){var params=this.stickyParams();params.filter=m.route.param('filter');return params}},{key:'newDiscussion',value:function newDiscussion(){var deferred=m.deferred();if(app.session.user){this.composeNewDiscussion(deferred)}else{app.modal.show(new LogInModal({onlogin:this.composeNewDiscussion.bind(this,deferred)}))}
return deferred.promise}},{key:'composeNewDiscussion',value:function composeNewDiscussion(deferred){var component=new DiscussionComposer({user:app.session.user});app.composer.load(component);app.composer.show();deferred.resolve(component);return deferred.promise}},{key:'markAllAsRead',value:function markAllAsRead(){var confirmation=confirm(app.translator.trans('core.forum.index.mark_all_as_read_confirmation'));if(confirmation){app.session.user.save({readTime:new Date()})}}}]);return IndexPage}(Page);_export('default',IndexPage)}}});'use strict';System.register('flarum/components/LinkButton',['flarum/components/Button'],function(_export,_context){"use strict";var Button,LinkButton;return{setters:[function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){LinkButton=function(_Button){babelHelpers.inherits(LinkButton,_Button);function LinkButton(){babelHelpers.classCallCheck(this,LinkButton);return babelHelpers.possibleConstructorReturn(this,(LinkButton.__proto__||Object.getPrototypeOf(LinkButton)).apply(this,arguments))}
babelHelpers.createClass(LinkButton,[{key:'view',value:function view(){var vdom=babelHelpers.get(LinkButton.prototype.__proto__||Object.getPrototypeOf(LinkButton.prototype),'view',this).call(this);vdom.tag='a';return vdom}}],[{key:'initProps',value:function initProps(props){props.active=this.isActive(props);props.config=props.config||m.route}},{key:'isActive',value:function isActive(props){return typeof props.active!=='undefined'?props.active:m.route()===props.href}}]);return LinkButton}(Button);_export('default',LinkButton)}}});'use strict';System.register('flarum/components/LoadingIndicator',['flarum/Component'],function(_export,_context){"use strict";var Component,LoadingIndicator;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){LoadingIndicator=function(_Component){babelHelpers.inherits(LoadingIndicator,_Component);function LoadingIndicator(){babelHelpers.classCallCheck(this,LoadingIndicator);return babelHelpers.possibleConstructorReturn(this,(LoadingIndicator.__proto__||Object.getPrototypeOf(LoadingIndicator)).apply(this,arguments))}
babelHelpers.createClass(LoadingIndicator,[{key:'view',value:function view(){var attrs=babelHelpers.extends({},this.props);attrs.className='LoadingIndicator '+(attrs.className||'');delete attrs.size;return m('div',attrs,m.trust('&nbsp;'))}},{key:'config',value:function config(){var size=this.props.size||'small';$.fn.spin.presets[size].zIndex='auto';this.$().spin(size)}}]);return LoadingIndicator}(Component);_export('default',LoadingIndicator)}}});'use strict';System.register('flarum/components/LoadingPost',['flarum/Component','flarum/helpers/avatar'],function(_export,_context){"use strict";var Component,avatar,LoadingPost;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default}],execute:function(){LoadingPost=function(_Component){babelHelpers.inherits(LoadingPost,_Component);function LoadingPost(){babelHelpers.classCallCheck(this,LoadingPost);return babelHelpers.possibleConstructorReturn(this,(LoadingPost.__proto__||Object.getPrototypeOf(LoadingPost)).apply(this,arguments))}
babelHelpers.createClass(LoadingPost,[{key:'view',value:function view(){return m('div',{className:'Post CommentPost LoadingPost'},m('header',{className:'Post-header'},avatar(null,{className:'PostUser-avatar'}),m('div',{className:'fakeText'})),m('div',{className:'Post-body'},m('div',{className:'fakeText'}),m('div',{className:'fakeText'}),m('div',{className:'fakeText'})))}}]);return LoadingPost}(Component);_export('default',LoadingPost)}}});'use strict';System.register('flarum/components/LogInButton',['flarum/components/Button'],function(_export,_context){"use strict";var Button,LogInButton;return{setters:[function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){LogInButton=function(_Button){babelHelpers.inherits(LogInButton,_Button);function LogInButton(){babelHelpers.classCallCheck(this,LogInButton);return babelHelpers.possibleConstructorReturn(this,(LogInButton.__proto__||Object.getPrototypeOf(LogInButton)).apply(this,arguments))}
babelHelpers.createClass(LogInButton,null,[{key:'initProps',value:function initProps(props){props.className=(props.className||'')+' LogInButton';props.onclick=function(){var width=600;var height=400;var $window=$(window);window.open(app.forum.attribute('baseUrl')+props.path,'logInPopup','width='+width+','+('height='+height+',')+('top='+($window.height()/2-height/2)+',')+('left='+($window.width()/2-width/2)+',')+'status=no,scrollbars=no,resizable=no')};babelHelpers.get(LogInButton.__proto__||Object.getPrototypeOf(LogInButton),'initProps',this).call(this,props)}}]);return LogInButton}(Button);_export('default',LogInButton)}}});'use strict';System.register('flarum/components/LogInButtons',['flarum/Component','flarum/utils/ItemList'],function(_export,_context){"use strict";var Component,ItemList,LogInButtons;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){LogInButtons=function(_Component){babelHelpers.inherits(LogInButtons,_Component);function LogInButtons(){babelHelpers.classCallCheck(this,LogInButtons);return babelHelpers.possibleConstructorReturn(this,(LogInButtons.__proto__||Object.getPrototypeOf(LogInButtons)).apply(this,arguments))}
babelHelpers.createClass(LogInButtons,[{key:'view',value:function view(){return m('div',{className:'LogInButtons'},this.items().toArray())}},{key:'items',value:function items(){return new ItemList()}}]);return LogInButtons}(Component);_export('default',LogInButtons)}}});'use strict';System.register('flarum/components/LogInModal',['flarum/components/Modal','flarum/components/ForgotPasswordModal','flarum/components/SignUpModal','flarum/components/Alert','flarum/components/Button','flarum/components/LogInButtons','flarum/utils/extractText'],function(_export,_context){"use strict";var Modal,ForgotPasswordModal,SignUpModal,Alert,Button,LogInButtons,extractText,LogInModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsForgotPasswordModal){ForgotPasswordModal=_flarumComponentsForgotPasswordModal.default},function(_flarumComponentsSignUpModal){SignUpModal=_flarumComponentsSignUpModal.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLogInButtons){LogInButtons=_flarumComponentsLogInButtons.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){LogInModal=function(_Modal){babelHelpers.inherits(LogInModal,_Modal);function LogInModal(){babelHelpers.classCallCheck(this,LogInModal);return babelHelpers.possibleConstructorReturn(this,(LogInModal.__proto__||Object.getPrototypeOf(LogInModal)).apply(this,arguments))}
babelHelpers.createClass(LogInModal,[{key:'init',value:function init(){babelHelpers.get(LogInModal.prototype.__proto__||Object.getPrototypeOf(LogInModal.prototype),'init',this).call(this);this.identification=m.prop(this.props.identification||'');this.password=m.prop(this.props.password||'');this.remember=m.prop(!!this.props.remember)}},{key:'className',value:function className(){return'LogInModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.log_in.title')}},{key:'content',value:function content(){return[m('div',{className:'Modal-body'},m(LogInButtons,null),m('div',{className:'Form Form--centered'},m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'identification',type:'text',placeholder:extractText(app.translator.trans('core.forum.log_in.username_or_email_placeholder')),bidi:this.identification,disabled:this.loading})),m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'password',type:'password',placeholder:extractText(app.translator.trans('core.forum.log_in.password_placeholder')),bidi:this.password,disabled:this.loading})),m('div',{className:'Form-group'},m('div',null,m('label',{className:'checkbox'},m('input',{type:'checkbox',bidi:this.remember,disabled:this.loading}),app.translator.trans('core.forum.log_in.remember_me_label')))),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary Button--block',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.log_in.submit_button')})))),m('div',{className:'Modal-footer'},m('p',{className:'LogInModal-forgotPassword'},m('a',{onclick:this.forgotPassword.bind(this)},app.translator.trans('core.forum.log_in.forgot_password_link'))),app.forum.attribute('allowSignUp')?m('p',{className:'LogInModal-signUp'},app.translator.trans('core.forum.log_in.sign_up_text',{a:m('a',{onclick:this.signUp.bind(this)})})):'')]}},{key:'forgotPassword',value:function forgotPassword(){var email=this.identification();var props=email.indexOf('@')!==-1?{email:email}:undefined;app.modal.show(new ForgotPasswordModal(props))}},{key:'signUp',value:function signUp(){var props={password:this.password()};var identification=this.identification();props[identification.indexOf('@')!==-1?'email':'username']=identification;app.modal.show(new SignUpModal(props))}},{key:'onready',value:function onready(){this.$('[name='+(this.identification()?'password':'identification')+']').select()}},{key:'onsubmit',value:function onsubmit(e){e.preventDefault();this.loading=!0;var identification=this.identification();var password=this.password();var remember=this.remember();app.session.login({identification:identification,password:password,remember:remember},{errorHandler:this.onerror.bind(this)}).then(function(){return window.location.reload()},this.loaded.bind(this))}},{key:'onerror',value:function onerror(error){if(error.status===401){error.alert.props.children=app.translator.trans('core.forum.log_in.invalid_login_message')}
babelHelpers.get(LogInModal.prototype.__proto__||Object.getPrototypeOf(LogInModal.prototype),'onerror',this).call(this,error)}}]);return LogInModal}(Modal);_export('default',LogInModal)}}});'use strict';System.register('flarum/components/Modal',['flarum/Component','flarum/components/Alert','flarum/components/Button'],function(_export,_context){"use strict";var Component,Alert,Button,Modal;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){Modal=function(_Component){babelHelpers.inherits(Modal,_Component);function Modal(){babelHelpers.classCallCheck(this,Modal);return babelHelpers.possibleConstructorReturn(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).apply(this,arguments))}
babelHelpers.createClass(Modal,[{key:'init',value:function init(){this.alert=null}},{key:'view',value:function view(){if(this.alert){this.alert.props.dismissible=!1}
return m('div',{className:'Modal modal-dialog '+this.className()},m('div',{className:'Modal-content'},this.isDismissible()?m('div',{className:'Modal-close App-backControl'},Button.component({icon:'times',onclick:this.hide.bind(this),className:'Button Button--icon Button--link'})):'',m('form',{onsubmit:this.onsubmit.bind(this)},m('div',{className:'Modal-header'},m('h3',{className:'App-titleControl App-titleControl--text'},this.title())),alert?m('div',{className:'Modal-alert'},this.alert):'',this.content())))}},{key:'isDismissible',value:function isDismissible(){return!0}},{key:'className',value:function className(){}},{key:'title',value:function title(){}},{key:'content',value:function content(){}},{key:'onsubmit',value:function onsubmit(){}},{key:'onready',value:function onready(){this.$('form').find('input, select, textarea').first().focus().select()}},{key:'onhide',value:function onhide(){}},{key:'hide',value:function hide(){app.modal.close()}},{key:'loaded',value:function loaded(){this.loading=!1;m.redraw()}},{key:'onerror',value:function onerror(error){this.alert=error.alert;m.redraw();if(error.status===422&&error.response.errors){this.$('form [name='+error.response.errors[0].source.pointer.replace('/data/attributes/','')+']').select()}else{this.onready()}}}]);return Modal}(Component);_export('default',Modal)}}});'use strict';System.register('flarum/components/ModalManager',['flarum/Component','flarum/components/Modal'],function(_export,_context){"use strict";var Component,Modal,ModalManager;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsModal){Modal=_flarumComponentsModal.default}],execute:function(){ModalManager=function(_Component){babelHelpers.inherits(ModalManager,_Component);function ModalManager(){babelHelpers.classCallCheck(this,ModalManager);return babelHelpers.possibleConstructorReturn(this,(ModalManager.__proto__||Object.getPrototypeOf(ModalManager)).apply(this,arguments))}
babelHelpers.createClass(ModalManager,[{key:'init',value:function init(){this.showing=!1;this.component=null}},{key:'view',value:function view(){return m('div',{className:'ModalManager modal fade'},this.component&&this.component.render())}},{key:'config',value:function config(isInitialized,context){if(isInitialized)return;context.retain=!0;this.$().on('hidden.bs.modal',this.clear.bind(this)).on('shown.bs.modal',this.onready.bind(this))}},{key:'show',value:function show(component){if(!(component instanceof Modal)){throw new Error('The ModalManager component can only show Modal components')}
clearTimeout(this.hideTimeout);this.showing=!0;this.component=component;app.current.retain=!0;m.redraw(!0);this.$().modal({backdrop:this.component.isDismissible()?!0:'static'}).modal('show');this.onready()}},{key:'close',value:function close(){var _this2=this;if(!this.showing)return;this.hideTimeout=setTimeout(function(){_this2.$().modal('hide');_this2.showing=!1})}},{key:'clear',value:function clear(){if(this.component){this.component.onhide()}
this.component=null;app.current.retain=!1;m.lazyRedraw()}},{key:'onready',value:function onready(){if(this.component&&this.component.onready){this.component.onready(this.$())}}}]);return ModalManager}(Component);_export('default',ModalManager)}}});'use strict';System.register('flarum/components/Navigation',['flarum/Component','flarum/components/Button','flarum/components/LinkButton'],function(_export,_context){"use strict";var Component,Button,LinkButton,Navigation;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default}],execute:function(){Navigation=function(_Component){babelHelpers.inherits(Navigation,_Component);function Navigation(){babelHelpers.classCallCheck(this,Navigation);return babelHelpers.possibleConstructorReturn(this,(Navigation.__proto__||Object.getPrototypeOf(Navigation)).apply(this,arguments))}
babelHelpers.createClass(Navigation,[{key:'view',value:function view(){var _app=app,history=_app.history,pane=_app.pane;return m('div',{className:'Navigation ButtonGroup '+(this.props.className||''),onmouseenter:pane&&pane.show.bind(pane),onmouseleave:pane&&pane.onmouseleave.bind(pane)},history.canGoBack()?[this.getBackButton(),this.getPaneButton()]:this.getDrawerButton())}},{key:'config',value:function config(isInitialized,context){context.retain=!0}},{key:'getBackButton',value:function getBackButton(){var _app2=app,history=_app2.history;var previous=history.getPrevious()||{};return LinkButton.component({className:'Button Navigation-back Button--icon',href:history.backUrl(),icon:'chevron-left',title:previous.title,config:function config(){},onclick:function onclick(e){if(e.shiftKey||e.ctrlKey||e.metaKey||e.which===2)return;e.preventDefault();history.back()}})}},{key:'getPaneButton',value:function getPaneButton(){var _app3=app,pane=_app3.pane;if(!pane||!pane.active)return'';return Button.component({className:'Button Button--icon Navigation-pin'+(pane.pinned?' active':''),onclick:pane.togglePinned.bind(pane),icon:'thumb-tack'})}},{key:'getDrawerButton',value:function getDrawerButton(){if(!this.props.drawer)return'';var _app4=app,drawer=_app4.drawer;var user=app.session.user;return Button.component({className:'Button Button--icon Navigation-drawer'+(user&&user.newNotificationsCount()?' new':''),onclick:function onclick(e){e.stopPropagation();drawer.show()},icon:'reorder'})}}]);return Navigation}(Component);_export('default',Navigation)}}});'use strict';System.register('flarum/components/Notification',['flarum/Component','flarum/helpers/avatar','flarum/helpers/icon','flarum/helpers/humanTime'],function(_export,_context){"use strict";var Component,avatar,icon,humanTime,Notification;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumHelpersHumanTime){humanTime=_flarumHelpersHumanTime.default}],execute:function(){Notification=function(_Component){babelHelpers.inherits(Notification,_Component);function Notification(){babelHelpers.classCallCheck(this,Notification);return babelHelpers.possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).apply(this,arguments))}
babelHelpers.createClass(Notification,[{key:'view',value:function view(){var notification=this.props.notification;var href=this.href();return m('a',{className:'Notification Notification--'+notification.contentType()+' '+(!notification.isRead()?'unread':''),href:href,config:function config(element,isInitialized){if(href.indexOf('://')===-1)m.route.apply(this,arguments);if(!isInitialized)$(element).click(this.markAsRead.bind(this))}},avatar(notification.sender()),icon(this.icon(),{className:'Notification-icon'}),m('span',{className:'Notification-content'},this.content()),humanTime(notification.time()),m('div',{className:'Notification-excerpt'},this.excerpt()))}},{key:'icon',value:function icon(){}},{key:'href',value:function href(){}},{key:'content',value:function content(){}},{key:'excerpt',value:function excerpt(){}},{key:'markAsRead',value:function markAsRead(){if(this.props.notification.isRead())return;app.session.user.pushAttributes({unreadNotificationsCount:app.session.user.unreadNotificationsCount()-1});this.props.notification.save({isRead:!0})}}]);return Notification}(Component);_export('default',Notification)}}});'use strict';System.register('flarum/components/NotificationGrid',['flarum/Component','flarum/components/Checkbox','flarum/helpers/icon','flarum/utils/ItemList'],function(_export,_context){"use strict";var Component,Checkbox,icon,ItemList,NotificationGrid;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsCheckbox){Checkbox=_flarumComponentsCheckbox.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){NotificationGrid=function(_Component){babelHelpers.inherits(NotificationGrid,_Component);function NotificationGrid(){babelHelpers.classCallCheck(this,NotificationGrid);return babelHelpers.possibleConstructorReturn(this,(NotificationGrid.__proto__||Object.getPrototypeOf(NotificationGrid)).apply(this,arguments))}
babelHelpers.createClass(NotificationGrid,[{key:'init',value:function init(){var _this2=this;this.methods=[{name:'alert',icon:'bell',label:app.translator.trans('core.forum.settings.notify_by_web_heading')},{name:'email',icon:'envelope-o',label:app.translator.trans('core.forum.settings.notify_by_email_heading')}];this.inputs={};this.types=this.notificationTypes().toArray();this.types.forEach(function(type){_this2.methods.forEach(function(method){var key=_this2.preferenceKey(type.name,method.name);var preference=_this2.props.user.preferences()[key];_this2.inputs[key]=new Checkbox({state:!!preference,disabled:typeof preference==='undefined',onchange:function onchange(){return _this2.toggle([key])}})})})}},{key:'view',value:function view(){var _this3=this;return m('table',{className:'NotificationGrid'},m('thead',null,m('tr',null,m('td',null),this.methods.map(function(method){return m('th',{className:'NotificationGrid-groupToggle',onclick:_this3.toggleMethod.bind(_this3,method.name)},icon(method.icon),' ',method.label)}))),m('tbody',null,this.types.map(function(type){return m('tr',null,m('td',{className:'NotificationGrid-groupToggle',onclick:_this3.toggleType.bind(_this3,type.name)},icon(type.icon),' ',type.label),_this3.methods.map(function(method){return m('td',{className:'NotificationGrid-checkbox'},_this3.inputs[_this3.preferenceKey(type.name,method.name)].render())}))})))}},{key:'config',value:function config(isInitialized){if(isInitialized)return;this.$('thead .NotificationGrid-groupToggle').bind('mouseenter mouseleave',function(e){var i=parseInt($(this).index(),10)+1;$(this).parents('table').find('td:nth-child('+i+')').toggleClass('highlighted',e.type==='mouseenter')});this.$('tbody .NotificationGrid-groupToggle').bind('mouseenter mouseleave',function(e){$(this).parent().find('td').toggleClass('highlighted',e.type==='mouseenter')})}},{key:'toggle',value:function toggle(keys){var _this4=this;var user=this.props.user;var preferences=user.preferences();var enabled=!preferences[keys[0]];keys.forEach(function(key){var control=_this4.inputs[key];control.loading=!0;preferences[key]=control.props.state=enabled});m.redraw();user.save({preferences:preferences}).then(function(){keys.forEach(function(key){return _this4.inputs[key].loading=!1});m.redraw()})}},{key:'toggleMethod',value:function toggleMethod(method){var _this5=this;var keys=this.types.map(function(type){return _this5.preferenceKey(type.name,method)}).filter(function(key){return!_this5.inputs[key].props.disabled});this.toggle(keys)}},{key:'toggleType',value:function toggleType(type){var _this6=this;var keys=this.methods.map(function(method){return _this6.preferenceKey(type,method.name)}).filter(function(key){return!_this6.inputs[key].props.disabled});this.toggle(keys)}},{key:'preferenceKey',value:function preferenceKey(type,method){return'notify_'+type+'_'+method}},{key:'notificationTypes',value:function notificationTypes(){var items=new ItemList();items.add('discussionRenamed',{name:'discussionRenamed',icon:'pencil',label:app.translator.trans('core.forum.settings.notify_discussion_renamed_label')});return items}}]);return NotificationGrid}(Component);_export('default',NotificationGrid)}}});'use strict';System.register('flarum/components/NotificationList',['flarum/Component','flarum/helpers/listItems','flarum/components/Button','flarum/components/LoadingIndicator','flarum/models/Discussion'],function(_export,_context){"use strict";var Component,listItems,Button,LoadingIndicator,Discussion,NotificationList;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default}],execute:function(){NotificationList=function(_Component){babelHelpers.inherits(NotificationList,_Component);function NotificationList(){babelHelpers.classCallCheck(this,NotificationList);return babelHelpers.possibleConstructorReturn(this,(NotificationList.__proto__||Object.getPrototypeOf(NotificationList)).apply(this,arguments))}
babelHelpers.createClass(NotificationList,[{key:'init',value:function init(){this.loading=!1}},{key:'view',value:function view(){var groups=[];if(app.cache.notifications){var discussions={};app.cache.notifications.forEach(function(notification){var subject=notification.subject();if(typeof subject==='undefined')return;var discussion=!1;if(subject instanceof Discussion)discussion=subject;else if(subject&&subject.discussion)discussion=subject.discussion();var key=discussion?discussion.id():0;discussions[key]=discussions[key]||{discussion:discussion,notifications:[]};discussions[key].notifications.push(notification);if(groups.indexOf(discussions[key])===-1){groups.push(discussions[key])}})}
return m('div',{className:'NotificationList'},m('div',{className:'NotificationList-header'},m('div',{className:'App-primaryControl'},Button.component({className:'Button Button--icon Button--link',icon:'check',title:app.translator.trans('core.forum.notifications.mark_all_as_read_tooltip'),onclick:this.markAllAsRead.bind(this)})),m('h4',{className:'App-titleControl App-titleControl--text'},app.translator.trans('core.forum.notifications.title'))),m('div',{className:'NotificationList-content'},groups.length?groups.map(function(group){var badges=group.discussion&&group.discussion.badges().toArray();return m('div',{className:'NotificationGroup'},group.discussion?m('a',{className:'NotificationGroup-header',href:app.route.discussion(group.discussion),config:m.route},badges&&badges.length?m('ul',{className:'NotificationGroup-badges badges'},listItems(badges)):'',group.discussion.title()):m('div',{className:'NotificationGroup-header'},app.forum.attribute('title')),m('ul',{className:'NotificationGroup-content'},group.notifications.map(function(notification){var NotificationComponent=app.notificationComponents[notification.contentType()];return NotificationComponent?m('li',null,NotificationComponent.component({notification:notification})):''})))}):!this.loading?m('div',{className:'NotificationList-empty'},app.translator.trans('core.forum.notifications.empty_text')):LoadingIndicator.component({className:'LoadingIndicator--block'})))}},{key:'load',value:function load(){var _this2=this;if(app.cache.notifications&&!app.session.user.newNotificationsCount()){return}
this.loading=!0;m.redraw();app.store.find('notifications').then(function(notifications){app.session.user.pushAttributes({newNotificationsCount:0});app.cache.notifications=notifications.sort(function(a,b){return b.time()-a.time()})}).catch(function(){}).then(function(){_this2.loading=!1;m.redraw()})}},{key:'markAllAsRead',value:function markAllAsRead(){if(!app.cache.notifications)return;app.session.user.pushAttributes({unreadNotificationsCount:0});app.cache.notifications.forEach(function(notification){return notification.pushAttributes({isRead:!0})});app.request({url:app.forum.attribute('apiUrl')+'/notifications/read',method:'POST'})}}]);return NotificationList}(Component);_export('default',NotificationList)}}});'use strict';System.register('flarum/components/NotificationsDropdown',['flarum/components/Dropdown','flarum/helpers/icon','flarum/components/NotificationList'],function(_export,_context){"use strict";var Dropdown,icon,NotificationList,NotificationsDropdown;return{setters:[function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumComponentsNotificationList){NotificationList=_flarumComponentsNotificationList.default}],execute:function(){NotificationsDropdown=function(_Dropdown){babelHelpers.inherits(NotificationsDropdown,_Dropdown);function NotificationsDropdown(){babelHelpers.classCallCheck(this,NotificationsDropdown);return babelHelpers.possibleConstructorReturn(this,(NotificationsDropdown.__proto__||Object.getPrototypeOf(NotificationsDropdown)).apply(this,arguments))}
babelHelpers.createClass(NotificationsDropdown,[{key:'init',value:function init(){babelHelpers.get(NotificationsDropdown.prototype.__proto__||Object.getPrototypeOf(NotificationsDropdown.prototype),'init',this).call(this);this.list=new NotificationList()}},{key:'getButton',value:function getButton(){var newNotifications=this.getNewCount();var vdom=babelHelpers.get(NotificationsDropdown.prototype.__proto__||Object.getPrototypeOf(NotificationsDropdown.prototype),'getButton',this).call(this);vdom.attrs.title=this.props.label;vdom.attrs.className+=newNotifications?' new':'';vdom.attrs.onclick=this.onclick.bind(this);return vdom}},{key:'getButtonContent',value:function getButtonContent(){var unread=this.getUnreadCount();return[icon(this.props.icon,{className:'Button-icon'}),unread?m('span',{className:'NotificationsDropdown-unread'},unread):'',m('span',{className:'Button-label'},this.props.label)]}},{key:'getMenu',value:function getMenu(){return m('div',{className:'Dropdown-menu '+this.props.menuClassName,onclick:this.menuClick.bind(this)},this.showing?this.list.render():'')}},{key:'onclick',value:function onclick(){if(app.drawer.isOpen()){this.goToRoute()}else{this.list.load()}}},{key:'goToRoute',value:function goToRoute(){m.route(app.route('notifications'))}},{key:'getUnreadCount',value:function getUnreadCount(){return app.session.user.unreadNotificationsCount()}},{key:'getNewCount',value:function getNewCount(){return app.session.user.newNotificationsCount()}},{key:'menuClick',value:function menuClick(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.which===2)e.stopPropagation()}}],[{key:'initProps',value:function initProps(props){props.className=props.className||'NotificationsDropdown';props.buttonClassName=props.buttonClassName||'Button Button--flat';props.menuClassName=props.menuClassName||'Dropdown-menu--right';props.label=props.label||app.translator.trans('core.forum.notifications.tooltip');props.icon=props.icon||'bell';babelHelpers.get(NotificationsDropdown.__proto__||Object.getPrototypeOf(NotificationsDropdown),'initProps',this).call(this,props)}}]);return NotificationsDropdown}(Dropdown);_export('default',NotificationsDropdown)}}});'use strict';System.register('flarum/components/NotificationsPage',['flarum/components/Page','flarum/components/NotificationList'],function(_export,_context){"use strict";var Page,NotificationList,NotificationsPage;return{setters:[function(_flarumComponentsPage){Page=_flarumComponentsPage.default},function(_flarumComponentsNotificationList){NotificationList=_flarumComponentsNotificationList.default}],execute:function(){NotificationsPage=function(_Page){babelHelpers.inherits(NotificationsPage,_Page);function NotificationsPage(){babelHelpers.classCallCheck(this,NotificationsPage);return babelHelpers.possibleConstructorReturn(this,(NotificationsPage.__proto__||Object.getPrototypeOf(NotificationsPage)).apply(this,arguments))}
babelHelpers.createClass(NotificationsPage,[{key:'init',value:function init(){babelHelpers.get(NotificationsPage.prototype.__proto__||Object.getPrototypeOf(NotificationsPage.prototype),'init',this).call(this);app.history.push('notifications');this.list=new NotificationList();this.list.load();this.bodyClass='App--notifications'}},{key:'view',value:function view(){return m('div',{className:'NotificationsPage'},this.list.render())}}]);return NotificationsPage}(Page);_export('default',NotificationsPage)}}});'use strict';System.register('flarum/components/Page',['flarum/Component'],function(_export,_context){"use strict";var Component,Page;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){Page=function(_Component){babelHelpers.inherits(Page,_Component);function Page(){babelHelpers.classCallCheck(this,Page);return babelHelpers.possibleConstructorReturn(this,(Page.__proto__||Object.getPrototypeOf(Page)).apply(this,arguments))}
babelHelpers.createClass(Page,[{key:'init',value:function init(){app.previous=app.current;app.current=this;app.drawer.hide();app.modal.close();this.bodyClass=''}},{key:'config',value:function config(isInitialized,context){var _this2=this;if(isInitialized)return;if(this.bodyClass){$('#app').addClass(this.bodyClass);context.onunload=function(){return $('#app').removeClass(_this2.bodyClass)}}}}]);return Page}(Component);_export('default',Page)}}});"use strict";System.register("flarum/components/Placeholder",["flarum/Component"],function(_export,_context){"use strict";var Component,Placeholder;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){Placeholder=function(_Component){babelHelpers.inherits(Placeholder,_Component);function Placeholder(){babelHelpers.classCallCheck(this,Placeholder);return babelHelpers.possibleConstructorReturn(this,(Placeholder.__proto__||Object.getPrototypeOf(Placeholder)).apply(this,arguments))}
babelHelpers.createClass(Placeholder,[{key:"view",value:function view(){return m("div",{className:"Placeholder"},m("p",null,this.props.text))}}]);return Placeholder}(Component);_export("default",Placeholder)}}});'use strict';System.register('flarum/components/Post',['flarum/Component','flarum/utils/SubtreeRetainer','flarum/components/Dropdown','flarum/utils/PostControls','flarum/helpers/listItems','flarum/utils/ItemList'],function(_export,_context){"use strict";var Component,SubtreeRetainer,Dropdown,PostControls,listItems,ItemList,Post;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsSubtreeRetainer){SubtreeRetainer=_flarumUtilsSubtreeRetainer.default},function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumUtilsPostControls){PostControls=_flarumUtilsPostControls.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){Post=function(_Component){babelHelpers.inherits(Post,_Component);function Post(){babelHelpers.classCallCheck(this,Post);return babelHelpers.possibleConstructorReturn(this,(Post.__proto__||Object.getPrototypeOf(Post)).apply(this,arguments))}
babelHelpers.createClass(Post,[{key:'init',value:function init(){var _this2=this;this.loading=!1;this.subtree=new SubtreeRetainer(function(){return _this2.props.post.freshness},function(){var user=_this2.props.post.user();return user&&user.freshness},function(){return _this2.controlsOpen})}},{key:'view',value:function view(){var _this3=this;var attrs=this.attrs();attrs.className='Post '+(this.loading?'Post--loading ':'')+(attrs.className||'');return m('article',attrs,this.subtree.retain()||function(){var controls=PostControls.controls(_this3.props.post,_this3).toArray();return m('div',null,_this3.content(),m('aside',{className:'Post-actions'},m('ul',null,listItems(_this3.actionItems().toArray()),controls.length?m('li',null,m(Dropdown,{className:'Post-controls',buttonClassName:'Button Button--icon Button--flat',menuClassName:'Dropdown-menu--right',icon:'ellipsis-h',onshow:function onshow(){return _this3.$('.Post-actions').addClass('open')},onhide:function onhide(){return _this3.$('.Post-actions').removeClass('open')}},controls)):'')),m('footer',{className:'Post-footer'},m('ul',null,listItems(_this3.footerItems().toArray()))))}())}},{key:'config',value:function config(isInitialized){var $actions=this.$('.Post-actions');var $controls=this.$('.Post-controls');$actions.toggleClass('open',$controls.hasClass('open'))}},{key:'attrs',value:function attrs(){return{}}},{key:'content',value:function content(){return[]}},{key:'actionItems',value:function actionItems(){return new ItemList()}},{key:'footerItems',value:function footerItems(){return new ItemList()}}]);return Post}(Component);_export('default',Post)}}});'use strict';System.register('flarum/components/PostEdited',['flarum/Component','flarum/utils/humanTime','flarum/utils/extractText'],function(_export,_context){"use strict";var Component,humanTime,extractText,PostEdited;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsHumanTime){humanTime=_flarumUtilsHumanTime.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){PostEdited=function(_Component){babelHelpers.inherits(PostEdited,_Component);function PostEdited(){babelHelpers.classCallCheck(this,PostEdited);return babelHelpers.possibleConstructorReturn(this,(PostEdited.__proto__||Object.getPrototypeOf(PostEdited)).apply(this,arguments))}
babelHelpers.createClass(PostEdited,[{key:'init',value:function init(){this.shouldUpdateTooltip=!1;this.oldEditedInfo=null}},{key:'view',value:function view(){var post=this.props.post;var editUser=post.editUser();var editedInfo=extractText(app.translator.trans('core.forum.post.edited_tooltip',{user:editUser,ago:humanTime(post.editTime())}));if(editedInfo!==this.oldEditedInfo){this.shouldUpdateTooltip=!0;this.oldEditedInfo=editedInfo}
return m('span',{className:'PostEdited',title:editedInfo},app.translator.trans('core.forum.post.edited_text'))}},{key:'config',value:function config(isInitialized){if(this.shouldUpdateTooltip){this.$().tooltip('destroy').tooltip();this.shouldUpdateTooltip=!1}}}]);return PostEdited}(Component);_export('default',PostEdited)}}});'use strict';System.register('flarum/components/PostMeta',['flarum/Component','flarum/helpers/humanTime','flarum/helpers/fullTime'],function(_export,_context){"use strict";var Component,humanTime,fullTime,PostMeta;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersHumanTime){humanTime=_flarumHelpersHumanTime.default},function(_flarumHelpersFullTime){fullTime=_flarumHelpersFullTime.default}],execute:function(){PostMeta=function(_Component){babelHelpers.inherits(PostMeta,_Component);function PostMeta(){babelHelpers.classCallCheck(this,PostMeta);return babelHelpers.possibleConstructorReturn(this,(PostMeta.__proto__||Object.getPrototypeOf(PostMeta)).apply(this,arguments))}
babelHelpers.createClass(PostMeta,[{key:'view',value:function view(){var post=this.props.post;var time=post.time();var permalink=this.getPermalink(post);var touch='ontouchstart' in document.documentElement;var selectPermalink=function selectPermalink(){var _this2=this;setTimeout(function(){return $(_this2).parent().find('.PostMeta-permalink').select()});m.redraw.strategy('none')};return m('div',{className:'Dropdown PostMeta'},m('a',{className:'Dropdown-toggle',onclick:selectPermalink,'data-toggle':'dropdown'},humanTime(time)),m('div',{className:'Dropdown-menu dropdown-menu'},m('span',{className:'PostMeta-number'},app.translator.trans('core.forum.post.number_tooltip',{number:post.number()})),' ',m('span',{className:'PostMeta-time'},fullTime(time)),' ',m('span',{className:'PostMeta-ip'},post.data.attributes.ipAddress),touch?m('a',{className:'Button PostMeta-permalink',href:permalink},permalink):m('input',{className:'FormControl PostMeta-permalink',value:permalink,onclick:function onclick(e){return e.stopPropagation()}})))}},{key:'getPermalink',value:function getPermalink(post){return window.location.origin+app.route.post(post)}}]);return PostMeta}(Component);_export('default',PostMeta)}}});'use strict';System.register('flarum/components/PostPreview',['flarum/Component','flarum/helpers/avatar','flarum/helpers/username','flarum/helpers/highlight'],function(_export,_context){"use strict";var Component,avatar,username,highlight,PostPreview;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default}],execute:function(){PostPreview=function(_Component){babelHelpers.inherits(PostPreview,_Component);function PostPreview(){babelHelpers.classCallCheck(this,PostPreview);return babelHelpers.possibleConstructorReturn(this,(PostPreview.__proto__||Object.getPrototypeOf(PostPreview)).apply(this,arguments))}
babelHelpers.createClass(PostPreview,[{key:'view',value:function view(){var post=this.props.post;var user=post.user();var excerpt=highlight(post.contentPlain(),this.props.highlight,300);return m('a',{className:'PostPreview',href:app.route.post(post),config:m.route,onclick:this.props.onclick},m('span',{className:'PostPreview-content'},avatar(user),username(user),' ',m('span',{className:'PostPreview-excerpt'},excerpt)))}}]);return PostPreview}(Component);_export('default',PostPreview)}}});'use strict';System.register('flarum/components/PostStream',['flarum/Component','flarum/utils/ScrollListener','flarum/components/LoadingPost','flarum/utils/anchorScroll','flarum/utils/mixin','flarum/utils/evented','flarum/components/ReplyPlaceholder','flarum/components/Button'],function(_export,_context){"use strict";var Component,ScrollListener,PostLoading,anchorScroll,mixin,evented,ReplyPlaceholder,Button,PostStream;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsScrollListener){ScrollListener=_flarumUtilsScrollListener.default},function(_flarumComponentsLoadingPost){PostLoading=_flarumComponentsLoadingPost.default},function(_flarumUtilsAnchorScroll){anchorScroll=_flarumUtilsAnchorScroll.default},function(_flarumUtilsMixin){mixin=_flarumUtilsMixin.default},function(_flarumUtilsEvented){evented=_flarumUtilsEvented.default},function(_flarumComponentsReplyPlaceholder){ReplyPlaceholder=_flarumComponentsReplyPlaceholder.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){PostStream=function(_Component){babelHelpers.inherits(PostStream,_Component);function PostStream(){babelHelpers.classCallCheck(this,PostStream);return babelHelpers.possibleConstructorReturn(this,(PostStream.__proto__||Object.getPrototypeOf(PostStream)).apply(this,arguments))}
babelHelpers.createClass(PostStream,[{key:'init',value:function init(){this.discussion=this.props.discussion;this.paused=!1;this.scrollListener=new ScrollListener(this.onscroll.bind(this));this.loadPageTimeouts={};this.pagesLoading=0;this.show(this.props.includedPosts)}},{key:'goToNumber',value:function goToNumber(number,noAnimation){var _this2=this;if(number==='reply'){return this.goToLast().then(function(){$('html,body').stop(!0).animate({scrollTop:$(document).height()-$(window).height()},'fast',function(){_this2.flashItem(_this2.$('.PostStream-item:last-child'))})})}
this.paused=!0;var promise=this.loadNearNumber(number);m.redraw(!0);return promise.then(function(){m.redraw(!0);_this2.scrollToNumber(number,noAnimation).done(_this2.unpause.bind(_this2))})}},{key:'goToIndex',value:function goToIndex(index,backwards,noAnimation){var _this3=this;this.paused=!0;var promise=this.loadNearIndex(index);m.redraw(!0);return promise.then(function(){anchorScroll(_this3.$('.PostStream-item:'+(backwards?'last':'first')),function(){return m.redraw(!0)});_this3.scrollToIndex(index,noAnimation,backwards).done(_this3.unpause.bind(_this3))})}},{key:'goToFirst',value:function goToFirst(){return this.goToIndex(0)}},{key:'goToLast',value:function goToLast(){return this.goToIndex(this.count()-1,!0)}},{key:'update',value:function update(){if(!this.viewingEnd)return;this.visibleEnd=this.count();this.loadRange(this.visibleStart,this.visibleEnd).then(function(){return m.redraw()})}},{key:'count',value:function count(){return this.discussion.postIds().length}},{key:'sanitizeIndex',value:function sanitizeIndex(index){return Math.max(0,Math.min(this.count(),index))}},{key:'show',value:function show(posts){this.visibleStart=posts.length?this.discussion.postIds().indexOf(posts[0].id()):0;this.visibleEnd=this.visibleStart+posts.length}},{key:'reset',value:function reset(start,end){this.visibleStart=start||0;this.visibleEnd=this.sanitizeIndex(end||this.constructor.loadCount)}},{key:'posts',value:function posts(){return this.discussion.postIds().slice(this.visibleStart,this.visibleEnd).map(function(id){var post=app.store.getById('posts',id);return post&&post.discussion()&&typeof post.canEdit()!=='undefined'?post:null})}},{key:'view',value:function view(){var _this4=this;function fadeIn(element,isInitialized,context){if(!context.fadedIn)$(element).hide().fadeIn();context.fadedIn=!0}
var lastTime=void 0;this.visibleEnd=this.sanitizeIndex(this.visibleEnd);this.viewingEnd=this.visibleEnd===this.count();var posts=this.posts();var postIds=this.discussion.postIds();var items=posts.map(function(post,i){var content=void 0;var attrs={'data-index':_this4.visibleStart+i};if(post){var time=post.time();var PostComponent=app.postComponents[post.contentType()];content=PostComponent?PostComponent.component({post:post}):'';attrs.key='post'+post.id();attrs.config=fadeIn;attrs['data-time']=time.toISOString();attrs['data-number']=post.number();attrs['data-id']=post.id();attrs['data-type']=post.contentType();var dt=time-lastTime;if(dt>1000*60*60*24*4){content=[m('div',{className:'PostStream-timeGap'},m('span',null,app.translator.trans('core.forum.post_stream.time_lapsed_text',{period:moment.duration(dt).humanize()}))),content]}
lastTime=time}else{attrs.key='post'+postIds[_this4.visibleStart+i];content=PostLoading.component()}
return m('div',babelHelpers.extends({className:'PostStream-item'},attrs),content)});if(!this.viewingEnd&&posts[this.visibleEnd-this.visibleStart-1]){items.push(m('div',{className:'PostStream-loadMore',key:'loadMore'},m(Button,{className:'Button',onclick:this.loadNext.bind(this)},app.translator.trans('core.forum.post_stream.load_more_button'))))}
if(this.viewingEnd&&(!app.session.user||this.discussion.canReply())){items.push(m('div',{className:'PostStream-item',key:'reply'},ReplyPlaceholder.component({discussion:this.discussion})))}
return m('div',{className:'PostStream'},items)}},{key:'config',value:function config(isInitialized,context){var _this5=this;if(isInitialized)return;setTimeout(function(){return _this5.scrollListener.start()});context.onunload=function(){_this5.scrollListener.stop();clearTimeout(_this5.calculatePositionTimeout)}}},{key:'onscroll',value:function onscroll(top){if(this.paused)return;var marginTop=this.getMarginTop();var viewportHeight=$(window).height()-marginTop;var viewportTop=top+marginTop;var loadAheadDistance=300;if(this.visibleStart>0){var $item=this.$('.PostStream-item[data-index='+this.visibleStart+']');if($item.length&&$item.offset().top>viewportTop-loadAheadDistance){this.loadPrevious()}}
if(this.visibleEnd<this.count()){var _$item=this.$('.PostStream-item[data-index='+(this.visibleEnd-1)+']');if(_$item.length&&_$item.offset().top+_$item.outerHeight(!0)<viewportTop+viewportHeight+loadAheadDistance){this.loadNext()}}
clearTimeout(this.calculatePositionTimeout);this.calculatePositionTimeout=setTimeout(this.calculatePosition.bind(this),100)}},{key:'loadNext',value:function loadNext(){var start=this.visibleEnd;var end=this.visibleEnd=this.sanitizeIndex(this.visibleEnd+this.constructor.loadCount);var twoPagesAway=start-this.constructor.loadCount*2;if(twoPagesAway>this.visibleStart&&twoPagesAway>=0){this.visibleStart=twoPagesAway+this.constructor.loadCount+1;if(this.loadPageTimeouts[twoPagesAway]){clearTimeout(this.loadPageTimeouts[twoPagesAway]);this.loadPageTimeouts[twoPagesAway]=null;this.pagesLoading--}}
this.loadPage(start,end)}},{key:'loadPrevious',value:function loadPrevious(){var end=this.visibleStart;var start=this.visibleStart=this.sanitizeIndex(this.visibleStart-this.constructor.loadCount);var twoPagesAway=start+this.constructor.loadCount*2;if(twoPagesAway<this.visibleEnd&&twoPagesAway<=this.count()){this.visibleEnd=twoPagesAway;if(this.loadPageTimeouts[twoPagesAway]){clearTimeout(this.loadPageTimeouts[twoPagesAway]);this.loadPageTimeouts[twoPagesAway]=null;this.pagesLoading--}}
this.loadPage(start,end,!0)}},{key:'loadPage',value:function loadPage(start,end,backwards){var _this6=this;var redraw=function redraw(){if(start<_this6.visibleStart||end>_this6.visibleEnd)return;var anchorIndex=backwards?_this6.visibleEnd-1:_this6.visibleStart;anchorScroll('.PostStream-item[data-index="'+anchorIndex+'"]',function(){return m.redraw(!0)});_this6.unpause()};redraw();this.loadPageTimeouts[start]=setTimeout(function(){_this6.loadRange(start,end).then(function(){redraw();_this6.pagesLoading--});_this6.loadPageTimeouts[start]=null},this.pagesLoading?1000:0);this.pagesLoading++}},{key:'loadRange',value:function loadRange(start,end){var loadIds=[];var loaded=[];this.discussion.postIds().slice(start,end).forEach(function(id){var post=app.store.getById('posts',id);if(post&&post.discussion()&&typeof post.canEdit()!=='undefined'){loaded.push(post)}else{loadIds.push(id)}});return loadIds.length?app.store.find('posts',loadIds):m.deferred().resolve(loaded).promise}},{key:'loadNearNumber',value:function loadNearNumber(number){if(this.posts().some(function(post){return post&&Number(post.number())===Number(number)})){return m.deferred().resolve().promise}
this.reset();return app.store.find('posts',{filter:{discussion:this.discussion.id()},page:{near:number}}).then(this.show.bind(this))}},{key:'loadNearIndex',value:function loadNearIndex(index){if(index>=this.visibleStart&&index<=this.visibleEnd){return m.deferred().resolve().promise}
var start=this.sanitizeIndex(index-this.constructor.loadCount/2);var end=start+this.constructor.loadCount;this.reset(start,end);return this.loadRange(start,end).then(this.show.bind(this))}},{key:'calculatePosition',value:function calculatePosition(){var marginTop=this.getMarginTop();var $window=$(window);var viewportHeight=$window.height()-marginTop;var scrollTop=$window.scrollTop()+marginTop;var startNumber=void 0;var endNumber=void 0;this.$('.PostStream-item').each(function(){var $item=$(this);var top=$item.offset().top;var height=$item.outerHeight(!0);if(top+height>scrollTop){if(!startNumber){startNumber=endNumber=$item.data('number')}
if(top+height<scrollTop+viewportHeight){if($item.data('number')){endNumber=$item.data('number')}}else return!1}});if(startNumber){this.trigger('positionChanged',startNumber||1,endNumber)}}},{key:'getMarginTop',value:function getMarginTop(){return this.$()&&$('#header').outerHeight()+parseInt(this.$().css('margin-top'),10)}},{key:'scrollToNumber',value:function scrollToNumber(number,noAnimation){var $item=this.$('.PostStream-item[data-number='+number+']');return this.scrollToItem($item,noAnimation).done(this.flashItem.bind(this,$item))}},{key:'scrollToIndex',value:function scrollToIndex(index,noAnimation,bottom){var $item=this.$('.PostStream-item[data-index='+index+']');return this.scrollToItem($item,noAnimation,!0,bottom)}},{key:'scrollToItem',value:function scrollToItem($item,noAnimation,force,bottom){var $container=$('html, body').stop(!0);if($item.length){var itemTop=$item.offset().top-this.getMarginTop();var itemBottom=$item.offset().top+$item.height();var scrollTop=$(document).scrollTop();var scrollBottom=scrollTop+$(window).height();if(force||itemTop<scrollTop||itemBottom>scrollBottom){var top=bottom?itemBottom-$(window).height()+app.composer.computedHeight():$item.is(':first-child')?0:itemTop;if(noAnimation){$container.scrollTop(top)}else if(top!==scrollTop){$container.animate({scrollTop:top},'fast')}}}
return $container.promise()}},{key:'flashItem',value:function flashItem($item){$item.addClass('flash').one('animationend webkitAnimationEnd',function(){return $item.removeClass('flash')})}},{key:'unpause',value:function unpause(){this.paused=!1;this.scrollListener.update(!0);this.trigger('unpaused')}}]);return PostStream}(Component);PostStream.loadCount=20;babelHelpers.extends(PostStream.prototype,evented);_export('default',PostStream)}}});'use strict';System.register('flarum/components/PostStreamScrubber',['flarum/Component','flarum/helpers/icon','flarum/utils/ScrollListener','flarum/utils/SubtreeRetainer','flarum/utils/computed','flarum/utils/formatNumber'],function(_export,_context){"use strict";var Component,icon,ScrollListener,SubtreeRetainer,computed,formatNumber,PostStreamScrubber;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsScrollListener){ScrollListener=_flarumUtilsScrollListener.default},function(_flarumUtilsSubtreeRetainer){SubtreeRetainer=_flarumUtilsSubtreeRetainer.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default},function(_flarumUtilsFormatNumber){formatNumber=_flarumUtilsFormatNumber.default}],execute:function(){PostStreamScrubber=function(_Component){babelHelpers.inherits(PostStreamScrubber,_Component);function PostStreamScrubber(){babelHelpers.classCallCheck(this,PostStreamScrubber);return babelHelpers.possibleConstructorReturn(this,(PostStreamScrubber.__proto__||Object.getPrototypeOf(PostStreamScrubber)).apply(this,arguments))}
babelHelpers.createClass(PostStreamScrubber,[{key:'init',value:function init(){this.handlers={};this.index=0;this.visible=1;this.description='';this.props.stream.on('unpaused',this.handlers.streamWasUnpaused=this.streamWasUnpaused.bind(this));this.scrollListener=new ScrollListener(this.onscroll.bind(this));this.subtree=new SubtreeRetainer(function(){return!0})}},{key:'view',value:function view(){var retain=this.subtree.retain();var count=this.count();var unreadCount=this.props.stream.discussion.unreadCount();var unreadPercent=count?Math.min(count-this.index,unreadCount)/count:0;var viewing=app.translator.transChoice('core.forum.post_scrubber.viewing_text',count,{index:m('span',{className:'Scrubber-index'},retain||formatNumber(Math.min(Math.ceil(this.index+this.visible),count))),count:m('span',{className:'Scrubber-count'},formatNumber(count))});function styleUnread(element,isInitialized,context){var $element=$(element);var newStyle={top:100-unreadPercent*100+'%',height:unreadPercent*100+'%'};if(context.oldStyle){$element.stop(!0).css(context.oldStyle).animate(newStyle)}else{$element.css(newStyle)}
context.oldStyle=newStyle}
return m('div',{className:'PostStreamScrubber Dropdown '+(this.disabled()?'disabled ':'')+(this.props.className||'')},m('button',{className:'Button Dropdown-toggle','data-toggle':'dropdown'},viewing,' ',icon('sort')),m('div',{className:'Dropdown-menu dropdown-menu'},m('div',{className:'Scrubber'},m('a',{className:'Scrubber-first',onclick:this.goToFirst.bind(this)},icon('angle-double-up'),' ',app.translator.trans('core.forum.post_scrubber.original_post_link')),m('div',{className:'Scrubber-scrollbar'},m('div',{className:'Scrubber-before'}),m('div',{className:'Scrubber-handle'},m('div',{className:'Scrubber-bar'}),m('div',{className:'Scrubber-info'},m('strong',null,viewing),m('span',{'class':'Scrubber-description'},retain||this.description))),m('div',{className:'Scrubber-after'}),m('div',{className:'Scrubber-unread',config:styleUnread},app.translator.trans('core.forum.post_scrubber.unread_text',{count:unreadCount}))),m('a',{className:'Scrubber-last',onclick:this.goToLast.bind(this)},icon('angle-double-down'),' ',app.translator.trans('core.forum.post_scrubber.now_link')))))}},{key:'goToFirst',value:function goToFirst(){this.props.stream.goToFirst();this.index=0;this.renderScrollbar(!0)}},{key:'goToLast',value:function goToLast(){this.props.stream.goToLast();this.index=this.props.stream.count();this.renderScrollbar(!0)}},{key:'count',value:function count(){return this.props.stream.count()}},{key:'streamWasUnpaused',value:function streamWasUnpaused(){this.update(window.pageYOffset);this.renderScrollbar(!0)}},{key:'disabled',value:function disabled(){return this.visible>=this.count()}},{key:'onscroll',value:function onscroll(top){var stream=this.props.stream;if(stream.paused||!stream.$())return;this.update(top);this.renderScrollbar()}},{key:'update',value:function update(scrollTop){var stream=this.props.stream;var marginTop=stream.getMarginTop();var viewportTop=scrollTop+marginTop;var viewportHeight=$(window).height()-marginTop;var viewportBottom=viewportTop+viewportHeight;var $items=stream.$('> .PostStream-item[data-index]');var index=$items.first().data('index')||0;var visible=0;var period='';$items.each(function(){var $this=$(this);var top=$this.offset().top;var height=$this.outerHeight(!0);if(top+height<viewportTop){return!0}
if(top>viewportTop+viewportHeight){return!1}
var visibleTop=Math.max(0,viewportTop-top);var visibleBottom=Math.min(height,viewportTop+viewportHeight-top);var visiblePost=visibleBottom-visibleTop;if(top<=viewportTop){index=parseFloat($this.data('index'))+visibleTop/height}
if(visiblePost>0){visible+=visiblePost/height}
var time=$this.data('time');if(time)period=time});this.index=index;this.visible=visible;this.description=period?moment(period).format('MMMM YYYY'):''}},{key:'config',value:function config(isInitialized,context){if(isInitialized)return;context.onunload=this.ondestroy.bind(this);this.scrollListener.start();$(window).on('resize',this.handlers.onresize=this.onresize.bind(this)).resize();this.$('.Scrubber-scrollbar').bind('click',this.onclick.bind(this)).css({cursor:'pointer','user-select':'none'}).bind('dragstart mousedown touchstart',function(e){return e.preventDefault()});this.dragging=!1;this.mouseStart=0;this.indexStart=0;this.$('.Scrubber-handle').css('cursor','move').bind('mousedown touchstart',this.onmousedown.bind(this)).click(function(e){return e.stopPropagation()});$(document).on('mousemove touchmove',this.handlers.onmousemove=this.onmousemove.bind(this)).on('mouseup touchend',this.handlers.onmouseup=this.onmouseup.bind(this))}},{key:'ondestroy',value:function ondestroy(){this.scrollListener.stop();this.props.stream.off('unpaused',this.handlers.streamWasUnpaused);$(window).off('resize',this.handlers.onresize);$(document).off('mousemove touchmove',this.handlers.onmousemove).off('mouseup touchend',this.handlers.onmouseup)}},{key:'renderScrollbar',value:function renderScrollbar(animate){var percentPerPost=this.percentPerPost();var index=this.index;var count=this.count();var visible=this.visible||1;var $scrubber=this.$();$scrubber.find('.Scrubber-index').text(formatNumber(Math.ceil(index+visible)));$scrubber.find('.Scrubber-description').text(this.description);$scrubber.toggleClass('disabled',this.disabled());var heights={};heights.before=Math.max(0,percentPerPost.index*Math.min(index,count-visible));heights.handle=Math.min(100-heights.before,percentPerPost.visible*visible);heights.after=100-heights.before-heights.handle;var func=animate?'animate':'css';for(var part in heights){var $part=$scrubber.find('.Scrubber-'+part);$part.stop(!0,!0)[func]({height:heights[part]+'%'},'fast');if(func==='animate')$part.css('overflow','visible')}}},{key:'percentPerPost',value:function percentPerPost(){var count=this.count()||1;var visible=this.visible||1;var minPercentVisible=50/this.$('.Scrubber-scrollbar').outerHeight()*100;var percentPerVisiblePost=Math.max(100/count,minPercentVisible/visible);var percentPerPost=count===visible?0:(100-percentPerVisiblePost*visible)/(count-visible);return{index:percentPerPost,visible:percentPerVisiblePost}}},{key:'onresize',value:function onresize(){this.scrollListener.update(!0);var scrubber=this.$();var scrollbar=this.$('.Scrubber-scrollbar');scrollbar.css('max-height',$(window).height()-scrubber.offset().top+$(window).scrollTop()-parseInt($('#app').css('padding-bottom'),10)-(scrubber.outerHeight()-scrollbar.outerHeight()))}},{key:'onmousedown',value:function onmousedown(e){this.mouseStart=e.clientY||e.originalEvent.touches[0].clientY;this.indexStart=this.index;this.dragging=!0;this.props.stream.paused=!0;$('body').css('cursor','move')}},{key:'onmousemove',value:function onmousemove(e){if(!this.dragging)return;var deltaPixels=(e.clientY||e.originalEvent.touches[0].clientY)-this.mouseStart;var deltaPercent=deltaPixels/this.$('.Scrubber-scrollbar').outerHeight()*100;var deltaIndex=deltaPercent/this.percentPerPost().index||0;var newIndex=Math.min(this.indexStart+deltaIndex,this.count()-1);this.index=Math.max(0,newIndex);this.renderScrollbar()}},{key:'onmouseup',value:function onmouseup(){if(!this.dragging)return;this.mouseStart=0;this.indexStart=0;this.dragging=!1;$('body').css('cursor','');this.$().removeClass('open');var intIndex=Math.floor(this.index);this.props.stream.goToIndex(intIndex);this.renderScrollbar(!0)}},{key:'onclick',value:function onclick(e){var $scrollbar=this.$('.Scrubber-scrollbar');var offsetPixels=(e.clientY||e.originalEvent.touches[0].clientY)-$scrollbar.offset().top+$('body').scrollTop();var offsetPercent=offsetPixels/$scrollbar.outerHeight()*100;offsetPercent=offsetPercent-parseFloat($scrollbar.find('.Scrubber-handle')[0].style.height)/2;var offsetIndex=offsetPercent/this.percentPerPost().index;offsetIndex=Math.max(0,Math.min(this.count()-1,offsetIndex));this.props.stream.goToIndex(Math.floor(offsetIndex));this.index=offsetIndex;this.renderScrollbar(!0);this.$().removeClass('open')}}]);return PostStreamScrubber}(Component);_export('default',PostStreamScrubber)}}});'use strict';System.register('flarum/components/PostsUserPage',['flarum/components/UserPage','flarum/components/LoadingIndicator','flarum/components/Button','flarum/components/CommentPost'],function(_export,_context){"use strict";var UserPage,LoadingIndicator,Button,CommentPost,PostsUserPage;return{setters:[function(_flarumComponentsUserPage){UserPage=_flarumComponentsUserPage.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default}],execute:function(){PostsUserPage=function(_UserPage){babelHelpers.inherits(PostsUserPage,_UserPage);function PostsUserPage(){babelHelpers.classCallCheck(this,PostsUserPage);return babelHelpers.possibleConstructorReturn(this,(PostsUserPage.__proto__||Object.getPrototypeOf(PostsUserPage)).apply(this,arguments))}
babelHelpers.createClass(PostsUserPage,[{key:'init',value:function init(){babelHelpers.get(PostsUserPage.prototype.__proto__||Object.getPrototypeOf(PostsUserPage.prototype),'init',this).call(this);this.loading=!0;this.moreResults=!1;this.posts=[];this.loadLimit=20;this.loadUser(m.route.param('username'))}},{key:'content',value:function content(){var footer=void 0;if(this.loading){footer=LoadingIndicator.component()}else if(this.moreResults){footer=m('div',{className:'PostsUserPage-loadMore'},Button.component({children:app.translator.trans('core.forum.user.posts_load_more_button'),className:'Button',onclick:this.loadMore.bind(this)}))}
return m('div',{className:'PostsUserPage'},m('ul',{className:'PostsUserPage-list'},this.posts.map(function(post){return m('li',null,m('div',{className:'PostsUserPage-discussion'},app.translator.trans('core.forum.user.in_discussion_text',{discussion:m('a',{href:app.route.post(post),config:m.route},post.discussion().title())})),CommentPost.component({post:post}))})),footer)}},{key:'show',value:function show(user){babelHelpers.get(PostsUserPage.prototype.__proto__||Object.getPrototypeOf(PostsUserPage.prototype),'show',this).call(this,user);this.refresh()}},{key:'refresh',value:function refresh(){this.loading=!0;this.posts=[];m.lazyRedraw();this.loadResults().then(this.parseResults.bind(this))}},{key:'loadResults',value:function loadResults(offset){return app.store.find('posts',{filter:{user:this.user.id(),type:'comment'},page:{offset:offset,limit:this.loadLimit},sort:'-time'})}},{key:'loadMore',value:function loadMore(){this.loading=!0;this.loadResults(this.posts.length).then(this.parseResults.bind(this))}},{key:'parseResults',value:function parseResults(results){this.loading=!1;[].push.apply(this.posts,results);this.moreResults=results.length>=this.loadLimit;m.redraw();return results}}]);return PostsUserPage}(UserPage);_export('default',PostsUserPage)}}});'use strict';System.register('flarum/components/PostUser',['flarum/Component','flarum/components/UserCard','flarum/helpers/avatar','flarum/helpers/username','flarum/helpers/userOnline','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,UserCard,avatar,username,userOnline,listItems,PostUser;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsUserCard){UserCard=_flarumComponentsUserCard.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersUserOnline){userOnline=_flarumHelpersUserOnline.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){PostUser=function(_Component){babelHelpers.inherits(PostUser,_Component);function PostUser(){babelHelpers.classCallCheck(this,PostUser);return babelHelpers.possibleConstructorReturn(this,(PostUser.__proto__||Object.getPrototypeOf(PostUser)).apply(this,arguments))}
babelHelpers.createClass(PostUser,[{key:'init',value:function init(){this.cardVisible=!1}},{key:'view',value:function view(){var post=this.props.post;var user=post.user();if(!user){return m('div',{className:'PostUser'},m('h3',null,avatar(user,{className:'PostUser-avatar'}),' ',username(user)))}
var card='';if(!post.isHidden()&&this.cardVisible){card=UserCard.component({user:user,className:'UserCard--popover',controlsButtonClassName:'Button Button--icon Button--flat'})}
return m('div',{className:'PostUser'},userOnline(user),m('h3',null,m('a',{href:app.route.user(user),config:m.route},avatar(user,{className:'PostUser-avatar'}),' ',username(user))),m('ul',{className:'PostUser-badges badges'},listItems(user.badges().toArray())),card)}},{key:'config',value:function config(isInitialized){var _this2=this;if(isInitialized)return;var timeout=void 0;this.$().on('mouseover','h3 a, .UserCard',function(){clearTimeout(timeout);timeout=setTimeout(_this2.showCard.bind(_this2),500)}).on('mouseout','h3 a, .UserCard',function(){clearTimeout(timeout);timeout=setTimeout(_this2.hideCard.bind(_this2),250)})}},{key:'showCard',value:function showCard(){var _this3=this;this.cardVisible=!0;m.redraw();setTimeout(function(){return _this3.$('.UserCard').addClass('in')})}},{key:'hideCard',value:function hideCard(){var _this4=this;this.$('.UserCard').removeClass('in').one('transitionend webkitTransitionEnd oTransitionEnd',function(){_this4.cardVisible=!1;m.redraw()})}}]);return PostUser}(Component);_export('default',PostUser)}}});'use strict';System.register('flarum/components/RenameDiscussionModal',['flarum/components/Modal','flarum/components/Button'],function(_export,_context){"use strict";var Modal,Button,RenameDiscussionModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){RenameDiscussionModal=function(_Modal){babelHelpers.inherits(RenameDiscussionModal,_Modal);function RenameDiscussionModal(){babelHelpers.classCallCheck(this,RenameDiscussionModal);return babelHelpers.possibleConstructorReturn(this,(RenameDiscussionModal.__proto__||Object.getPrototypeOf(RenameDiscussionModal)).apply(this,arguments))}
babelHelpers.createClass(RenameDiscussionModal,[{key:'init',value:function init(){babelHelpers.get(RenameDiscussionModal.prototype.__proto__||Object.getPrototypeOf(RenameDiscussionModal.prototype),'init',this).call(this);this.discussion=this.props.discussion;this.currentTitle=this.props.currentTitle;this.newTitle=m.prop(this.currentTitle)}},{key:'className',value:function className(){return'RenameDiscussionModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('core.forum.rename_discussion.title')}},{key:'content',value:function content(){return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('div',{className:'Form-group'},m('input',{className:'FormControl',bidi:this.newTitle,type:'text'})),m('div',{className:'Form-group'},Button.component({className:'Button Button--primary Button--block',type:'submit',loading:this.loading,children:app.translator.trans('core.forum.rename_discussion.submit_button')}))))}},{key:'onsubmit',value:function onsubmit(e){var _this2=this;e.preventDefault();this.loading=!0;var title=this.newTitle;var currentTitle=this.currentTitle;if(title&&title!==currentTitle){return this.discussion.save({title:title}).then(function(){if(app.viewingDiscussion(_this2.discussion)){app.current.stream.update()}
m.redraw();_this2.hide()}).catch(function(){_this2.loading=!1;m.redraw()})}else{this.hide()}}}]);return RenameDiscussionModal}(Modal);_export('default',RenameDiscussionModal)}}});'use strict';System.register('flarum/components/ReplyComposer',['flarum/components/ComposerBody','flarum/components/Alert','flarum/components/Button','flarum/helpers/icon','flarum/utils/extractText'],function(_export,_context){"use strict";var ComposerBody,Alert,Button,icon,extractText,ReplyComposer;function minimizeComposerIfFullScreen(e){if(app.composer.isFullScreen()){app.composer.minimize();e.stopPropagation()}}
return{setters:[function(_flarumComponentsComposerBody){ComposerBody=_flarumComponentsComposerBody.default},function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){ReplyComposer=function(_ComposerBody){babelHelpers.inherits(ReplyComposer,_ComposerBody);function ReplyComposer(){babelHelpers.classCallCheck(this,ReplyComposer);return babelHelpers.possibleConstructorReturn(this,(ReplyComposer.__proto__||Object.getPrototypeOf(ReplyComposer)).apply(this,arguments))}
babelHelpers.createClass(ReplyComposer,[{key:'init',value:function init(){var _this2=this;babelHelpers.get(ReplyComposer.prototype.__proto__||Object.getPrototypeOf(ReplyComposer.prototype),'init',this).call(this);this.editor.props.preview=function(e){minimizeComposerIfFullScreen(e);m.route(app.route.discussion(_this2.props.discussion,'reply'))}}},{key:'headerItems',value:function headerItems(){var items=babelHelpers.get(ReplyComposer.prototype.__proto__||Object.getPrototypeOf(ReplyComposer.prototype),'headerItems',this).call(this);var discussion=this.props.discussion;var routeAndMinimize=function routeAndMinimize(element,isInitialized){if(isInitialized)return;$(element).on('click',minimizeComposerIfFullScreen);m.route.apply(this,arguments)};items.add('title',m('h3',null,icon('reply'),' ',' ',m('a',{href:app.route.discussion(discussion),config:routeAndMinimize},discussion.title())));return items}},{key:'data',value:function data(){return{content:this.content(),relationships:{discussion:this.props.discussion}}}},{key:'onsubmit',value:function onsubmit(){var discussion=this.props.discussion;this.loading=!0;m.redraw();var data=this.data();app.store.createRecord('posts').save(data).then(function(post){if(app.viewingDiscussion(discussion)){app.current.stream.update()}else{var alert=void 0;var viewButton=Button.component({className:'Button Button--link',children:app.translator.trans('core.forum.composer_reply.view_button'),onclick:function onclick(){m.route(app.route.post(post));app.alerts.dismiss(alert)}});app.alerts.show(alert=new Alert({type:'success',message:app.translator.trans('core.forum.composer_reply.posted_message'),controls:[viewButton]}))}
app.composer.hide()},this.loaded.bind(this))}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(ReplyComposer.__proto__||Object.getPrototypeOf(ReplyComposer),'initProps',this).call(this,props);props.placeholder=props.placeholder||extractText(app.translator.trans('core.forum.composer_reply.body_placeholder'));props.submitLabel=props.submitLabel||app.translator.trans('core.forum.composer_reply.submit_button');props.confirmExit=props.confirmExit||extractText(app.translator.trans('core.forum.composer_reply.discard_confirmation'))}}]);return ReplyComposer}(ComposerBody);_export('default',ReplyComposer)}}});'use strict';System.register('flarum/components/ReplyPlaceholder',['flarum/Component','flarum/helpers/avatar','flarum/helpers/username','flarum/utils/DiscussionControls'],function(_export,_context){"use strict";var Component,avatar,username,DiscussionControls,ReplyPlaceholder;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default}],execute:function(){ReplyPlaceholder=function(_Component){babelHelpers.inherits(ReplyPlaceholder,_Component);function ReplyPlaceholder(){babelHelpers.classCallCheck(this,ReplyPlaceholder);return babelHelpers.possibleConstructorReturn(this,(ReplyPlaceholder.__proto__||Object.getPrototypeOf(ReplyPlaceholder)).apply(this,arguments))}
babelHelpers.createClass(ReplyPlaceholder,[{key:'view',value:function view(){var _this2=this;if(app.composingReplyTo(this.props.discussion)){return m('article',{className:'Post CommentPost editing'},m('header',{className:'Post-header'},m('div',{className:'PostUser'},m('h3',null,avatar(app.session.user,{className:'PostUser-avatar'}),username(app.session.user)))),m('div',{className:'Post-body',config:this.configPreview.bind(this)}))}
var reply=function reply(){DiscussionControls.replyAction.call(_this2.props.discussion,!0)};return m('article',{className:'Post ReplyPlaceholder',onclick:reply},m('header',{className:'Post-header'},avatar(app.session.user,{className:'PostUser-avatar'}),' ',app.translator.trans('core.forum.post_stream.reply_placeholder')))}},{key:'configPreview',value:function configPreview(element,isInitialized,context){if(isInitialized)return;var preview=void 0;var updateInterval=setInterval(function(){var content=app.composer.component.content();if(preview===content)return;preview=content;var anchorToBottom=$(window).scrollTop()+$(window).height()>=$(document).height();s9e.TextFormatter.preview(preview||'',element);if(anchorToBottom){$(window).scrollTop($(document).height())}},50);context.onunload=function(){return clearInterval(updateInterval)}}}]);return ReplyPlaceholder}(Component);_export('default',ReplyPlaceholder)}}});'use strict';System.register('flarum/components/RequestErrorModal',['flarum/components/Modal'],function(_export,_context){"use strict";var Modal,RequestErrorModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default}],execute:function(){RequestErrorModal=function(_Modal){babelHelpers.inherits(RequestErrorModal,_Modal);function RequestErrorModal(){babelHelpers.classCallCheck(this,RequestErrorModal);return babelHelpers.possibleConstructorReturn(this,(RequestErrorModal.__proto__||Object.getPrototypeOf(RequestErrorModal)).apply(this,arguments))}
babelHelpers.createClass(RequestErrorModal,[{key:'className',value:function className(){return'RequestErrorModal Modal--large'}},{key:'title',value:function title(){return this.props.error.xhr?this.props.error.xhr.status+' '+this.props.error.xhr.statusText:''}},{key:'content',value:function content(){var responseText=void 0;try{responseText=JSON.stringify(JSON.parse(this.props.error.responseText),null,2)}catch(e){responseText=this.props.error.responseText}
return m('div',{className:'Modal-body'},m('pre',null,this.props.error.options.method,' ',this.props.error.options.url,m('br',null),m('br',null),responseText))}}]);return RequestErrorModal}(Modal);_export('default',RequestErrorModal)}}});'use strict';System.register('flarum/components/Search',['flarum/Component','flarum/components/LoadingIndicator','flarum/utils/ItemList','flarum/utils/classList','flarum/utils/extractText','flarum/utils/KeyboardNavigatable','flarum/helpers/icon','flarum/components/DiscussionsSearchSource','flarum/components/UsersSearchSource'],function(_export,_context){"use strict";var Component,LoadingIndicator,ItemList,classList,extractText,KeyboardNavigatable,icon,DiscussionsSearchSource,UsersSearchSource,Search;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumUtilsKeyboardNavigatable){KeyboardNavigatable=_flarumUtilsKeyboardNavigatable.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumComponentsDiscussionsSearchSource){DiscussionsSearchSource=_flarumComponentsDiscussionsSearchSource.default},function(_flarumComponentsUsersSearchSource){UsersSearchSource=_flarumComponentsUsersSearchSource.default}],execute:function(){Search=function(_Component){babelHelpers.inherits(Search,_Component);function Search(){babelHelpers.classCallCheck(this,Search);return babelHelpers.possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).apply(this,arguments))}
babelHelpers.createClass(Search,[{key:'init',value:function init(){this.value=m.prop('');this.hasFocus=!1;this.sources=this.sourceItems().toArray();this.loadingSources=0;this.searched=[];this.index=0}},{key:'view',value:function view(){var _this2=this;var currentSearch=this.getCurrentSearch();if(typeof this.value()==='undefined'){this.value(currentSearch||'')}
return m('div',{className:'Search '+classList({open:this.value()&&this.hasFocus,focused:this.hasFocus,active:!!currentSearch,loading:!!this.loadingSources})},m('div',{className:'Search-input'},m('input',{className:'FormControl',type:'search',placeholder:extractText(app.translator.trans('core.forum.header.search_placeholder')),value:this.value(),oninput:m.withAttr('value',this.value),onfocus:function onfocus(){return _this2.hasFocus=!0},onblur:function onblur(){return _this2.hasFocus=!1}}),this.loadingSources?LoadingIndicator.component({size:'tiny',className:'Button Button--icon Button--link'}):currentSearch?m('button',{className:'Search-clear Button Button--icon Button--link',onclick:this.clear.bind(this)},icon('times-circle')):''),m('ul',{className:'Dropdown-menu Search-results'},this.value()&&this.hasFocus?this.sources.map(function(source){return source.view(_this2.value())}):''))}},{key:'config',value:function config(isInitialized){var _this3=this;this.setIndex(this.getCurrentNumericIndex());if(isInitialized)return;var search=this;this.$('.Search-results').on('mousedown',function(e){return e.preventDefault()}).on('click',function(){return _this3.$('input').blur()}).on('mouseenter','> li:not(.Dropdown-header)',function(){search.setIndex(search.selectableItems().index(this))});var $input=this.$('input');this.navigator=new KeyboardNavigatable();this.navigator.onUp(function(){return _this3.setIndex(_this3.getCurrentNumericIndex()-1,!0)}).onDown(function(){return _this3.setIndex(_this3.getCurrentNumericIndex()+1,!0)}).onSelect(this.selectResult.bind(this)).onCancel(this.clear.bind(this)).bindTo($input);$input.on('input focus',function(){var query=this.value.toLowerCase();if(!query)return;clearTimeout(search.searchTimeout);search.searchTimeout=setTimeout(function(){if(search.searched.indexOf(query)!==-1)return;if(query.length>=3){search.sources.map(function(source){if(!source.search)return;search.loadingSources++;source.search(query).then(function(){search.loadingSources--;m.redraw()})})}
search.searched.push(query);m.redraw()},250)}).on('focus',function(){$(this).one('mouseup',function(e){return e.preventDefault()}).select()})}},{key:'getCurrentSearch',value:function getCurrentSearch(){return app.current&&typeof app.current.searching==='function'&&app.current.searching()}},{key:'selectResult',value:function selectResult(){if(this.value()){m.route(this.getItem(this.index).find('a').attr('href'))}else{this.clear()}
this.$('input').blur()}},{key:'clear',value:function clear(){this.value('');if(this.getCurrentSearch()){app.current.clearSearch()}else{m.redraw()}}},{key:'sourceItems',value:function sourceItems(){var items=new ItemList();items.add('discussions',new DiscussionsSearchSource());items.add('users',new UsersSearchSource());return items}},{key:'selectableItems',value:function selectableItems(){return this.$('.Search-results > li:not(.Dropdown-header)')}},{key:'getCurrentNumericIndex',value:function getCurrentNumericIndex(){return this.selectableItems().index(this.getItem(this.index))}},{key:'getItem',value:function getItem(index){var $items=this.selectableItems();var $item=$items.filter('[data-index="'+index+'"]');if(!$item.length){$item=$items.eq(index)}
return $item}},{key:'setIndex',value:function setIndex(index,scrollToItem){var $items=this.selectableItems();var $dropdown=$items.parent();var fixedIndex=index;if(index<0){fixedIndex=$items.length-1}else if(index>=$items.length){fixedIndex=0}
var $item=$items.removeClass('active').eq(fixedIndex).addClass('active');this.index=$item.attr('data-index')||fixedIndex;if(scrollToItem){var dropdownScroll=$dropdown.scrollTop();var dropdownTop=$dropdown.offset().top;var dropdownBottom=dropdownTop+$dropdown.outerHeight();var itemTop=$item.offset().top;var itemBottom=itemTop+$item.outerHeight();var scrollTop=void 0;if(itemTop<dropdownTop){scrollTop=dropdownScroll-dropdownTop+itemTop-parseInt($dropdown.css('padding-top'),10)}else if(itemBottom>dropdownBottom){scrollTop=dropdownScroll-dropdownBottom+itemBottom+parseInt($dropdown.css('padding-bottom'),10)}
if(typeof scrollTop!=='undefined'){$dropdown.stop(!0).animate({scrollTop:scrollTop},100)}}}}]);return Search}(Component);_export('default',Search)}}});"use strict";System.register("flarum/components/SearchSource",[],function(_export,_context){"use strict";var SearchSource;return{setters:[],execute:function(){SearchSource=function(){function SearchSource(){babelHelpers.classCallCheck(this,SearchSource)}
babelHelpers.createClass(SearchSource,[{key:"search",value:function search(){}},{key:"view",value:function view(){}}]);return SearchSource}();_export("default",SearchSource)}}});'use strict';System.register('flarum/components/Select',['flarum/Component','flarum/helpers/icon'],function(_export,_context){"use strict";var Component,icon,Select;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){Select=function(_Component){babelHelpers.inherits(Select,_Component);function Select(){babelHelpers.classCallCheck(this,Select);return babelHelpers.possibleConstructorReturn(this,(Select.__proto__||Object.getPrototypeOf(Select)).apply(this,arguments))}
babelHelpers.createClass(Select,[{key:'view',value:function view(){var _props=this.props,options=_props.options,onchange=_props.onchange,value=_props.value;return m('span',{className:'Select'},m('select',{className:'Select-input FormControl',onchange:onchange?m.withAttr('value',onchange.bind(this)):undefined,value:value},Object.keys(options).map(function(key){return m('option',{value:key},options[key])})),icon('sort',{className:'Select-caret'}))}}]);return Select}(Component);_export('default',Select)}}});'use strict';System.register('flarum/components/SelectDropdown',['flarum/components/Dropdown','flarum/helpers/icon'],function(_export,_context){"use strict";var Dropdown,icon,SelectDropdown;return{setters:[function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){SelectDropdown=function(_Dropdown){babelHelpers.inherits(SelectDropdown,_Dropdown);function SelectDropdown(){babelHelpers.classCallCheck(this,SelectDropdown);return babelHelpers.possibleConstructorReturn(this,(SelectDropdown.__proto__||Object.getPrototypeOf(SelectDropdown)).apply(this,arguments))}
babelHelpers.createClass(SelectDropdown,[{key:'getButtonContent',value:function getButtonContent(){var activeChild=this.props.children.filter(function(child){return child.props.active})[0];var label=activeChild&&activeChild.props.children||this.props.defaultLabel;if(label instanceof Array)label=label[0];return[m('span',{className:'Button-label'},label),icon(this.props.caretIcon,{className:'Button-caret'})]}}],[{key:'initProps',value:function initProps(props){props.caretIcon=typeof props.caretIcon!=='undefined'?props.caretIcon:'sort';babelHelpers.get(SelectDropdown.__proto__||Object.getPrototypeOf(SelectDropdown),'initProps',this).call(this,props);props.className+=' Dropdown--select'}}]);return SelectDropdown}(Dropdown);_export('default',SelectDropdown)}}});"use strict";System.register("flarum/components/Separator",["flarum/Component"],function(_export,_context){"use strict";var Component,Separator;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){Separator=function(_Component){babelHelpers.inherits(Separator,_Component);function Separator(){babelHelpers.classCallCheck(this,Separator);return babelHelpers.possibleConstructorReturn(this,(Separator.__proto__||Object.getPrototypeOf(Separator)).apply(this,arguments))}
babelHelpers.createClass(Separator,[{key:"view",value:function view(){return m("li",{className:"Dropdown-separator"})}}]);return Separator}(Component);Separator.isListItem=!0;_export("default",Separator)}}});'use strict';System.register('flarum/components/SessionDropdown',['flarum/helpers/avatar','flarum/helpers/username','flarum/components/Dropdown','flarum/components/LinkButton','flarum/components/Button','flarum/utils/ItemList','flarum/components/Separator','flarum/models/Group'],function(_export,_context){"use strict";var avatar,username,Dropdown,LinkButton,Button,ItemList,Separator,Group,SessionDropdown;return{setters:[function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumModelsGroup){Group=_flarumModelsGroup.default}],execute:function(){SessionDropdown=function(_Dropdown){babelHelpers.inherits(SessionDropdown,_Dropdown);function SessionDropdown(){babelHelpers.classCallCheck(this,SessionDropdown);return babelHelpers.possibleConstructorReturn(this,(SessionDropdown.__proto__||Object.getPrototypeOf(SessionDropdown)).apply(this,arguments))}
babelHelpers.createClass(SessionDropdown,[{key:'view',value:function view(){this.props.children=this.items().toArray();return babelHelpers.get(SessionDropdown.prototype.__proto__||Object.getPrototypeOf(SessionDropdown.prototype),'view',this).call(this)}},{key:'getButtonContent',value:function getButtonContent(){var user=app.session.user;return[avatar(user),' ',m('span',{className:'Button-label'},username(user))]}},{key:'items',value:function items(){var items=new ItemList();var user=app.session.user;items.add('profile',LinkButton.component({icon:'user',children:app.translator.trans('core.forum.header.profile_button'),href:app.route.user(user)}),100);items.add('settings',LinkButton.component({icon:'cog',children:app.translator.trans('core.forum.header.settings_button'),href:app.route('settings')}),50);if(user.groups().some(function(group){return group.id()===Group.ADMINISTRATOR_ID})){items.add('administration',LinkButton.component({icon:'wrench',children:app.translator.trans('core.forum.header.admin_button'),href:app.forum.attribute('baseUrl')+'/admin',target:'_blank',config:function config(){}}),0)}
items.add('separator',Separator.component(),-90);items.add('logOut',Button.component({icon:'sign-out',children:app.translator.trans('core.forum.header.log_out_button'),onclick:app.session.logout.bind(app.session)}),-100);return items}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(SessionDropdown.__proto__||Object.getPrototypeOf(SessionDropdown),'initProps',this).call(this,props);props.className='SessionDropdown';props.buttonClassName='Button Button--user Button--flat';props.menuClassName='Dropdown-menu--right'}}]);return SessionDropdown}(Dropdown);_export('default',SessionDropdown)}}});'use strict';System.register('flarum/components/SettingsPage',['flarum/components/UserPage','flarum/utils/ItemList','flarum/components/Switch','flarum/components/Button','flarum/components/FieldSet','flarum/components/NotificationGrid','flarum/components/ChangePasswordModal','flarum/components/ChangeEmailModal','flarum/helpers/listItems'],function(_export,_context){"use strict";var UserPage,ItemList,Switch,Button,FieldSet,NotificationGrid,ChangePasswordModal,ChangeEmailModal,listItems,SettingsPage;return{setters:[function(_flarumComponentsUserPage){UserPage=_flarumComponentsUserPage.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsSwitch){Switch=_flarumComponentsSwitch.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsFieldSet){FieldSet=_flarumComponentsFieldSet.default},function(_flarumComponentsNotificationGrid){NotificationGrid=_flarumComponentsNotificationGrid.default},function(_flarumComponentsChangePasswordModal){ChangePasswordModal=_flarumComponentsChangePasswordModal.default},function(_flarumComponentsChangeEmailModal){ChangeEmailModal=_flarumComponentsChangeEmailModal.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){SettingsPage=function(_UserPage){babelHelpers.inherits(SettingsPage,_UserPage);function SettingsPage(){babelHelpers.classCallCheck(this,SettingsPage);return babelHelpers.possibleConstructorReturn(this,(SettingsPage.__proto__||Object.getPrototypeOf(SettingsPage)).apply(this,arguments))}
babelHelpers.createClass(SettingsPage,[{key:'init',value:function init(){babelHelpers.get(SettingsPage.prototype.__proto__||Object.getPrototypeOf(SettingsPage.prototype),'init',this).call(this);this.show(app.session.user);app.setTitle(app.translator.trans('core.forum.settings.title'))}},{key:'content',value:function content(){return m('div',{className:'SettingsPage'},m('ul',null,listItems(this.settingsItems().toArray())))}},{key:'settingsItems',value:function settingsItems(){var items=new ItemList();items.add('account',FieldSet.component({label:app.translator.trans('core.forum.settings.account_heading'),className:'Settings-account',children:this.accountItems().toArray()}));items.add('notifications',FieldSet.component({label:app.translator.trans('core.forum.settings.notifications_heading'),className:'Settings-notifications',children:this.notificationsItems().toArray()}));items.add('privacy',FieldSet.component({label:app.translator.trans('core.forum.settings.privacy_heading'),className:'Settings-privacy',children:this.privacyItems().toArray()}));return items}},{key:'accountItems',value:function accountItems(){var items=new ItemList();items.add('changePassword',Button.component({children:app.translator.trans('core.forum.settings.change_password_button'),className:'Button',onclick:function onclick(){return app.modal.show(new ChangePasswordModal())}}));items.add('changeEmail',Button.component({children:app.translator.trans('core.forum.settings.change_email_button'),className:'Button',onclick:function onclick(){return app.modal.show(new ChangeEmailModal())}}));return items}},{key:'notificationsItems',value:function notificationsItems(){var items=new ItemList();items.add('notificationGrid',NotificationGrid.component({user:this.user}));return items}},{key:'preferenceSaver',value:function preferenceSaver(key){var _this2=this;return function(value,component){if(component)component.loading=!0;m.redraw();_this2.user.savePreferences(babelHelpers.defineProperty({},key,value)).then(function(){if(component)component.loading=!1;m.redraw()})}}},{key:'privacyItems',value:function privacyItems(){var _this3=this;var items=new ItemList();items.add('discloseOnline',Switch.component({children:app.translator.trans('core.forum.settings.privacy_disclose_online_label'),state:this.user.preferences().discloseOnline,onchange:function onchange(value,component){_this3.user.pushAttributes({lastSeenTime:null});_this3.preferenceSaver('discloseOnline')(value,component)}}));return items}}]);return SettingsPage}(UserPage);_export('default',SettingsPage)}}});'use strict';System.register('flarum/components/SignUpModal',['flarum/components/Modal','flarum/components/LogInModal','flarum/helpers/avatar','flarum/components/Button','flarum/components/LogInButtons','flarum/utils/extractText'],function(_export,_context){"use strict";var Modal,LogInModal,avatar,Button,LogInButtons,extractText,SignUpModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsLogInModal){LogInModal=_flarumComponentsLogInModal.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsLogInButtons){LogInButtons=_flarumComponentsLogInButtons.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){SignUpModal=function(_Modal){babelHelpers.inherits(SignUpModal,_Modal);function SignUpModal(){babelHelpers.classCallCheck(this,SignUpModal);return babelHelpers.possibleConstructorReturn(this,(SignUpModal.__proto__||Object.getPrototypeOf(SignUpModal)).apply(this,arguments))}
babelHelpers.createClass(SignUpModal,[{key:'init',value:function init(){babelHelpers.get(SignUpModal.prototype.__proto__||Object.getPrototypeOf(SignUpModal.prototype),'init',this).call(this);this.username=m.prop(this.props.username||'');this.email=m.prop(this.props.email||'');this.password=m.prop(this.props.password||'')}},{key:'className',value:function className(){return'Modal--small SignUpModal'+(this.welcomeUser?' SignUpModal--success':'')}},{key:'title',value:function title(){return app.translator.trans('core.forum.sign_up.title')}},{key:'content',value:function content(){return[m('div',{className:'Modal-body'},this.body()),m('div',{className:'Modal-footer'},this.footer())]}},{key:'body',value:function body(){return[this.props.token?'':m(LogInButtons,null),m('div',{className:'Form Form--centered'},m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'username',type:'text',placeholder:extractText(app.translator.trans('core.forum.sign_up.username_placeholder')),value:this.username(),onchange:m.withAttr('value',this.username),disabled:this.loading})),m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'email',type:'email',placeholder:extractText(app.translator.trans('core.forum.sign_up.email_placeholder')),value:this.email(),onchange:m.withAttr('value',this.email),disabled:this.loading||this.props.token&&this.props.email})),this.props.token?'':m('div',{className:'Form-group'},m('input',{className:'FormControl',name:'password',type:'password',placeholder:extractText(app.translator.trans('core.forum.sign_up.password_placeholder')),value:this.password(),onchange:m.withAttr('value',this.password),disabled:this.loading})),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary Button--block',type:'submit',loading:this.loading},app.translator.trans('core.forum.sign_up.submit_button'))))]}},{key:'footer',value:function footer(){return[m('p',{className:'SignUpModal-logIn'},app.translator.trans('core.forum.sign_up.log_in_text',{a:m('a',{onclick:this.logIn.bind(this)})}))]}},{key:'logIn',value:function logIn(){var props={identification:this.email()||this.username(),password:this.password()};app.modal.show(new LogInModal(props))}},{key:'onready',value:function onready(){if(this.props.username&&!this.props.email){this.$('[name=email]').select()}else{this.$('[name=username]').select()}}},{key:'onsubmit',value:function onsubmit(e){e.preventDefault();this.loading=!0;var data=this.submitData();app.request({url:app.forum.attribute('baseUrl')+'/register',method:'POST',data:data,errorHandler:this.onerror.bind(this)}).then(function(){return window.location.reload()},this.loaded.bind(this))}},{key:'submitData',value:function submitData(){var data={username:this.username(),email:this.email()};if(this.props.token){data.token=this.props.token}else{data.password=this.password()}
if(this.props.avatarUrl){data.avatarUrl=this.props.avatarUrl}
return data}}]);return SignUpModal}(Modal);_export('default',SignUpModal)}}});'use strict';System.register('flarum/components/SplitDropdown',['flarum/components/Dropdown','flarum/components/Button','flarum/helpers/icon'],function(_export,_context){"use strict";var Dropdown,Button,icon,SplitDropdown;return{setters:[function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){SplitDropdown=function(_Dropdown){babelHelpers.inherits(SplitDropdown,_Dropdown);function SplitDropdown(){babelHelpers.classCallCheck(this,SplitDropdown);return babelHelpers.possibleConstructorReturn(this,(SplitDropdown.__proto__||Object.getPrototypeOf(SplitDropdown)).apply(this,arguments))}
babelHelpers.createClass(SplitDropdown,[{key:'getButton',value:function getButton(){var firstChild=this.getFirstChild();var buttonProps=babelHelpers.extends({},firstChild.props);buttonProps.className=(buttonProps.className||'')+' SplitDropdown-button Button '+this.props.buttonClassName;return[Button.component(buttonProps),m('button',{className:'Dropdown-toggle Button Button--icon '+this.props.buttonClassName,'data-toggle':'dropdown'},icon(this.props.icon,{className:'Button-icon'}),icon('caret-down',{className:'Button-caret'}))]}},{key:'getFirstChild',value:function getFirstChild(){var firstChild=this.props.children;while(firstChild instanceof Array){firstChild=firstChild[0]}return firstChild}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(SplitDropdown.__proto__||Object.getPrototypeOf(SplitDropdown),'initProps',this).call(this,props);props.className+=' Dropdown--split';props.menuClassName+=' Dropdown-menu--right'}}]);return SplitDropdown}(Dropdown);_export('default',SplitDropdown)}}});'use strict';System.register('flarum/components/Switch',['flarum/components/Checkbox'],function(_export,_context){"use strict";var Checkbox,Switch;return{setters:[function(_flarumComponentsCheckbox){Checkbox=_flarumComponentsCheckbox.default}],execute:function(){Switch=function(_Checkbox){babelHelpers.inherits(Switch,_Checkbox);function Switch(){babelHelpers.classCallCheck(this,Switch);return babelHelpers.possibleConstructorReturn(this,(Switch.__proto__||Object.getPrototypeOf(Switch)).apply(this,arguments))}
babelHelpers.createClass(Switch,[{key:'getDisplay',value:function getDisplay(){return this.loading?babelHelpers.get(Switch.prototype.__proto__||Object.getPrototypeOf(Switch.prototype),'getDisplay',this).call(this):''}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(Switch.__proto__||Object.getPrototypeOf(Switch),'initProps',this).call(this,props);props.className=(props.className||'')+' Checkbox--switch'}}]);return Switch}(Checkbox);_export('default',Switch)}}});'use strict';System.register('flarum/components/TerminalPost',['flarum/Component','flarum/helpers/humanTime','flarum/helpers/icon'],function(_export,_context){"use strict";var Component,humanTime,icon,TerminalPost;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersHumanTime){humanTime=_flarumHelpersHumanTime.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){TerminalPost=function(_Component){babelHelpers.inherits(TerminalPost,_Component);function TerminalPost(){babelHelpers.classCallCheck(this,TerminalPost);return babelHelpers.possibleConstructorReturn(this,(TerminalPost.__proto__||Object.getPrototypeOf(TerminalPost)).apply(this,arguments))}
babelHelpers.createClass(TerminalPost,[{key:'view',value:function view(){var discussion=this.props.discussion;var lastPost=this.props.lastPost&&discussion.repliesCount();var user=discussion[lastPost?'lastUser':'startUser']();var time=discussion[lastPost?'lastTime':'startTime']();return m('span',null,lastPost?icon('reply'):'',' ',app.translator.trans('core.forum.discussion_list.'+(lastPost?'replied':'started')+'_text',{user:user,ago:humanTime(time)}))}}]);return TerminalPost}(Component);_export('default',TerminalPost)}}});'use strict';System.register('flarum/components/TextEditor',['flarum/Component','flarum/utils/ItemList','flarum/helpers/listItems','flarum/components/Button'],function(_export,_context){"use strict";var Component,ItemList,listItems,Button,TextEditor;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){TextEditor=function(_Component){babelHelpers.inherits(TextEditor,_Component);function TextEditor(){babelHelpers.classCallCheck(this,TextEditor);return babelHelpers.possibleConstructorReturn(this,(TextEditor.__proto__||Object.getPrototypeOf(TextEditor)).apply(this,arguments))}
babelHelpers.createClass(TextEditor,[{key:'init',value:function init(){this.value=m.prop(this.props.value||'')}},{key:'view',value:function view(){return m('div',{className:'TextEditor'},m('textarea',{className:'FormControl Composer-flexible',config:this.configTextarea.bind(this),oninput:m.withAttr('value',this.oninput.bind(this)),placeholder:this.props.placeholder||'',disabled:!!this.props.disabled,value:this.value()}),m('ul',{className:'TextEditor-controls Composer-footer'},listItems(this.controlItems().toArray())))}},{key:'configTextarea',value:function configTextarea(element,isInitialized){var _this2=this;if(isInitialized)return;var handler=function handler(){_this2.onsubmit();m.redraw()};$(element).bind('keydown','meta+return',handler);$(element).bind('keydown','ctrl+return',handler)}},{key:'controlItems',value:function controlItems(){var items=new ItemList();items.add('submit',Button.component({children:this.props.submitLabel,icon:'check',className:'Button Button--primary',itemClassName:'App-primaryControl',onclick:this.onsubmit.bind(this)}));if(this.props.preview){items.add('preview',Button.component({icon:'eye',className:'Button Button--icon',onclick:this.props.preview}))}
return items}},{key:'setValue',value:function setValue(value){this.$('textarea').val(value).trigger('input')}},{key:'setSelectionRange',value:function setSelectionRange(start,end){var $textarea=this.$('textarea');$textarea[0].setSelectionRange(start,end);$textarea.focus()}},{key:'getSelectionRange',value:function getSelectionRange(){var $textarea=this.$('textarea');return[$textarea[0].selectionStart,$textarea[0].selectionEnd]}},{key:'insertAtCursor',value:function insertAtCursor(insert){var textarea=this.$('textarea')[0];var value=this.value();var index=textarea?textarea.selectionStart:value.length;this.setValue(value.slice(0,index)+insert+value.slice(index));if(textarea){var pos=index+insert.length;this.setSelectionRange(pos,pos)}}},{key:'oninput',value:function oninput(value){this.value(value);this.props.onchange(this.value());m.redraw.strategy('none')}},{key:'onsubmit',value:function onsubmit(){this.props.onsubmit(this.value())}}]);return TextEditor}(Component);_export('default',TextEditor)}}});'use strict';System.register('flarum/components/UserBio',['flarum/Component','flarum/components/LoadingIndicator','flarum/utils/classList','flarum/utils/extractText'],function(_export,_context){"use strict";var Component,LoadingIndicator,classList,extractText,UserBio;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){UserBio=function(_Component){babelHelpers.inherits(UserBio,_Component);function UserBio(){babelHelpers.classCallCheck(this,UserBio);return babelHelpers.possibleConstructorReturn(this,(UserBio.__proto__||Object.getPrototypeOf(UserBio)).apply(this,arguments))}
babelHelpers.createClass(UserBio,[{key:'init',value:function init(){this.editing=!1;this.loading=!1}},{key:'view',value:function view(){var user=this.props.user;var content=void 0;if(this.editing){content=m('textarea',{className:'FormControl',placeholder:extractText(app.translator.trans('core.forum.user.bio_placeholder')),rows:'3',value:user.bio()})}else{var subContent=void 0;if(this.loading){subContent=m('p',{className:'UserBio-placeholder'},LoadingIndicator.component({size:'tiny'}))}else{var bioHtml=user.bioHtml();if(bioHtml){subContent=m.trust(bioHtml)}else if(this.props.editable){subContent=m('p',{className:'UserBio-placeholder'},app.translator.trans('core.forum.user.bio_placeholder'))}}
content=m('div',{className:'UserBio-content',onclick:this.edit.bind(this)},subContent)}
return m('div',{className:'UserBio '+classList({editable:this.props.editable,editing:this.editing})},content)}},{key:'edit',value:function edit(){if(!this.props.editable)return;this.editing=!0;m.redraw();var bio=this;var save=function save(e){if(e.shiftKey)return;e.preventDefault();bio.save($(this).val())};this.$('textarea').focus().bind('blur',save).bind('keydown','return',save)}},{key:'save',value:function save(value){var _this2=this;var user=this.props.user;if(user.bio()!==value){this.loading=!0;user.save({bio:value}).catch(function(){}).then(function(){_this2.loading=!1;m.redraw()})}
this.editing=!1;m.redraw()}}]);return UserBio}(Component);_export('default',UserBio)}}});'use strict';System.register('flarum/components/UserCard',['flarum/Component','flarum/utils/humanTime','flarum/utils/ItemList','flarum/utils/UserControls','flarum/helpers/avatar','flarum/helpers/username','flarum/helpers/icon','flarum/components/Dropdown','flarum/components/UserBio','flarum/components/AvatarEditor','flarum/helpers/listItems'],function(_export,_context){"use strict";var Component,humanTime,ItemList,UserControls,avatar,username,icon,Dropdown,UserBio,AvatarEditor,listItems,UserCard;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumUtilsHumanTime){humanTime=_flarumUtilsHumanTime.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsUserControls){UserControls=_flarumUtilsUserControls.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsUserBio){UserBio=_flarumComponentsUserBio.default},function(_flarumComponentsAvatarEditor){AvatarEditor=_flarumComponentsAvatarEditor.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){UserCard=function(_Component){babelHelpers.inherits(UserCard,_Component);function UserCard(){babelHelpers.classCallCheck(this,UserCard);return babelHelpers.possibleConstructorReturn(this,(UserCard.__proto__||Object.getPrototypeOf(UserCard)).apply(this,arguments))}
babelHelpers.createClass(UserCard,[{key:'view',value:function view(){var user=this.props.user;var controls=UserControls.controls(user,this).toArray();var color=user.color();var badges=user.badges().toArray();return m('div',{className:'UserCard '+(this.props.className||''),style:color?{backgroundColor:color}:''},m('div',{className:'darkenBackground'},m('div',{className:'container'},controls.length?Dropdown.component({children:controls,className:'UserCard-controls App-primaryControl',menuClassName:'Dropdown-menu--right',buttonClassName:this.props.controlsButtonClassName,label:app.translator.trans('core.forum.user_controls.button'),icon:'ellipsis-v'}):'',m('div',{className:'UserCard-profile'},m('h2',{className:'UserCard-identity'},this.props.editable?[AvatarEditor.component({user:user,className:'UserCard-avatar'}),username(user)]:m('a',{href:app.route.user(user),config:m.route},m('div',{className:'UserCard-avatar'},avatar(user)),username(user))),badges.length?m('ul',{className:'UserCard-badges badges'},listItems(badges)):'',m('ul',{className:'UserCard-info'},listItems(this.infoItems().toArray()))))))}},{key:'infoItems',value:function infoItems(){var items=new ItemList();var user=this.props.user;var lastSeenTime=user.lastSeenTime();items.add('bio',UserBio.component({user:user,editable:this.props.editable}));if(lastSeenTime){var online=user.isOnline();items.add('lastSeen',m('span',{className:'UserCard-lastSeen'+(online?' online':'')},online?[icon('circle'),' ',app.translator.trans('core.forum.user.online_text')]:[icon('clock-o'),' ',humanTime(lastSeenTime)]))}
items.add('joined',app.translator.trans('core.forum.user.joined_date_text',{ago:humanTime(user.joinTime())}));return items}}]);return UserCard}(Component);_export('default',UserCard)}}});'use strict';System.register('flarum/components/UserPage',['flarum/components/Page','flarum/utils/ItemList','flarum/utils/affixSidebar','flarum/components/UserCard','flarum/components/LoadingIndicator','flarum/components/SelectDropdown','flarum/components/LinkButton','flarum/components/Separator','flarum/helpers/listItems'],function(_export,_context){"use strict";var Page,ItemList,affixSidebar,UserCard,LoadingIndicator,SelectDropdown,LinkButton,Separator,listItems,UserPage;return{setters:[function(_flarumComponentsPage){Page=_flarumComponentsPage.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsAffixSidebar){affixSidebar=_flarumUtilsAffixSidebar.default},function(_flarumComponentsUserCard){UserCard=_flarumComponentsUserCard.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumComponentsSelectDropdown){SelectDropdown=_flarumComponentsSelectDropdown.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default}],execute:function(){UserPage=function(_Page){babelHelpers.inherits(UserPage,_Page);function UserPage(){babelHelpers.classCallCheck(this,UserPage);return babelHelpers.possibleConstructorReturn(this,(UserPage.__proto__||Object.getPrototypeOf(UserPage)).apply(this,arguments))}
babelHelpers.createClass(UserPage,[{key:'init',value:function init(){babelHelpers.get(UserPage.prototype.__proto__||Object.getPrototypeOf(UserPage.prototype),'init',this).call(this);this.user=null;this.bodyClass='App--user'}},{key:'view',value:function view(){return m('div',{className:'UserPage'},this.user?[UserCard.component({user:this.user,className:'Hero UserHero',editable:this.user.canEdit()||this.user===app.session.user,controlsButtonClassName:'Button'}),m('div',{className:'container'},m('nav',{className:'sideNav UserPage-nav',config:affixSidebar},m('ul',null,listItems(this.sidebarItems().toArray()))),m('div',{className:'sideNavOffset UserPage-content'},this.content()))]:[LoadingIndicator.component({className:'LoadingIndicator--block'})])}},{key:'content',value:function content(){}},{key:'show',value:function show(user){this.user=user;app.setTitle(user.username());m.redraw()}},{key:'loadUser',value:function loadUser(username){var _this2=this;var lowercaseUsername=username.toLowerCase();app.store.all('users').some(function(user){if(user.username().toLowerCase()===lowercaseUsername&&user.joinTime()){_this2.show(user);return!0}});if(!this.user){app.store.find('users',username).then(this.show.bind(this))}}},{key:'sidebarItems',value:function sidebarItems(){var items=new ItemList();items.add('nav',SelectDropdown.component({children:this.navItems().toArray(),className:'App-titleControl',buttonClassName:'Button'}));return items}},{key:'navItems',value:function navItems(){var items=new ItemList();var user=this.user;items.add('posts',LinkButton.component({href:app.route('user.posts',{username:user.username()}),children:[app.translator.trans('core.forum.user.posts_link'),m('span',{className:'Button-badge'},user.commentsCount())],icon:'comment-o'}),100);items.add('discussions',LinkButton.component({href:app.route('user.discussions',{username:user.username()}),children:[app.translator.trans('core.forum.user.discussions_link'),m('span',{className:'Button-badge'},user.discussionsCount())],icon:'reorder'}),90);if(app.session.user===user){items.add('separator',Separator.component(),-90);items.add('settings',LinkButton.component({href:app.route('settings'),children:app.translator.trans('core.forum.user.settings_link'),icon:'cog'}),-100)}
return items}}]);return UserPage}(Page);_export('default',UserPage)}}});'use strict';System.register('flarum/components/UsersSearchSource',['flarum/helpers/highlight','flarum/helpers/avatar','flarum/helpers/username'],function(_export,_context){"use strict";var highlight,avatar,username,UsersSearchResults;return{setters:[function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default}],execute:function(){UsersSearchResults=function(){function UsersSearchResults(){babelHelpers.classCallCheck(this,UsersSearchResults)}
babelHelpers.createClass(UsersSearchResults,[{key:'search',value:function search(query){return app.store.find('users',{filter:{q:query},page:{limit:5}})}},{key:'view',value:function view(query){query=query.toLowerCase();var results=app.store.all('users').filter(function(user){return user.username().toLowerCase().substr(0,query.length)===query});if(!results.length)return'';return[m('li',{className:'Dropdown-header'},app.translator.trans('core.forum.search.users_heading')),results.map(function(user){var name=username(user);name.children[0]=highlight(name.children[0],query);return m('li',{className:'UserSearchResult','data-index':'users'+user.id()},m('a',{href:app.route.user(user),config:m.route},avatar(user),name))})]}}]);return UsersSearchResults}();_export('default',UsersSearchResults)}}});'use strict';System.register('flarum/components/WelcomeHero',['flarum/Component','flarum/components/Button'],function(_export,_context){"use strict";var Component,Button,WelcomeHero;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){WelcomeHero=function(_Component){babelHelpers.inherits(WelcomeHero,_Component);function WelcomeHero(){babelHelpers.classCallCheck(this,WelcomeHero);return babelHelpers.possibleConstructorReturn(this,(WelcomeHero.__proto__||Object.getPrototypeOf(WelcomeHero)).apply(this,arguments))}
babelHelpers.createClass(WelcomeHero,[{key:'init',value:function init(){this.hidden=localStorage.getItem('welcomeHidden')}},{key:'view',value:function view(){var _this2=this;if(this.hidden)return m('div',null);var slideUp=function slideUp(){_this2.$().slideUp(_this2.hide.bind(_this2))};return m('header',{className:'Hero WelcomeHero'},m('div',{'class':'container'},Button.component({icon:'times',onclick:slideUp,className:'Hero-close Button Button--icon Button--link'}),m('div',{className:'containerNarrow'},m('h2',{className:'Hero-title'},app.forum.attribute('welcomeTitle')),m('div',{className:'Hero-subtitle'},m.trust(app.forum.attribute('welcomeMessage'))))))}},{key:'hide',value:function hide(){localStorage.setItem('welcomeHidden','true');this.hidden=!0}}]);return WelcomeHero}(Component);_export('default',WelcomeHero)}}});"use strict";System.register("flarum/extend",[],function(_export,_context){"use strict";function extend(object,method,callback){var original=object[method];object[method]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}
var value=original?original.apply(this,args):undefined;callback.apply(this,[value].concat(args));return value};babelHelpers.extends(object[method],original)}
_export("extend",extend);function override(object,method,newMethod){var original=object[method];object[method]=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}
return newMethod.apply(this,[original.bind(this)].concat(args))};babelHelpers.extends(object[method],original)}
_export("override",override);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/ForumApp',['flarum/utils/History','flarum/App','flarum/components/Search','flarum/components/Composer','flarum/components/ReplyComposer','flarum/components/DiscussionPage','flarum/components/SignUpModal'],function(_export,_context){"use strict";var History,App,Search,Composer,ReplyComposer,DiscussionPage,SignUpModal,ForumApp;return{setters:[function(_flarumUtilsHistory){History=_flarumUtilsHistory.default},function(_flarumApp){App=_flarumApp.default},function(_flarumComponentsSearch){Search=_flarumComponentsSearch.default},function(_flarumComponentsComposer){Composer=_flarumComponentsComposer.default},function(_flarumComponentsReplyComposer){ReplyComposer=_flarumComponentsReplyComposer.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsSignUpModal){SignUpModal=_flarumComponentsSignUpModal.default}],execute:function(){ForumApp=function(_App){babelHelpers.inherits(ForumApp,_App);function ForumApp(){var _ref;babelHelpers.classCallCheck(this,ForumApp);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}
var _this=babelHelpers.possibleConstructorReturn(this,(_ref=ForumApp.__proto__||Object.getPrototypeOf(ForumApp)).call.apply(_ref,[this].concat(args)));_this.history=new History();_this.pane=null;_this.search=new Search();_this.drawer=null;_this.postComponents={};_this.notificationComponents={};return _this}
babelHelpers.createClass(ForumApp,[{key:'composingReplyTo',value:function composingReplyTo(discussion){return this.composer.component instanceof ReplyComposer&&this.composer.component.props.discussion===discussion&&this.composer.position!==Composer.PositionEnum.HIDDEN}},{key:'viewingDiscussion',value:function viewingDiscussion(discussion){return this.current instanceof DiscussionPage&&this.current.discussion===discussion}},{key:'authenticationComplete',value:function authenticationComplete(payload){if(payload.authenticated){window.location.reload()}else{var modal=new SignUpModal(payload);this.modal.show(modal);modal.$('[name=password]').focus()}}}]);return ForumApp}(App);_export('default',ForumApp)}}});'use strict';System.register('flarum/helpers/avatar',[],function(_export,_context){"use strict";function avatar(user){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};attrs.className='Avatar '+(attrs.className||'');var content='';var hasTitle=attrs.title==='undefined'||attrs.title;if(!hasTitle)delete attrs.title;if(user){var username=user.username()||'?';var avatarUrl=user.avatarUrl();if(hasTitle)attrs.title=attrs.title||username;if(avatarUrl){return m('img',babelHelpers.extends({},attrs,{src:avatarUrl}))}
content=username.charAt(0).toUpperCase();attrs.style={background:user.color()}}
return m('span',attrs,content)}
_export('default',avatar);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/helpers/fullTime',[],function(_export,_context){"use strict";function fullTime(time){var mo=moment(time);var datetime=mo.format();var full=mo.format('LLLL');return m('time',{pubdate:!0,datetime:datetime},full)}
_export('default',fullTime);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/helpers/highlight',['flarum/utils/string'],function(_export,_context){"use strict";var truncate;function highlight(string,phrase,length){if(!phrase&&!length)return string;var regexp=phrase instanceof RegExp?phrase:new RegExp(phrase,'gi');var highlighted=string;var start=0;if(length){if(phrase)start=Math.max(0,string.search(regexp)-length/2);highlighted=truncate(highlighted,length,start)}
highlighted=$('<div/>').text(highlighted).html();if(phrase)highlighted=highlighted.replace(regexp,'<mark>$&</mark>');return m.trust(highlighted)}
_export('default',highlight);return{setters:[function(_flarumUtilsString){truncate=_flarumUtilsString.truncate}],execute:function(){}}});'use strict';System.register('flarum/helpers/humanTime',['flarum/utils/humanTime'],function(_export,_context){"use strict";var humanTimeUtil;function humanTime(time){var mo=moment(time);var datetime=mo.format();var full=mo.format('LLLL');var ago=humanTimeUtil(time);return m('time',{pubdate:!0,datetime:datetime,title:full,'data-humantime':!0},ago)}
_export('default',humanTime);return{setters:[function(_flarumUtilsHumanTime){humanTimeUtil=_flarumUtilsHumanTime.default}],execute:function(){}}});'use strict';System.register('flarum/helpers/icon',[],function(_export,_context){"use strict";function icon(name){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};attrs.className='icon fa fa-'+name+' '+(attrs.className||'');return m('i',attrs)}
_export('default',icon);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/helpers/listItems',['flarum/components/Separator','flarum/utils/classList'],function(_export,_context){"use strict";var Separator,classList;function isSeparator(item){return item&&item.component===Separator}
function withoutUnnecessarySeparators(items){var newItems=[];var prevItem=void 0;items.forEach(function(item,i){if(!isSeparator(item)||prevItem&&!isSeparator(prevItem)&&i!==items.length-1){prevItem=item;newItems.push(item)}});return newItems}
function listItems(items){if(!(items instanceof Array))items=[items];return withoutUnnecessarySeparators(items).map(function(item){var isListItem=item.component&&item.component.isListItem;var active=item.component&&item.component.isActive&&item.component.isActive(item.props);var className=item.props?item.props.itemClassName:item.itemClassName;if(isListItem){item.attrs=item.attrs||{};item.attrs.key=item.attrs.key||item.itemName}
return isListItem?item:m('li',{className:classList([item.itemName?'item-'+item.itemName:'',className,active?'active':'']),key:item.itemName},item)})}
_export('default',listItems);return{setters:[function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default}],execute:function(){}}});'use strict';System.register('flarum/helpers/punctuateSeries',[],function(_export,_context){"use strict";function punctuateSeries(items){if(items.length===2){return app.translator.trans('core.lib.series.two_text',{first:items[0],second:items[1]})}else if(items.length>=3){var second=items.slice(1,items.length-1).reduce(function(list,item){return list.concat([item,app.translator.trans('core.lib.series.glue_text')])},[]).slice(0,-1);return app.translator.trans('core.lib.series.three_text',{first:items[0],second:second,third:items[items.length-1]})}
return items}
_export('default',punctuateSeries);return{setters:[],execute:function(){}}});"use strict";System.register("flarum/helpers/username",[],function(_export,_context){"use strict";function username(user){var name=user&&user.username()||app.translator.trans('core.lib.username.deleted_text');return m("span",{className:"username"},name)}
_export("default",username);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/helpers/userOnline',['flarum/helpers/icon'],function(_export,_context){"use strict";var icon;function userOnline(user){if(user.lastSeenTime()&&user.isOnline()){return m('span',{className:'UserOnline'},icon('circle'))}}
_export('default',userOnline);return{setters:[function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/alertEmailConfirmation',['flarum/components/Alert','flarum/components/Button','flarum/helpers/icon'],function(_export,_context){"use strict";var Alert,Button,icon;function alertEmailConfirmation(app){var user=app.session.user;if(!user||user.isActivated())return;var resendButton=Button.component({className:'Button Button--link',children:app.translator.trans('core.forum.user_email_confirmation.resend_button'),onclick:function onclick(){resendButton.props.loading=!0;m.redraw();app.request({method:'POST',url:app.forum.attribute('apiUrl')+'/users/'+user.id()+'/send-confirmation'}).then(function(){resendButton.props.loading=!1;resendButton.props.children=[icon('check'),' ',app.translator.trans('core.forum.user_email_confirmation.sent_message')];resendButton.props.disabled=!0;m.redraw()}).catch(function(){resendButton.props.loading=!1;m.redraw()})}});var ContainedAlert=function(_Alert){babelHelpers.inherits(ContainedAlert,_Alert);function ContainedAlert(){babelHelpers.classCallCheck(this,ContainedAlert);return babelHelpers.possibleConstructorReturn(this,(ContainedAlert.__proto__||Object.getPrototypeOf(ContainedAlert)).apply(this,arguments))}
babelHelpers.createClass(ContainedAlert,[{key:'view',value:function view(){var vdom=babelHelpers.get(ContainedAlert.prototype.__proto__||Object.getPrototypeOf(ContainedAlert.prototype),'view',this).call(this);vdom.children=[m('div',{className:'container'},vdom.children)];return vdom}}]);return ContainedAlert}(Alert);m.mount($('<div/>').insertBefore('#content')[0],ContainedAlert.component({dismissible:!1,children:app.translator.trans('core.forum.user_email_confirmation.alert_message',{email:m('strong',null,user.email())}),controls:[resendButton]}))}
_export('default',alertEmailConfirmation);return{setters:[function(_flarumComponentsAlert){Alert=_flarumComponentsAlert.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/boot',['flarum/utils/ScrollListener','flarum/utils/Pane','flarum/utils/Drawer','flarum/utils/mapRoutes','flarum/components/Navigation','flarum/components/HeaderPrimary','flarum/components/HeaderSecondary','flarum/components/Composer','flarum/components/ModalManager','flarum/components/AlertManager'],function(_export,_context){"use strict";var ScrollListener,Pane,Drawer,mapRoutes,Navigation,HeaderPrimary,HeaderSecondary,Composer,ModalManager,AlertManager;function boot(app){var defaultRoute=app.forum.attribute('defaultRoute');var defaultAction='index';for(var i in app.routes){if(app.routes[i].path===defaultRoute)defaultAction=i}
app.routes[defaultAction].path='/';app.history.push(defaultAction,app.translator.trans('core.forum.header.back_to_index_tooltip'),'/');m.startComputation();m.mount(document.getElementById('app-navigation'),Navigation.component({className:'App-backControl',drawer:!0}));m.mount(document.getElementById('header-navigation'),Navigation.component());m.mount(document.getElementById('header-primary'),HeaderPrimary.component());m.mount(document.getElementById('header-secondary'),HeaderSecondary.component());app.pane=new Pane(document.getElementById('app'));app.drawer=new Drawer();app.composer=m.mount(document.getElementById('composer'),Composer.component());app.modal=m.mount(document.getElementById('modal'),ModalManager.component());app.alerts=m.mount(document.getElementById('alerts'),AlertManager.component());var basePath=app.forum.attribute('basePath');m.route.mode='pathname';m.route(document.getElementById('content'),basePath+'/',mapRoutes(app.routes,basePath));m.endComputation();$('#home-link').click(function(e){if(e.ctrlKey||e.metaKey||e.which===2)return;e.preventDefault();app.history.home();if(app.session.user){app.store.find('users',app.session.user.id());m.redraw()}});new ScrollListener(function(top){var $app=$('#app');var offset=$app.offset().top;$app.toggleClass('affix',top>=offset).toggleClass('scrolled',top>offset)}).start();$(function(){FastClick.attach(document.body);$('body').addClass('ontouchstart' in window?'touch':'no-touch')});app.booted=!0}
_export('default',boot);return{setters:[function(_flarumUtilsScrollListener){ScrollListener=_flarumUtilsScrollListener.default},function(_flarumUtilsPane){Pane=_flarumUtilsPane.default},function(_flarumUtilsDrawer){Drawer=_flarumUtilsDrawer.default},function(_flarumUtilsMapRoutes){mapRoutes=_flarumUtilsMapRoutes.default},function(_flarumComponentsNavigation){Navigation=_flarumComponentsNavigation.default},function(_flarumComponentsHeaderPrimary){HeaderPrimary=_flarumComponentsHeaderPrimary.default},function(_flarumComponentsHeaderSecondary){HeaderSecondary=_flarumComponentsHeaderSecondary.default},function(_flarumComponentsComposer){Composer=_flarumComponentsComposer.default},function(_flarumComponentsModalManager){ModalManager=_flarumComponentsModalManager.default},function(_flarumComponentsAlertManager){AlertManager=_flarumComponentsAlertManager.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/components',['flarum/components/CommentPost','flarum/components/DiscussionRenamedPost','flarum/components/DiscussionRenamedNotification'],function(_export,_context){"use strict";var CommentPost,DiscussionRenamedPost,DiscussionRenamedNotification;function components(app){app.postComponents.comment=CommentPost;app.postComponents.discussionRenamed=DiscussionRenamedPost;app.notificationComponents.discussionRenamed=DiscussionRenamedNotification}
_export('default',components);return{setters:[function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumComponentsDiscussionRenamedPost){DiscussionRenamedPost=_flarumComponentsDiscussionRenamedPost.default},function(_flarumComponentsDiscussionRenamedNotification){DiscussionRenamedNotification=_flarumComponentsDiscussionRenamedNotification.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/humanTime',['flarum/utils/humanTime'],function(_export,_context){"use strict";var humanTimeUtil;function updateHumanTimes(){$('[data-humantime]').each(function(){var $this=$(this);var ago=humanTimeUtil($this.attr('datetime'));$this.html(ago)})}
function humanTime(){setInterval(updateHumanTimes,10000)}
_export('default',humanTime);return{setters:[function(_flarumUtilsHumanTime){humanTimeUtil=_flarumUtilsHumanTime.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/preload',['flarum/Session'],function(_export,_context){"use strict";var Session;function preload(app){app.store.pushPayload({data:app.data.resources});app.forum=app.store.getById('forums',1);app.session=new Session(app.store.getById('users',app.data.session.userId),app.data.session.csrfToken)}
_export('default',preload);return{setters:[function(_flarumSession){Session=_flarumSession.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/routes',['flarum/components/IndexPage','flarum/components/DiscussionPage','flarum/components/PostsUserPage','flarum/components/DiscussionsUserPage','flarum/components/SettingsPage','flarum/components/NotificationsPage'],function(_export,_context){"use strict";var IndexPage,DiscussionPage,PostsUserPage,DiscussionsUserPage,SettingsPage,NotificationsPage;_export('default',function(app){app.routes={'index':{path:'/all',component:IndexPage.component()},'index.filter':{path:'/:filter',component:IndexPage.component()},'discussion':{path:'/d/:id',component:DiscussionPage.component()},'discussion.near':{path:'/d/:id/:near',component:DiscussionPage.component()},'user':{path:'/u/:username',component:PostsUserPage.component()},'user.posts':{path:'/u/:username',component:PostsUserPage.component()},'user.discussions':{path:'/u/:username/discussions',component:DiscussionsUserPage.component()},'settings':{path:'/settings',component:SettingsPage.component()},'notifications':{path:'/notifications',component:NotificationsPage.component()}};app.route.discussion=function(discussion,near){return app.route(near&&near!==1?'discussion.near':'discussion',{id:discussion.id()+'-'+discussion.slug(),near:near&&near!==1?near:undefined})};app.route.post=function(post){return app.route.discussion(post.discussion(),post.number())};app.route.user=function(user){return app.route('user',{username:user.username()})}});return{setters:[function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsPostsUserPage){PostsUserPage=_flarumComponentsPostsUserPage.default},function(_flarumComponentsDiscussionsUserPage){DiscussionsUserPage=_flarumComponentsDiscussionsUserPage.default},function(_flarumComponentsSettingsPage){SettingsPage=_flarumComponentsSettingsPage.default},function(_flarumComponentsNotificationsPage){NotificationsPage=_flarumComponentsNotificationsPage.default}],execute:function(){}}});'use strict';System.register('flarum/initializers/store',['flarum/Store','flarum/models/Forum','flarum/models/User','flarum/models/Discussion','flarum/models/Post','flarum/models/Group','flarum/models/Activity','flarum/models/Notification'],function(_export,_context){"use strict";var Store,Forum,User,Discussion,Post,Group,Activity,Notification;function store(app){app.store=new Store({forums:Forum,users:User,discussions:Discussion,posts:Post,groups:Group,activity:Activity,notifications:Notification})}
_export('default',store);return{setters:[function(_flarumStore){Store=_flarumStore.default},function(_flarumModelsForum){Forum=_flarumModelsForum.default},function(_flarumModelsUser){User=_flarumModelsUser.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumModelsPost){Post=_flarumModelsPost.default},function(_flarumModelsGroup){Group=_flarumModelsGroup.default},function(_flarumModelsActivity){Activity=_flarumModelsActivity.default},function(_flarumModelsNotification){Notification=_flarumModelsNotification.default}],execute:function(){}}});'use strict';System.register('flarum/Model',[],function(_export,_context){"use strict";var Model;return{setters:[],execute:function(){Model=function(){function Model(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var store=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;babelHelpers.classCallCheck(this,Model);this.data=data;this.freshness=new Date();this.exists=!1;this.store=store}
babelHelpers.createClass(Model,[{key:'id',value:function id(){return this.data.id}},{key:'attribute',value:function attribute(_attribute){return this.data.attributes[_attribute]}},{key:'pushData',value:function pushData(data){for(var key in data){if(babelHelpers.typeof(data[key])==='object'){this.data[key]=this.data[key]||{};for(var innerKey in data[key]){if(data[key][innerKey]instanceof Model){data[key][innerKey]={data:Model.getIdentifier(data[key][innerKey])}}
this.data[key][innerKey]=data[key][innerKey]}}else{this.data[key]=data[key]}}
this.freshness=new Date()}},{key:'pushAttributes',value:function pushAttributes(attributes){this.pushData({attributes:attributes})}},{key:'save',value:function save(attributes){var _this=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var data={type:this.data.type,id:this.data.id,attributes:attributes};if(attributes.relationships){data.relationships={};for(var key in attributes.relationships){var model=attributes.relationships[key];data.relationships[key]={data:model instanceof Array?model.map(Model.getIdentifier):Model.getIdentifier(model)}}
delete attributes.relationships}
var oldData=this.copyData();this.pushData(data);var request={data:data};if(options.meta)request.meta=options.meta;return app.request(babelHelpers.extends({method:this.exists?'PATCH':'POST',url:app.forum.attribute('apiUrl')+this.apiEndpoint(),data:request},options)).then(function(payload){_this.store.data[payload.data.type]=_this.store.data[payload.data.type]||{};_this.store.data[payload.data.type][payload.data.id]=_this;return _this.store.pushPayload(payload)},function(response){_this.pushData(oldData);m.lazyRedraw();throw response})}},{key:'delete',value:function _delete(data){var _this2=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.exists)return m.deferred.resolve().promise;return app.request(babelHelpers.extends({method:'DELETE',url:app.forum.attribute('apiUrl')+this.apiEndpoint(),data:data},options)).then(function(){_this2.exists=!1;_this2.store.remove(_this2)})}},{key:'apiEndpoint',value:function apiEndpoint(){return'/'+this.data.type+(this.exists?'/'+this.data.id:'')}},{key:'copyData',value:function copyData(){return JSON.parse(JSON.stringify(this.data))}}],[{key:'attribute',value:function attribute(name,transform){return function(){var value=this.data.attributes&&this.data.attributes[name];return transform?transform(value):value}}},{key:'hasOne',value:function hasOne(name){return function(){if(this.data.relationships){var relationship=this.data.relationships[name];if(relationship){return app.store.getById(relationship.data.type,relationship.data.id)}}
return!1}}},{key:'hasMany',value:function hasMany(name){return function(){if(this.data.relationships){var relationship=this.data.relationships[name];if(relationship){return relationship.data.map(function(data){return app.store.getById(data.type,data.id)})}}
return!1}}},{key:'transformDate',value:function transformDate(value){return value?new Date(value):null}},{key:'getIdentifier',value:function getIdentifier(model){return{type:model.data.type,id:model.data.id}}}]);return Model}();_export('default',Model)}}});'use strict';System.register('flarum/models/Discussion',['flarum/Model','flarum/utils/computed','flarum/utils/ItemList','flarum/components/Badge'],function(_export,_context){"use strict";var Model,computed,ItemList,Badge,Discussion;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default}],execute:function(){Discussion=function(_Model){babelHelpers.inherits(Discussion,_Model);function Discussion(){babelHelpers.classCallCheck(this,Discussion);return babelHelpers.possibleConstructorReturn(this,(Discussion.__proto__||Object.getPrototypeOf(Discussion)).apply(this,arguments))}
return Discussion}(Model);_export('default',Discussion);babelHelpers.extends(Discussion.prototype,{title:Model.attribute('title'),slug:Model.attribute('slug'),startTime:Model.attribute('startTime',Model.transformDate),startUser:Model.hasOne('startUser'),startPost:Model.hasOne('startPost'),lastTime:Model.attribute('lastTime',Model.transformDate),lastUser:Model.hasOne('lastUser'),lastPost:Model.hasOne('lastPost'),lastPostNumber:Model.attribute('lastPostNumber'),commentsCount:Model.attribute('commentsCount'),repliesCount:computed('commentsCount',function(commentsCount){return Math.max(0,commentsCount-1)}),posts:Model.hasMany('posts'),relevantPosts:Model.hasMany('relevantPosts'),readTime:Model.attribute('readTime',Model.transformDate),readNumber:Model.attribute('readNumber'),isUnread:computed('unreadCount',function(unreadCount){return!!unreadCount}),isRead:computed('unreadCount',function(unreadCount){return app.session.user&&!unreadCount}),hideTime:Model.attribute('hideTime',Model.transformDate),hideUser:Model.hasOne('hideUser'),isHidden:computed('hideTime',function(hideTime){return!!hideTime}),canReply:Model.attribute('canReply'),canRename:Model.attribute('canRename'),canHide:Model.attribute('canHide'),canDelete:Model.attribute('canDelete'),removePost:function removePost(id){var relationships=this.data.relationships;var posts=relationships&&relationships.posts;if(posts){posts.data.some(function(data,i){if(id===data.id){posts.data.splice(i,1);return!0}})}},unreadCount:function unreadCount(){var user=app.session.user;if(user&&user.readTime()<this.lastTime()){return Math.max(0,this.lastPostNumber()-(this.readNumber()||0))}
return 0},badges:function badges(){var items=new ItemList();if(this.isHidden()){items.add('hidden',m(Badge,{type:'hidden',icon:'trash',label:app.translator.trans('core.lib.badge.hidden_tooltip')}))}
return items},postIds:function postIds(){var posts=this.data.relationships.posts;return posts?posts.data.map(function(link){return link.id}):[]}})}}});'use strict';System.register('flarum/models/Forum',['flarum/Model'],function(_export,_context){"use strict";var Model,Forum;return{setters:[function(_flarumModel){Model=_flarumModel.default}],execute:function(){Forum=function(_Model){babelHelpers.inherits(Forum,_Model);function Forum(){babelHelpers.classCallCheck(this,Forum);return babelHelpers.possibleConstructorReturn(this,(Forum.__proto__||Object.getPrototypeOf(Forum)).apply(this,arguments))}
babelHelpers.createClass(Forum,[{key:'apiEndpoint',value:function apiEndpoint(){return'/forum'}}]);return Forum}(Model);_export('default',Forum)}}});'use strict';System.register('flarum/models/Group',['flarum/Model'],function(_export,_context){"use strict";var Model,Group;return{setters:[function(_flarumModel){Model=_flarumModel.default}],execute:function(){Group=function(_Model){babelHelpers.inherits(Group,_Model);function Group(){babelHelpers.classCallCheck(this,Group);return babelHelpers.possibleConstructorReturn(this,(Group.__proto__||Object.getPrototypeOf(Group)).apply(this,arguments))}
return Group}(Model);babelHelpers.extends(Group.prototype,{nameSingular:Model.attribute('nameSingular'),namePlural:Model.attribute('namePlural'),color:Model.attribute('color'),icon:Model.attribute('icon')});Group.ADMINISTRATOR_ID='1';Group.GUEST_ID='2';Group.MEMBER_ID='3';_export('default',Group)}}});'use strict';System.register('flarum/models/Notification',['flarum/Model','flarum/utils/computed'],function(_export,_context){"use strict";var Model,computed,Notification;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default}],execute:function(){Notification=function(_Model){babelHelpers.inherits(Notification,_Model);function Notification(){babelHelpers.classCallCheck(this,Notification);return babelHelpers.possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).apply(this,arguments))}
return Notification}(Model);_export('default',Notification);babelHelpers.extends(Notification.prototype,{contentType:Model.attribute('contentType'),subjectId:Model.attribute('subjectId'),content:Model.attribute('content'),time:Model.attribute('time',Model.date),isRead:Model.attribute('isRead'),unreadCount:Model.attribute('unreadCount'),additionalUnreadCount:computed('unreadCount',function(unreadCount){return Math.max(0,unreadCount-1)}),user:Model.hasOne('user'),sender:Model.hasOne('sender'),subject:Model.hasOne('subject')})}}});'use strict';System.register('flarum/models/Post',['flarum/Model','flarum/utils/computed','flarum/utils/string'],function(_export,_context){"use strict";var Model,computed,getPlainContent,Post;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default},function(_flarumUtilsString){getPlainContent=_flarumUtilsString.getPlainContent}],execute:function(){Post=function(_Model){babelHelpers.inherits(Post,_Model);function Post(){babelHelpers.classCallCheck(this,Post);return babelHelpers.possibleConstructorReturn(this,(Post.__proto__||Object.getPrototypeOf(Post)).apply(this,arguments))}
return Post}(Model);_export('default',Post);babelHelpers.extends(Post.prototype,{number:Model.attribute('number'),discussion:Model.hasOne('discussion'),time:Model.attribute('time',Model.transformDate),user:Model.hasOne('user'),contentType:Model.attribute('contentType'),content:Model.attribute('content'),contentHtml:Model.attribute('contentHtml'),contentPlain:computed('contentHtml',getPlainContent),editTime:Model.attribute('editTime',Model.transformDate),editUser:Model.hasOne('editUser'),isEdited:computed('editTime',function(editTime){return!!editTime}),hideTime:Model.attribute('hideTime',Model.transformDate),hideUser:Model.hasOne('hideUser'),isHidden:computed('hideTime',function(hideTime){return!!hideTime}),canEdit:Model.attribute('canEdit'),canDelete:Model.attribute('canDelete')})}}});'use strict';System.register('flarum/models/User',['flarum/Model','flarum/utils/stringToColor','flarum/utils/ItemList','flarum/utils/computed','flarum/components/GroupBadge'],function(_export,_context){"use strict";var Model,stringToColor,ItemList,computed,GroupBadge,User;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsStringToColor){stringToColor=_flarumUtilsStringToColor.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default},function(_flarumComponentsGroupBadge){GroupBadge=_flarumComponentsGroupBadge.default}],execute:function(){User=function(_Model){babelHelpers.inherits(User,_Model);function User(){babelHelpers.classCallCheck(this,User);return babelHelpers.possibleConstructorReturn(this,(User.__proto__||Object.getPrototypeOf(User)).apply(this,arguments))}
return User}(Model);_export('default',User);babelHelpers.extends(User.prototype,{username:Model.attribute('username'),email:Model.attribute('email'),isActivated:Model.attribute('isActivated'),password:Model.attribute('password'),avatarUrl:Model.attribute('avatarUrl'),bio:Model.attribute('bio'),bioHtml:computed('bio',function(bio){return bio?'<p>'+$('<div/>').text(bio).html().replace(/\n/g,'<br>').autoLink({rel:'nofollow'})+'</p>':''}),preferences:Model.attribute('preferences'),groups:Model.hasMany('groups'),joinTime:Model.attribute('joinTime',Model.transformDate),lastSeenTime:Model.attribute('lastSeenTime',Model.transformDate),readTime:Model.attribute('readTime',Model.transformDate),unreadNotificationsCount:Model.attribute('unreadNotificationsCount'),newNotificationsCount:Model.attribute('newNotificationsCount'),discussionsCount:Model.attribute('discussionsCount'),commentsCount:Model.attribute('commentsCount'),canEdit:Model.attribute('canEdit'),canDelete:Model.attribute('canDelete'),avatarColor:null,color:computed('username','avatarUrl','avatarColor',function(username,avatarUrl,avatarColor){if(avatarColor){return'rgb('+avatarColor.join(', ')+')'}else if(avatarUrl){this.calculateAvatarColor();return''}
return'#'+stringToColor(username)}),isOnline:function isOnline(){return this.lastSeenTime()>moment().subtract(5,'minutes').toDate()},badges:function badges(){var items=new ItemList();var groups=this.groups();if(groups){groups.forEach(function(group){items.add('group'+group.id(),GroupBadge.component({group:group}))})}
return items},calculateAvatarColor:function calculateAvatarColor(){var image=new Image();var user=this;image.onload=function(){var colorThief=new ColorThief();user.avatarColor=colorThief.getColor(this);user.freshness=new Date();m.redraw()};image.src=this.avatarUrl()},savePreferences:function savePreferences(newPreferences){var preferences=this.preferences();babelHelpers.extends(preferences,newPreferences);return this.save({preferences:preferences})}})}}});'use strict';System.register('flarum/Session',[],function(_export,_context){"use strict";var Session;return{setters:[],execute:function(){Session=function(){function Session(user,csrfToken){babelHelpers.classCallCheck(this,Session);this.user=user;this.csrfToken=csrfToken}
babelHelpers.createClass(Session,[{key:'login',value:function login(data){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return app.request(babelHelpers.extends({method:'POST',url:app.forum.attribute('baseUrl')+'/login',data:data},options))}},{key:'logout',value:function logout(){window.location=app.forum.attribute('baseUrl')+'/logout?token='+this.csrfToken}}]);return Session}();_export('default',Session)}}});'use strict';System.register('flarum/Store',[],function(_export,_context){"use strict";var Store;return{setters:[],execute:function(){Store=function(){function Store(models){babelHelpers.classCallCheck(this,Store);this.data={};this.models=models}
babelHelpers.createClass(Store,[{key:'pushPayload',value:function pushPayload(payload){if(payload.included)payload.included.map(this.pushObject.bind(this));var result=payload.data instanceof Array?payload.data.map(this.pushObject.bind(this)):this.pushObject(payload.data);result.payload=payload;return result}},{key:'pushObject',value:function pushObject(data){if(!this.models[data.type])return null;var type=this.data[data.type]=this.data[data.type]||{};if(type[data.id]){type[data.id].pushData(data)}else{type[data.id]=this.createRecord(data.type,data)}
type[data.id].exists=!0;return type[data.id]}},{key:'find',value:function find(type,id){var query=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var data=query;var url=app.forum.attribute('apiUrl')+'/'+type;if(id instanceof Array){url+='?filter[id]='+id.join(',')}else if((typeof id==='undefined'?'undefined':babelHelpers.typeof(id))==='object'){data=id}else if(id){url+='/'+id}
return app.request(babelHelpers.extends({method:'GET',url:url,data:data},options)).then(this.pushPayload.bind(this))}},{key:'getById',value:function getById(type,id){return this.data[type]&&this.data[type][id]}},{key:'getBy',value:function getBy(type,key,value){return this.all(type).filter(function(model){return model[key]()===value})[0]}},{key:'all',value:function all(type){var records=this.data[type];return records?Object.keys(records).map(function(id){return records[id]}):[]}},{key:'remove',value:function remove(model){delete this.data[model.data.type][model.id()]}},{key:'createRecord',value:function createRecord(type){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};data.type=data.type||type;return new this.models[type](data,this)}}]);return Store}();_export('default',Store)}}});'use strict';System.register('flarum/Translator',['flarum/models/User','flarum/helpers/username','flarum/utils/extractText','flarum/utils/extract'],function(_export,_context){"use strict";var User,username,extractText,extract,Translator;return{setters:[function(_flarumModelsUser){User=_flarumModelsUser.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default}],execute:function(){Translator=function(){function Translator(){babelHelpers.classCallCheck(this,Translator);this.translations={};this.locale=null}
babelHelpers.createClass(Translator,[{key:'trans',value:function trans(id,parameters){var translation=this.translations[id];if(translation){return this.apply(translation,parameters||{})}
return id}},{key:'transChoice',value:function transChoice(id,number,parameters){var translation=this.translations[id];if(translation){number=parseInt(number,10);translation=this.pluralize(translation,number);return this.apply(translation,parameters||{})}
return id}},{key:'apply',value:function apply(translation,input){if('user' in input){var user=extract(input,'user');if(!input.username)input.username=username(user)}
translation=translation.split(new RegExp('({[a-z0-9_]+}|</?[a-z0-9_]+>)','gi'));var hydrated=[];var open=[hydrated];translation.forEach(function(part){var match=part.match(new RegExp('{([a-z0-9_]+)}|<(/?)([a-z0-9_]+)>','i'));if(match){if(match[1]){open[0].push(input[match[1]])}else if(match[3]){if(match[2]){open.shift()}else{var tag=input[match[3]]||{tag:match[3],children:[]};open[0].push(tag);open.unshift(tag.children||tag)}}}else{open[0].push(part)}});return hydrated.filter(function(part){return part})}},{key:'pluralize',value:function pluralize(translation,number){var _this=this;var sPluralRegex=new RegExp(/^\w+\: +(.+)$/),cPluralRegex=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),iPluralRegex=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),standardRules=[],explicitRules=[];translation.split('|').forEach(function(part){if(cPluralRegex.test(part)){var matches=part.match(cPluralRegex);explicitRules[matches[0]]=matches[matches.length-1]}else if(sPluralRegex.test(part)){var _matches=part.match(sPluralRegex);standardRules.push(_matches[1])}else{standardRules.push(part)}});explicitRules.forEach(function(rule,e){if(iPluralRegex.test(e)){var matches=e.match(iPluralRegex);if(matches[1]){var ns=matches[2].split(',');for(var n in ns){if(number==ns[n]){return explicitRules[e]}}}else{var leftNumber=_this.convertNumber(matches[4]);var rightNumber=_this.convertNumber(matches[5]);if(('['===matches[3]?number>=leftNumber:number>leftNumber)&&(']'===matches[6]?number<=rightNumber:number<rightNumber)){return explicitRules[e]}}}});return standardRules[this.pluralPosition(number,this.locale)]||standardRules[0]||undefined}},{key:'convertNumber',value:function convertNumber(number){if('-Inf'===number){return Number.NEGATIVE_INFINITY}else if('+Inf'===number||'Inf'===number){return Number.POSITIVE_INFINITY}
return parseInt(number,10)}},{key:'pluralPosition',value:function pluralPosition(number,locale){if('pt_BR'===locale){locale='xbr'}
if(locale.length>3){locale=locale.split('_')[0]}
switch(locale){case 'bo':case 'dz':case 'id':case 'ja':case 'jv':case 'ka':case 'km':case 'kn':case 'ko':case 'ms':case 'th':case 'vi':case 'zh':return 0;case 'af':case 'az':case 'bn':case 'bg':case 'ca':case 'da':case 'de':case 'el':case 'en':case 'eo':case 'es':case 'et':case 'eu':case 'fa':case 'fi':case 'fo':case 'fur':case 'fy':case 'gl':case 'gu':case 'ha':case 'he':case 'hu':case 'is':case 'it':case 'ku':case 'lb':case 'ml':case 'mn':case 'mr':case 'nah':case 'nb':case 'ne':case 'nl':case 'nn':case 'no':case 'om':case 'or':case 'pa':case 'pap':case 'ps':case 'pt':case 'so':case 'sq':case 'sv':case 'sw':case 'ta':case 'te':case 'tk':case 'tr':case 'ur':case 'zu':return number==1?0:1;case 'am':case 'bh':case 'fil':case 'fr':case 'gun':case 'hi':case 'ln':case 'mg':case 'nso':case 'xbr':case 'ti':case 'wa':return number===0||number==1?0:1;case 'be':case 'bs':case 'hr':case 'ru':case 'sr':case 'uk':return number%10==1&&number%100!=11?0:number%10>=2&&number%10<=4&&(number%100<10||number%100>=20)?1:2;case 'cs':case 'sk':return number==1?0:number>=2&&number<=4?1:2;case 'ga':return number==1?0:number==2?1:2;case 'lt':return number%10==1&&number%100!=11?0:number%10>=2&&(number%100<10||number%100>=20)?1:2;case 'sl':return number%100==1?0:number%100==2?1:number%100==3||number%100==4?2:3;case 'mk':return number%10==1?0:1;case 'mt':return number==1?0:number===0||number%100>1&&number%100<11?1:number%100>10&&number%100<20?2:3;case 'lv':return number===0?0:number%10==1&&number%100!=11?1:2;case 'pl':return number==1?0:number%10>=2&&number%10<=4&&(number%100<12||number%100>14)?1:2;case 'cy':return number==1?0:number==2?1:number==8||number==11?2:3;case 'ro':return number==1?0:number===0||number%100>0&&number%100<20?1:2;case 'ar':return number===0?0:number==1?1:number==2?2:number>=3&&number<=10?3:number>=11&&number<=99?4:5;default:return 0}}}]);return Translator}();_export('default',Translator)}}});'use strict';System.register('flarum/utils/abbreviateNumber',[],function(_export,_context){"use strict";function abbreviateNumber(number){if(number>=1000000){return Math.floor(number/1000000)+app.translator.trans('core.lib.number_suffix.mega_text')}else if(number>=1000){return Math.floor(number/1000)+app.translator.trans('core.lib.number_suffix.kilo_text')}else{return number.toString()}}
_export('default',abbreviateNumber);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/affixSidebar',[],function(_export,_context){"use strict";function affixSidebar(element,isInitialized,context){var _this=this;if(isInitialized)return;var onresize=function onresize(){var $sidebar=$(element);var $header=$('#header');var $footer=$('#footer');var $affixElement=$sidebar.find('> ul');$(window).off('.affix');$affixElement.removeClass('affix affix-top affix-bottom').removeData('bs.affix');if($sidebar.outerHeight(!0)>$(window).height()-$header.outerHeight(!0))return;$affixElement.affix({offset:{top:function top(){return $sidebar.offset().top-$header.outerHeight(!0)-parseInt($sidebar.css('margin-top'),10)},bottom:function bottom(){return _this.bottom=$footer.outerHeight(!0)}}})};$(window).on('resize',onresize).resize();context.onunload=function(){$(window).off('resize',onresize)}}
_export('default',affixSidebar);return{setters:[],execute:function(){}}});"use strict";System.register("flarum/utils/anchorScroll",[],function(_export,_context){"use strict";function anchorScroll(element,callback){var $window=$(window);var relativeScroll=$(element).offset().top-$window.scrollTop();callback();$window.scrollTop($(element).offset().top-relativeScroll)}
_export("default",anchorScroll);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/classList',[],function(_export,_context){"use strict";function classList(classes){var classNames=void 0;if(classes instanceof Array){classNames=classes.filter(function(name){return name})}else{classNames=[];for(var i in classes){if(classes[i])classNames.push(i)}}
return classNames.join(' ')}
_export('default',classList);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/computed',[],function(_export,_context){"use strict";function computed(){for(var _len=arguments.length,dependentKeys=Array(_len),_key=0;_key<_len;_key++){dependentKeys[_key]=arguments[_key]}
var keys=dependentKeys.slice(0,-1);var compute=dependentKeys.slice(-1)[0];var dependentValues={};var computedValue=void 0;return function(){var _this=this;var recompute=!1;keys.forEach(function(key){var value=typeof _this[key]==='function'?_this[key]():_this[key];if(dependentValues[key]!==value){recompute=!0;dependentValues[key]=value}});if(recompute){computedValue=compute.apply(this,keys.map(function(key){return dependentValues[key]}))}
return computedValue}}
_export('default',computed);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/DiscussionControls',['flarum/components/DiscussionPage','flarum/components/ReplyComposer','flarum/components/LogInModal','flarum/components/Button','flarum/components/Separator','flarum/components/RenameDiscussionModal','flarum/utils/ItemList','flarum/utils/extractText'],function(_export,_context){"use strict";var DiscussionPage,ReplyComposer,LogInModal,Button,Separator,RenameDiscussionModal,ItemList,extractText;return{setters:[function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsReplyComposer){ReplyComposer=_flarumComponentsReplyComposer.default},function(_flarumComponentsLogInModal){LogInModal=_flarumComponentsLogInModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumComponentsRenameDiscussionModal){RenameDiscussionModal=_flarumComponentsRenameDiscussionModal.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default}],execute:function(){_export('default',{controls:function controls(discussion,context){var _this=this;var items=new ItemList();['user','moderation','destructive'].forEach(function(section){var controls=_this[section+'Controls'](discussion,context).toArray();if(controls.length){controls.forEach(function(item){return items.add(item.itemName,item)});items.add(section+'Separator',Separator.component())}});return items},userControls:function userControls(discussion,context){var items=new ItemList();if(context instanceof DiscussionPage){items.add('reply',!app.session.user||discussion.canReply()?Button.component({icon:'reply',children:app.translator.trans(app.session.user?'core.forum.discussion_controls.reply_button':'core.forum.discussion_controls.log_in_to_reply_button'),onclick:this.replyAction.bind(discussion,!0,!1)}):Button.component({icon:'reply',children:app.translator.trans('core.forum.discussion_controls.cannot_reply_button'),className:'disabled',title:app.translator.trans('core.forum.discussion_controls.cannot_reply_text')}))}
return items},moderationControls:function moderationControls(discussion){var items=new ItemList();if(discussion.canRename()){items.add('rename',Button.component({icon:'pencil',children:app.translator.trans('core.forum.discussion_controls.rename_button'),onclick:this.renameAction.bind(discussion)}))}
return items},destructiveControls:function destructiveControls(discussion){var items=new ItemList();if(!discussion.isHidden()){if(discussion.canHide()){items.add('hide',Button.component({icon:'trash-o',children:app.translator.trans('core.forum.discussion_controls.delete_button'),onclick:this.hideAction.bind(discussion)}))}}else{if(discussion.canHide()){items.add('restore',Button.component({icon:'reply',children:app.translator.trans('core.forum.discussion_controls.restore_button'),onclick:this.restoreAction.bind(discussion)}))}
if(discussion.canDelete()){items.add('delete',Button.component({icon:'times',children:app.translator.trans('core.forum.discussion_controls.delete_forever_button'),onclick:this.deleteAction.bind(discussion)}))}}
return items},replyAction:function replyAction(goToLast,forceRefresh){var deferred=m.deferred();if(app.session.user){if(this.canReply()){var component=app.composer.component;if(!app.composingReplyTo(this)||forceRefresh){component=new ReplyComposer({user:app.session.user,discussion:this});app.composer.load(component)}
app.composer.show();if(goToLast&&app.viewingDiscussion(this)){app.current.stream.goToNumber('reply')}
deferred.resolve(component)}else{deferred.reject()}}else{app.modal.show(new LogInModal())}
return deferred.promise},hideAction:function hideAction(){this.pushAttributes({hideTime:new Date(),hideUser:app.session.user});return this.save({isHidden:!0})},restoreAction:function restoreAction(){this.pushAttributes({hideTime:null,hideUser:null});return this.save({isHidden:!1})},deleteAction:function deleteAction(){var _this2=this;if(confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))){if(app.viewingDiscussion(this)){app.history.back()}
return this.delete().then(function(){if(app.cache.discussionList){app.cache.discussionList.removeDiscussion(_this2);m.redraw()}})}},renameAction:function renameAction(){return app.modal.show(new RenameDiscussionModal({currentTitle:this.title(),discussion:this}))}})}}});'use strict';System.register('flarum/utils/Drawer',[],function(_export,_context){"use strict";var Drawer;return{setters:[],execute:function(){Drawer=function(){function Drawer(){var _this=this;babelHelpers.classCallCheck(this,Drawer);$('#content').click(function(e){if(_this.isOpen()){e.preventDefault();_this.hide()}})}
babelHelpers.createClass(Drawer,[{key:'isOpen',value:function isOpen(){return $('#app').hasClass('drawerOpen')}},{key:'hide',value:function hide(){$('#app').removeClass('drawerOpen');if(this.$backdrop)this.$backdrop.remove()}},{key:'show',value:function show(){var _this2=this;$('#app').addClass('drawerOpen');this.$backdrop=$('<div/>').addClass('drawer-backdrop fade').appendTo('body').click(function(){return _this2.hide()});setTimeout(function(){return _this2.$backdrop.addClass('in')})}}]);return Drawer}();_export('default',Drawer)}}});"use strict";System.register("flarum/utils/evented",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",{handlers:null,getHandlers:function getHandlers(event){this.handlers=this.handlers||{};this.handlers[event]=this.handlers[event]||[];return this.handlers[event]},trigger:function trigger(event){var _this=this;for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}
this.getHandlers(event).forEach(function(handler){return handler.apply(_this,args)})},on:function on(event,handler){this.getHandlers(event).push(handler)},one:function one(event,handler){var wrapper=function wrapper(){handler.apply(this,arguments);this.off(event,wrapper)};this.getHandlers(event).push(wrapper)},off:function off(event,handler){var handlers=this.getHandlers(event);var index=handlers.indexOf(handler);if(index!==-1){handlers.splice(index,1)}}})}}});"use strict";System.register("flarum/utils/extract",[],function(_export,_context){"use strict";function extract(object,property){var value=object[property];delete object[property];return value}
_export("default",extract);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/extractText',[],function(_export,_context){"use strict";function extractText(vdom){if(vdom instanceof Array){return vdom.map(function(element){return extractText(element)}).join('')}else if((typeof vdom==='undefined'?'undefined':babelHelpers.typeof(vdom))==='object'){return extractText(vdom.children)}else{return vdom}}
_export('default',extractText);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/formatNumber',[],function(_export,_context){"use strict";function formatNumber(number){return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')}
_export('default',formatNumber);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/History',[],function(_export,_context){"use strict";var History;return{setters:[],execute:function(){History=function(){function History(defaultRoute){babelHelpers.classCallCheck(this,History);this.stack=[]}
babelHelpers.createClass(History,[{key:'getCurrent',value:function getCurrent(){return this.stack[this.stack.length-1]}},{key:'getPrevious',value:function getPrevious(){return this.stack[this.stack.length-2]}},{key:'push',value:function push(name,title){var url=arguments.length>2&&arguments[2]!==undefined?arguments[2]:m.route();var secondTop=this.stack[this.stack.length-2];if(secondTop&&secondTop.name===name){this.stack.pop()}
var top=this.getCurrent();if(top&&top.name===name){babelHelpers.extends(top,{url:url,title:title})}else{this.stack.push({name:name,url:url,title:title})}}},{key:'canGoBack',value:function canGoBack(){return this.stack.length>1}},{key:'back',value:function back(){this.stack.pop();m.route(this.getCurrent().url)}},{key:'backUrl',value:function backUrl(){var secondTop=this.stack[this.stack.length-2];return secondTop.url}},{key:'home',value:function home(){this.stack.splice(0);m.route('/')}}]);return History}();_export('default',History)}}});'use strict';System.register('flarum/utils/humanTime',[],function(_export,_context){"use strict";function humanTime(time){var m=moment(time);var now=moment();if(m.isAfter(now)){m=now}
var day=864e5;var diff=m.diff(moment());var ago=null;if(diff<-30*day){if(m.year()===moment().year()){ago=m.format('D MMM')}else{ago=m.format('MMM \'YY')}}else{ago=m.fromNow()}
return ago}
_export('default',humanTime);return{setters:[],execute:function(){}}});"use strict";System.register("flarum/utils/ItemList",[],function(_export,_context){"use strict";var Item,ItemList;return{setters:[],execute:function(){Item=function Item(content,priority){babelHelpers.classCallCheck(this,Item);this.content=content;this.priority=priority};ItemList=function(){function ItemList(){babelHelpers.classCallCheck(this,ItemList);this.items={}}
babelHelpers.createClass(ItemList,[{key:"has",value:function has(key){return!!this.items[key]}},{key:"get",value:function get(key){return this.items[key].content}},{key:"add",value:function add(key,content){var priority=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.items[key]=new Item(content,priority)}},{key:"replace",value:function replace(key){var content=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var priority=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(this.items[key]){if(content!==null){this.items[key].content=content}
if(priority!==null){this.items[key].priority=priority}}}},{key:"remove",value:function remove(key){delete this.items[key]}},{key:"merge",value:function merge(items){for(var i in items.items){if(items.items.hasOwnProperty(i)&&items.items[i]instanceof Item){this.items[i]=items.items[i]}}}},{key:"toArray",value:function toArray(){var items=[];for(var i in this.items){if(this.items.hasOwnProperty(i)&&this.items[i]instanceof Item){this.items[i].content=Object(this.items[i].content);this.items[i].content.itemName=i;items.push(this.items[i]);this.items[i].key=items.length}}
return items.sort(function(a,b){if(a.priority===b.priority){return a.key-b.key}else if(a.priority>b.priority){return-1}
return 1}).map(function(item){return item.content})}}]);return ItemList}();_export("default",ItemList)}}});'use strict';System.register('flarum/utils/KeyboardNavigatable',[],function(_export,_context){"use strict";var KeyboardNavigatable;return{setters:[],execute:function(){KeyboardNavigatable=function(){function KeyboardNavigatable(){babelHelpers.classCallCheck(this,KeyboardNavigatable);this.callbacks={};this.whenCallback=function(){return!0}}
babelHelpers.createClass(KeyboardNavigatable,[{key:'onUp',value:function onUp(callback){this.callbacks[38]=function(e){e.preventDefault();callback(e)};return this}},{key:'onDown',value:function onDown(callback){this.callbacks[40]=function(e){e.preventDefault();callback(e)};return this}},{key:'onSelect',value:function onSelect(callback){this.callbacks[9]=this.callbacks[13]=function(e){e.preventDefault();callback(e)};return this}},{key:'onCancel',value:function onCancel(callback){this.callbacks[27]=function(e){e.stopPropagation();e.preventDefault();callback(e)};return this}},{key:'onRemove',value:function onRemove(callback){this.callbacks[8]=function(e){if(e.target.selectionStart===0&&e.target.selectionEnd===0){callback(e);e.preventDefault()}};return this}},{key:'when',value:function when(callback){this.whenCallback=callback;return this}},{key:'bindTo',value:function bindTo($element){$element.on('keydown',this.navigate.bind(this))}},{key:'navigate',value:function navigate(event){if(!this.whenCallback())return;var keyCallback=this.callbacks[event.which];if(keyCallback){keyCallback(event)}}}]);return KeyboardNavigatable}();_export('default',KeyboardNavigatable)}}});'use strict';System.register('flarum/utils/mapRoutes',[],function(_export,_context){"use strict";function mapRoutes(routes){var basePath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var map={};for(var key in routes){var route=routes[key];if(route.component)route.component.props.routeName=key;map[basePath+route.path]=route.component}
return map}
_export('default',mapRoutes);return{setters:[],execute:function(){}}});"use strict";System.register("flarum/utils/mixin",[],function(_export,_context){"use strict";function mixin(Parent){var Mixed=function(_Parent){babelHelpers.inherits(Mixed,_Parent);function Mixed(){babelHelpers.classCallCheck(this,Mixed);return babelHelpers.possibleConstructorReturn(this,(Mixed.__proto__||Object.getPrototypeOf(Mixed)).apply(this,arguments))}
return Mixed}(Parent);for(var _len=arguments.length,mixins=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){mixins[_key-1]=arguments[_key]}
mixins.forEach(function(object){babelHelpers.extends(Mixed.prototype,object)});return Mixed}
_export("default",mixin);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/Pane',[],function(_export,_context){"use strict";var Pane;return{setters:[],execute:function(){Pane=function(){function Pane(element){babelHelpers.classCallCheck(this,Pane);this.pinnedKey='panePinned';this.$element=$(element);this.pinned=localStorage.getItem(this.pinnedKey)==='true';this.active=!1;this.showing=!1;this.render()}
babelHelpers.createClass(Pane,[{key:'enable',value:function enable(){this.active=!0;this.render()}},{key:'disable',value:function disable(){this.active=!1;this.showing=!1;this.render()}},{key:'show',value:function show(){clearTimeout(this.hideTimeout);this.showing=!0;this.render()}},{key:'hide',value:function hide(){this.showing=!1;this.render()}},{key:'onmouseleave',value:function onmouseleave(){this.hideTimeout=setTimeout(this.hide.bind(this),250)}},{key:'togglePinned',value:function togglePinned(){this.pinned=!this.pinned;localStorage.setItem(this.pinnedKey,this.pinned?'true':'false');this.render()}},{key:'render',value:function render(){this.$element.toggleClass('panePinned',this.pinned).toggleClass('hasPane',this.active).toggleClass('paneShowing',this.showing)}}]);return Pane}();_export('default',Pane)}}});'use strict';System.register('flarum/utils/patchMithril',['../Component'],function(_export,_context){"use strict";var Component;function patchMithril(global){var mo=global.m;var m=function m(comp){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}
if(comp.prototype&&comp.prototype instanceof Component){return comp.component.apply(comp,args)}
var node=mo.apply(this,arguments);if(node.attrs.bidi){m.bidi(node,node.attrs.bidi)}
if(node.attrs.route){node.attrs.href=node.attrs.route;node.attrs.config=m.route;delete node.attrs.route}
return node};Object.keys(mo).forEach(function(key){return m[key]=mo[key]});m.lazyRedraw=function(){m.startComputation();m.endComputation()};global.m=m}
_export('default',patchMithril);return{setters:[function(_Component){Component=_Component.default}],execute:function(){}}});'use strict';System.register('flarum/utils/PostControls',['flarum/components/EditPostComposer','flarum/components/Button','flarum/components/Separator','flarum/utils/ItemList'],function(_export,_context){"use strict";var EditPostComposer,Button,Separator,ItemList;return{setters:[function(_flarumComponentsEditPostComposer){EditPostComposer=_flarumComponentsEditPostComposer.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){_export('default',{controls:function controls(post,context){var _this=this;var items=new ItemList();['user','moderation','destructive'].forEach(function(section){var controls=_this[section+'Controls'](post,context).toArray();if(controls.length){controls.forEach(function(item){return items.add(item.itemName,item)});items.add(section+'Separator',Separator.component())}});return items},userControls:function userControls(post,context){return new ItemList()},moderationControls:function moderationControls(post,context){var items=new ItemList();if(post.contentType()==='comment'&&post.canEdit()){if(!post.isHidden()){items.add('edit',Button.component({icon:'pencil',children:app.translator.trans('core.forum.post_controls.edit_button'),onclick:this.editAction.bind(post)}))}}
return items},destructiveControls:function destructiveControls(post,context){var items=new ItemList();if(post.contentType()==='comment'&&!post.isHidden()){if(post.canEdit()){items.add('hide',Button.component({icon:'trash-o',children:app.translator.trans('core.forum.post_controls.delete_button'),onclick:this.hideAction.bind(post)}))}}else{if(post.contentType()==='comment'&&post.canEdit()){items.add('restore',Button.component({icon:'reply',children:app.translator.trans('core.forum.post_controls.restore_button'),onclick:this.restoreAction.bind(post)}))}
if(post.canDelete()){items.add('delete',Button.component({icon:'times',children:app.translator.trans('core.forum.post_controls.delete_forever_button'),onclick:this.deleteAction.bind(post,context)}))}}
return items},editAction:function editAction(){app.composer.load(new EditPostComposer({post:this}));app.composer.show()},hideAction:function hideAction(){this.pushAttributes({hideTime:new Date(),hideUser:app.session.user});return this.save({isHidden:!0}).then(function(){return m.redraw()})},restoreAction:function restoreAction(){this.pushAttributes({hideTime:null,hideUser:null});return this.save({isHidden:!1}).then(function(){return m.redraw()})},deleteAction:function deleteAction(context){var _this2=this;if(context)context.loading=!0;return this.delete().then(function(){var discussion=_this2.discussion();discussion.removePost(_this2.id());if(!discussion.postIds().length){if(app.cache.discussionList){app.cache.discussionList.removeDiscussion(discussion)}
if(app.viewingDiscussion(discussion)){app.history.back()}}}).catch(function(){}).then(function(){if(context)context.loading=!1;m.redraw()})}})}}});"use strict";System.register("flarum/utils/RequestError",[],function(_export,_context){"use strict";var RequestError;return{setters:[],execute:function(){RequestError=function RequestError(status,responseText,options,xhr){babelHelpers.classCallCheck(this,RequestError);this.status=status;this.responseText=responseText;this.options=options;this.xhr=xhr;try{this.response=JSON.parse(responseText)}catch(e){this.response=null}
this.alert=null};_export("default",RequestError)}}});"use strict";System.register("flarum/utils/ScrollListener",[],function(_export,_context){"use strict";var scroll,ScrollListener;return{setters:[],execute:function(){scroll=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)};ScrollListener=function(){function ScrollListener(callback){babelHelpers.classCallCheck(this,ScrollListener);this.callback=callback;this.lastTop=-1}
babelHelpers.createClass(ScrollListener,[{key:"loop",value:function loop(){if(!this.active)return;this.update();scroll(this.loop.bind(this))}},{key:"update",value:function update(force){var top=window.pageYOffset;if(this.lastTop!==top||force){this.callback(top);this.lastTop=top}}},{key:"start",value:function start(){if(!this.active){this.active=!0;this.loop()}}},{key:"stop",value:function stop(){this.active=!1}}]);return ScrollListener}();_export("default",ScrollListener)}}});'use strict';System.register('flarum/utils/slidable',[],function(_export,_context){"use strict";function slidable(element){var $element=$(element);var threshold=50;var $underneathLeft=void 0;var $underneathRight=void 0;var startX=void 0;var startY=void 0;var couldBeSliding=!1;var isSliding=!1;var pos=0;var animatePos=function animatePos(newPos){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};options.duration=options.duration||'fast';options.step=function(x){$(this).css('transform','translate('+x+'px, 0)')};$element.find('.Slidable-content').animate({'background-position-x':newPos},options)};var reset=function reset(){animatePos(0,{complete:function complete(){$element.removeClass('sliding');$underneathLeft.hide();$underneathRight.hide();isSliding=!1}})};$element.find('.Slidable-content').on('touchstart',function(e){$underneathLeft=$element.find('.Slidable-underneath--left:not(.disabled)');$underneathRight=$element.find('.Slidable-underneath--right:not(.disabled)');startX=e.originalEvent.targetTouches[0].clientX;startY=e.originalEvent.targetTouches[0].clientY;couldBeSliding=!0;pos=0}).on('touchmove',function(e){var newX=e.originalEvent.targetTouches[0].clientX;var newY=e.originalEvent.targetTouches[0].clientY;if(couldBeSliding&&Math.abs(newX-startX)>Math.abs(newY-startY)){isSliding=!0}
couldBeSliding=!1;if(isSliding){pos=newX-startX;var toggle=function toggle($underneath,side){if($underneath.length){var active=side==='left'?pos>0:pos<0;if(active&&$underneath.hasClass('Slidable-underneath--elastic')){pos-=pos*0.5}
$underneath.toggle(active);var scale=Math.max(0,Math.min(1,(Math.abs(pos)-25)/threshold));$underneath.find('.icon').css('transform','scale('+scale+')')}else{pos=Math[side==='left'?'min':'max'](0,pos)}};toggle($underneathLeft,'left');toggle($underneathRight,'right');$(this).css('transform','translate('+pos+'px, 0)');$(this).css('background-position-x',pos+'px');$element.toggleClass('sliding',!!pos);e.preventDefault()}}).on('touchend',function(){var activate=function activate($underneath){$underneath.click();if($underneath.hasClass('Slidable-underneath--elastic')){reset()}else{animatePos((pos>0?1:-1)*$element.width())}};if($underneathRight.length&&pos<-threshold){activate($underneathRight)}else if($underneathLeft.length&&pos>threshold){activate($underneathLeft)}else{reset()}
couldBeSliding=!1;isSliding=!1});return{reset:reset}}
_export('default',slidable);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/string',[],function(_export,_context){"use strict";function truncate(string,length){var start=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return(start>0?'...':'')+string.substring(start,start+length)+(string.length>start+length?'...':'')}
_export('truncate',truncate);function slug(string){return string.toLowerCase().replace(/[^a-z0-9]/gi,'-').replace(/-+/g,'-').replace(/-$|^-/g,'')||'-'}
_export('slug',slug);function getPlainContent(string){var html=string.replace(/(<\/p>|<br>)/g,'$1 &nbsp;').replace(/<img\b[^>]*>/ig,' ');var dom=$('<div/>').html(html);dom.find(getPlainContent.removeSelectors.join(',')).remove();return dom.text().replace(/\s+/g,' ').trim()}
_export('getPlainContent',getPlainContent);function ucfirst(string){return string.substr(0,1).toUpperCase()+string.substr(1)}
_export('ucfirst',ucfirst);return{setters:[],execute:function(){getPlainContent.removeSelectors=['blockquote','script']}}});'use strict';System.register('flarum/utils/stringToColor',[],function(_export,_context){"use strict";function hsvToRgb(h,s,v){var r=void 0;var g=void 0;var b=void 0;var i=Math.floor(h*6);var f=h*6-i;var p=v*(1-s);var q=v*(1-f*s);var t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break}
return{r:Math.floor(r*255),g:Math.floor(g*255),b:Math.floor(b*255)}}
function stringToColor(string){var num=0;for(var i=0;i<string.length;i++){num+=string.charCodeAt(i)}
var hue=num%360;var rgb=hsvToRgb(hue/360,0.3,0.9);return''+rgb.r.toString(16)+rgb.g.toString(16)+rgb.b.toString(16)}
_export('default',stringToColor);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/utils/SubtreeRetainer',[],function(_export,_context){"use strict";var SubtreeRetainer;return{setters:[],execute:function(){SubtreeRetainer=function(){function SubtreeRetainer(){babelHelpers.classCallCheck(this,SubtreeRetainer);for(var _len=arguments.length,callbacks=Array(_len),_key=0;_key<_len;_key++){callbacks[_key]=arguments[_key]}
this.callbacks=callbacks;this.data={}}
babelHelpers.createClass(SubtreeRetainer,[{key:'retain',value:function retain(){var _this=this;var needsRebuild=!1;this.callbacks.forEach(function(callback,i){var result=callback();if(result!==_this.data[i]){_this.data[i]=result;needsRebuild=!0}});return needsRebuild?!1:{subtree:'retain'}}},{key:'check',value:function check(){for(var _len2=arguments.length,callbacks=Array(_len2),_key2=0;_key2<_len2;_key2++){callbacks[_key2]=arguments[_key2]}
this.callbacks=this.callbacks.concat(callbacks)}},{key:'invalidate',value:function invalidate(){this.data={}}}]);return SubtreeRetainer}();_export('default',SubtreeRetainer)}}});'use strict';System.register('flarum/utils/UserControls',['flarum/components/Button','flarum/components/Separator','flarum/components/EditUserModal','flarum/components/UserPage','flarum/utils/ItemList'],function(_export,_context){"use strict";var Button,Separator,EditUserModal,UserPage,ItemList;return{setters:[function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumComponentsEditUserModal){EditUserModal=_flarumComponentsEditUserModal.default},function(_flarumComponentsUserPage){UserPage=_flarumComponentsUserPage.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){_export('default',{controls:function controls(user,context){var _this=this;var items=new ItemList();['user','moderation','destructive'].forEach(function(section){var controls=_this[section+'Controls'](user,context).toArray();if(controls.length){controls.forEach(function(item){return items.add(item.itemName,item)});items.add(section+'Separator',Separator.component())}});return items},userControls:function userControls(){return new ItemList()},moderationControls:function moderationControls(user){var items=new ItemList();if(user.canEdit()){items.add('edit',Button.component({icon:'pencil',children:app.translator.trans('core.forum.user_controls.edit_button'),onclick:this.editAction.bind(user)}))}
return items},destructiveControls:function destructiveControls(user){var items=new ItemList();if(user.id()!=='1'&&user.canDelete()){items.add('delete',Button.component({icon:'times',children:app.translator.trans('core.forum.user_controls.delete_button'),onclick:this.deleteAction.bind(user)}))}
return items},deleteAction:function deleteAction(){var _this2=this;if(confirm(app.translator.trans('core.forum.user_controls.delete_confirmation'))){this.delete().then(function(){if(app.current instanceof UserPage&&app.current.user===_this2){app.history.back()}else{window.location.reload()}})}},editAction:function editAction(){app.modal.show(new EditUserModal({user:this}))}})}}});
'use strict';System.register('flarum/approval/main',['flarum/extend','flarum/app','flarum/models/Discussion','flarum/models/Post','flarum/components/Badge','flarum/components/DiscussionListItem','flarum/components/Post','flarum/components/CommentPost','flarum/components/Button','flarum/utils/PostControls'],function(_export,_context){"use strict";var extend,override,app,Discussion,Post,Badge,DiscussionListItem,PostComponent,CommentPost,Button,PostControls;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend;override=_flarumExtend.override},function(_flarumApp){app=_flarumApp.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumModelsPost){Post=_flarumModelsPost.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default},function(_flarumComponentsDiscussionListItem){DiscussionListItem=_flarumComponentsDiscussionListItem.default},function(_flarumComponentsPost){PostComponent=_flarumComponentsPost.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumUtilsPostControls){PostControls=_flarumUtilsPostControls.default}],execute:function(){app.initializers.add('flarum-approval',function(){Discussion.prototype.isApproved=Discussion.attribute('isApproved');extend(Discussion.prototype,'badges',function(items){if(!this.isApproved()&&!items.has('hidden')){items.add('awaitingApproval',m(Badge,{type:'awaitingApproval',icon:'gavel',label:app.translator.trans('flarum-approval.forum.badge.awaiting_approval_tooltip')}))}});Post.prototype.isApproved=Post.attribute('isApproved');Post.prototype.canApprove=Post.attribute('canApprove');extend(DiscussionListItem.prototype,'attrs',function(attrs){if(!this.props.discussion.isApproved()){attrs.className+=' DiscussionListItem--unapproved'}});extend(PostComponent.prototype,'attrs',function(attrs){if(!this.props.post.isApproved()){attrs.className+=' Post--unapproved'}});extend(CommentPost.prototype,'headerItems',function(items){if(!this.props.post.isApproved()&&!this.props.post.isHidden()){items.add('unapproved',app.translator.trans('flarum-approval.forum.post.awaiting_approval_text'))}});override(PostComponent.prototype,'flagReason',function(original,flag){if(flag.type()==='approval'){return app.translator.trans('flarum-approval.forum.post.awaiting_approval_text')}
return original(flag)});extend(PostControls,'destructiveControls',function(items,post){if(!post.isApproved()&&post.canApprove()){items.add('approve',m(Button,{icon:'check',onclick:PostControls.approveAction.bind(post)},app.translator.trans('flarum-approval.forum.post_controls.approve_button')),10)}});PostControls.approveAction=function(){this.save({isApproved:!0});if(this.number()===1){this.discussion().pushAttributes({isApproved:!0})}}},-10)}}});
(function(){var properties=['direction','boxSizing','width','height','overflowX','overflowY','borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth','borderStyle','paddingTop','paddingRight','paddingBottom','paddingLeft','fontStyle','fontVariant','fontWeight','fontStretch','fontSize','fontSizeAdjust','lineHeight','fontFamily','textAlign','textTransform','textIndent','textDecoration','letterSpacing','wordSpacing','tabSize','MozTabSize'];var isBrowser=(typeof window!=='undefined');var isFirefox=(isBrowser&&window.mozInnerScreenX!=null);function getCaretCoordinates(element,position,options){if(!isBrowser){throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser')}
var debug=options&&options.debug||!1;if(debug){var el=document.querySelector('#input-textarea-caret-position-mirror-div');if(el){el.parentNode.removeChild(el)}}
var div=document.createElement('div');div.id='input-textarea-caret-position-mirror-div';document.body.appendChild(div);var style=div.style;var computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace='pre-wrap';if(element.nodeName!=='INPUT')
style.wordWrap='break-word';style.position='absolute';if(!debug)
style.visibility='hidden';properties.forEach(function(prop){style[prop]=computed[prop]});if(isFirefox){if(element.scrollHeight>parseInt(computed.height))
style.overflowY='scroll'}else{style.overflow='hidden'}
div.textContent=element.value.substring(0,position);if(element.nodeName==='INPUT')
div.textContent=div.textContent.replace(/\s/g,'\u00a0');var span=document.createElement('span');span.textContent=element.value.substring(position)||'.';div.appendChild(span);var coordinates={top:span.offsetTop+parseInt(computed.borderTopWidth),left:span.offsetLeft+parseInt(computed.borderLeftWidth)};if(debug){span.style.backgroundColor='#aaa'}else{document.body.removeChild(div)}
return coordinates}
if(typeof module!='undefined'&&typeof module.exports!='undefined'){module.exports=getCaretCoordinates}else if(isBrowser){window.getCaretCoordinates=getCaretCoordinates}}());'use strict';System.register('flarum/emoji/addComposerAutocomplete',['flarum/extend','flarum/components/ComposerBody','flarum/emoji/helpers/emojiMap','flarum/utils/KeyboardNavigatable','flarum/emoji/components/AutocompleteDropdown'],function(_export,_context){"use strict";var extend,ComposerBody,emojiMap,KeyboardNavigatable,AutocompleteDropdown;function addComposerAutocomplete(){var emojiKeys=Object.keys(emojiMap);extend(ComposerBody.prototype,'config',function(original,isInitialized){if(isInitialized)return;var composer=this;var $container=$('<div class="ComposerBody-emojiDropdownContainer"></div>');var dropdown=new AutocompleteDropdown({items:[]});var $textarea=this.$('textarea').wrap('<div class="ComposerBody-emojiWrapper"></div>');var emojiStart=void 0;var typed=void 0;var applySuggestion=function applySuggestion(replacement){var insert=replacement+' ';var content=composer.content();composer.editor.setValue(content.substring(0,emojiStart-1)+insert+content.substr($textarea[0].selectionStart));var index=emojiStart-1+insert.length;composer.editor.setSelectionRange(index,index);dropdown.hide()};this.navigator=new KeyboardNavigatable();this.navigator.when(function(){return dropdown.active}).onUp(function(){return dropdown.navigate(-1)}).onDown(function(){return dropdown.navigate(1)}).onSelect(dropdown.complete.bind(dropdown)).onCancel(dropdown.hide.bind(dropdown)).bindTo($textarea);$textarea.after($container).on('click keyup',function(e){var _this=this;if([9,13,27,40,38,37,39].indexOf(e.which)!==-1)return;var cursor=this.selectionStart;if(this.selectionEnd-cursor>0)return;var value=this.value;emojiStart=0;for(var i=cursor-1;i>=0;i--){var character=value.substr(i,1);if(!/[a-z0-9]|\+|\-|_|\:/.test(character))break;if(character===':'&&(i==0||/\s/.test(value.substr(i-1,1)))){emojiStart=i+1;break}}
dropdown.hide();dropdown.active=!1;if(emojiStart){(function(){typed=value.substring(emojiStart,cursor).toLowerCase();var makeSuggestion=function makeSuggestion(key){var code=':'+key+':';var imageName=emojiMap[key];return m('button',{key:key,onclick:function onclick(){return applySuggestion(code)},onmouseenter:function onmouseenter(){dropdown.setIndex($(this).parent().index())}},m('img',{alt:code,'class':'emoji',draggable:'false',src:'//cdn.jsdelivr.net/emojione/assets/png/'+imageName+'.png'}),key)};var buildSuggestions=function buildSuggestions(){var suggestions=[];var similarEmoji=[];var fuzzyRegexp=function fuzzyRegexp(str){var reEscape=new RegExp('\\((['+'+.*?[]{}()^$|\\'.replace(/(.)/g,'\\$1')+'])\\)','g');return new RegExp('(.*)'+str.toLowerCase().replace(/(.)/g,'($1)(.*?)').replace(reEscape,'(\\$1)')+'$','i')};var regTyped=fuzzyRegexp(typed);var maxSuggestions=7;var findMatchingEmojis=function findMatchingEmojis(matcher){for(var _i=0;_i<emojiKeys.length&&maxSuggestions>0;_i++){var curEmoji=emojiKeys[_i];if(matcher(curEmoji)&&similarEmoji.indexOf(curEmoji)===-1){--maxSuggestions;similarEmoji.push(emojiKeys[_i])}}};findMatchingEmojis(function(emoji){return emoji.indexOf(typed)===0});findMatchingEmojis(function(emoji){return regTyped.test(emoji)});similarEmoji=similarEmoji.sort(function(a,b){return a.length-b.length});var _iteratorNormalCompletion=!0;var _didIteratorError=!1;var _iteratorError=undefined;try{for(var _iterator=similarEmoji[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;suggestions.push(makeSuggestion(key))}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}
if(suggestions.length){dropdown.props.items=suggestions;m.render($container[0],dropdown.render());dropdown.show();var coordinates=getCaretCoordinates(_this,emojiStart);var width=dropdown.$().outerWidth();var height=dropdown.$().outerHeight();var parent=dropdown.$().offsetParent();var left=coordinates.left;var top=coordinates.top+15;if(top+height>parent.height()){top=coordinates.top-height-15}
if(left+width>parent.width()){left=parent.width()-width}
dropdown.show(left,top)}};buildSuggestions();dropdown.setIndex(0);dropdown.$().scrollTop(0);dropdown.active=!0})()}})})}
_export('default',addComposerAutocomplete);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsComposerBody){ComposerBody=_flarumComponentsComposerBody.default},function(_flarumEmojiHelpersEmojiMap){emojiMap=_flarumEmojiHelpersEmojiMap.default},function(_flarumUtilsKeyboardNavigatable){KeyboardNavigatable=_flarumUtilsKeyboardNavigatable.default},function(_flarumEmojiComponentsAutocompleteDropdown){AutocompleteDropdown=_flarumEmojiComponentsAutocompleteDropdown.default}],execute:function(){}}});'use strict';System.register('flarum/emoji/components/AutocompleteDropdown',['flarum/Component'],function(_export,_context){"use strict";var Component,AutocompleteDropdown;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){AutocompleteDropdown=function(_Component){babelHelpers.inherits(AutocompleteDropdown,_Component);function AutocompleteDropdown(){babelHelpers.classCallCheck(this,AutocompleteDropdown);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AutocompleteDropdown).apply(this,arguments))}
babelHelpers.createClass(AutocompleteDropdown,[{key:'init',value:function init(){this.active=!1;this.index=0;this.keyWasJustPressed=!1}},{key:'view',value:function view(){return m('ul',{className:'Dropdown-menu EmojiDropdown'},this.props.items.map(function(item){return m('li',{key:item.attrs.key},item)}))}},{key:'show',value:function show(left,top){this.$().show().css({left:left+'px',top:top+'px'});this.active=!0}},{key:'hide',value:function hide(){this.$().hide();this.active=!1}},{key:'navigate',value:function navigate(delta){var _this2=this;this.keyWasJustPressed=!0;this.setIndex(this.index+delta,!0);clearTimeout(this.keyWasJustPressedTimeout);this.keyWasJustPressedTimeout=setTimeout(function(){return _this2.keyWasJustPressed=!1},500)}},{key:'complete',value:function complete(){this.$('li').eq(this.index).find('button').click()}},{key:'setIndex',value:function setIndex(index,scrollToItem){if(this.keyWasJustPressed&&!scrollToItem)return;var $dropdown=this.$();var $items=$dropdown.find('li');var rangedIndex=index;if(rangedIndex<0){rangedIndex=$items.length-1}else if(rangedIndex>=$items.length){rangedIndex=0}
this.index=rangedIndex;var $item=$items.removeClass('active').eq(rangedIndex).addClass('active');if(scrollToItem){var dropdownScroll=$dropdown.scrollTop();var dropdownTop=$dropdown.offset().top;var dropdownBottom=dropdownTop+$dropdown.outerHeight();var itemTop=$item.offset().top;var itemBottom=itemTop+$item.outerHeight();var scrollTop=void 0;if(itemTop<dropdownTop){scrollTop=dropdownScroll-dropdownTop+itemTop-parseInt($dropdown.css('padding-top'),10)}else if(itemBottom>dropdownBottom){scrollTop=dropdownScroll-dropdownBottom+itemBottom+parseInt($dropdown.css('padding-bottom'),10)}
if(typeof scrollTop!=='undefined'){$dropdown.stop(!0).animate({scrollTop:scrollTop},100)}}}}]);return AutocompleteDropdown}(Component);_export('default',AutocompleteDropdown)}}});'use strict';System.register('flarum/emoji/helpers/emojiMap',[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export('default',{'hash':'0023-20e3','zero':'0030-20e3','one':'0031-20e3','two':'0032-20e3','three':'0033-20e3','four':'0034-20e3','five':'0035-20e3','six':'0036-20e3','seven':'0037-20e3','eight':'0038-20e3','nine':'0039-20e3','copyright':'00a9','registered':'00ae','bangbang':'203c','interrobang':'2049','tm':'2122','information_source':'2139','left_right_arrow':'2194','arrow_up_down':'2195','arrow_upper_left':'2196','arrow_upper_right':'2197','arrow_lower_right':'2198','arrow_lower_left':'2199','leftwards_arrow_with_hook':'21a9','arrow_right_hook':'21aa','watch':'231a','hourglass':'231b','fast_forward':'23e9','rewind':'23ea','arrow_double_up':'23eb','arrow_double_down':'23ec','alarm_clock':'23f0','hourglass_flowing_sand':'23f3','m':'24c2','black_small_square':'25aa','white_small_square':'25ab','arrow_forward':'25b6','arrow_backward':'25c0','white_medium_square':'25fb','black_medium_square':'25fc','white_medium_small_square':'25fd','black_medium_small_square':'25fe','sunny':'2600','cloud':'2601','telephone':'260e','ballot_box_with_check':'2611','umbrella':'2614','coffee':'2615','point_up':'261d','relaxed':'263a','aries':'2648','taurus':'2649','gemini':'264a','cancer':'264b','leo':'264c','virgo':'264d','libra':'264e','scorpius':'264f','sagittarius':'2650','capricorn':'2651','aquarius':'2652','pisces':'2653','spades':'2660','clubs':'2663','hearts':'2665','diamonds':'2666','hotsprings':'2668','recycle':'267b','wheelchair':'267f','anchor':'2693','warning':'26a0','zap':'26a1','white_circle':'26aa','black_circle':'26ab','soccer':'26bd','baseball':'26be','snowman':'26c4','partly_sunny':'26c5','ophiuchus':'26ce','no_entry':'26d4','church':'26ea','fountain':'26f2','golf':'26f3','sailboat':'26f5','tent':'26fa','fuelpump':'26fd','scissors':'2702','white_check_mark':'2705','airplane':'2708','envelope':'2709','fist':'270a','raised_hand':'270b','v':'270c','pencil2':'270f','black_nib':'2712','heavy_check_mark':'2714','heavy_multiplication_x':'2716','sparkles':'2728','eight_spoked_asterisk':'2733','eight_pointed_black_star':'2734','snowflake':'2744','sparkle':'2747','x':'274c','negative_squared_cross_mark':'274e','question':'2753','grey_question':'2754','grey_exclamation':'2755','exclamation':'2757','heart':'2764','heavy_plus_sign':'2795','heavy_minus_sign':'2796','heavy_division_sign':'2797','arrow_right':'27a1','curly_loop':'27b0','arrow_heading_up':'2934','arrow_heading_down':'2935','arrow_left':'2b05','arrow_up':'2b06','arrow_down':'2b07','black_large_square':'2b1b','white_large_square':'2b1c','star':'2b50','o':'2b55','wavy_dash':'3030','part_alternation_mark':'303d','congratulations':'3297','secret':'3299','mahjong':'1f004','black_joker':'1f0cf','a':'1f170','b':'1f171','o2':'1f17e','parking':'1f17f','ab':'1f18e','cl':'1f191','cool':'1f192','free':'1f193','id':'1f194','new':'1f195','ng':'1f196','ok':'1f197','sos':'1f198','up':'1f199','vs':'1f19a','flag_cn':'1f1e8-1f1f3','cn':'1f1e8-1f1f3','flag_de':'1f1e9-1f1ea','de':'1f1e9-1f1ea','flag_es':'1f1ea-1f1f8','es':'1f1ea-1f1f8','flag_fr':'1f1eb-1f1f7','fr':'1f1eb-1f1f7','flag_gb':'1f1ec-1f1e7','gb':'1f1ec-1f1e7','flag_it':'1f1ee-1f1f9','it':'1f1ee-1f1f9','flag_jp':'1f1ef-1f1f5','jp':'1f1ef-1f1f5','flag_kr':'1f1f0-1f1f7','kr':'1f1f0-1f1f7','flag_us':'1f1fa-1f1f8','us':'1f1fa-1f1f8','flag_ru':'1f1f7-1f1fa','ru':'1f1f7-1f1fa','koko':'1f201','sa':'1f202','u7121':'1f21a','u6307':'1f22f','u7981':'1f232','u7a7a':'1f233','u5408':'1f234','u6e80':'1f235','u6709':'1f236','u6708':'1f237','u7533':'1f238','u5272':'1f239','u55b6':'1f23a','ideograph_advantage':'1f250','accept':'1f251','cyclone':'1f300','foggy':'1f301','closed_umbrella':'1f302','night_with_stars':'1f303','sunrise_over_mountains':'1f304','sunrise':'1f305','city_dusk':'1f306','city_sunset':'1f307','city_sunrise':'1f307','rainbow':'1f308','bridge_at_night':'1f309','ocean':'1f30a','volcano':'1f30b','milky_way':'1f30c','earth_asia':'1f30f','new_moon':'1f311','first_quarter_moon':'1f313','waxing_gibbous_moon':'1f314','full_moon':'1f315','crescent_moon':'1f319','first_quarter_moon_with_face':'1f31b','star2':'1f31f','stars':'1f320','chestnut':'1f330','seedling':'1f331','palm_tree':'1f334','cactus':'1f335','tulip':'1f337','cherry_blossom':'1f338','rose':'1f339','hibiscus':'1f33a','sunflower':'1f33b','blossom':'1f33c','corn':'1f33d','ear_of_rice':'1f33e','herb':'1f33f','four_leaf_clover':'1f340','maple_leaf':'1f341','fallen_leaf':'1f342','leaves':'1f343','mushroom':'1f344','tomato':'1f345','eggplant':'1f346','grapes':'1f347','melon':'1f348','watermelon':'1f349','tangerine':'1f34a','banana':'1f34c','pineapple':'1f34d','apple':'1f34e','green_apple':'1f34f','peach':'1f351','cherries':'1f352','strawberry':'1f353','hamburger':'1f354','pizza':'1f355','meat_on_bone':'1f356','poultry_leg':'1f357','rice_cracker':'1f358','rice_ball':'1f359','rice':'1f35a','curry':'1f35b','ramen':'1f35c','spaghetti':'1f35d','bread':'1f35e','fries':'1f35f','sweet_potato':'1f360','dango':'1f361','oden':'1f362','sushi':'1f363','fried_shrimp':'1f364','fish_cake':'1f365','icecream':'1f366','shaved_ice':'1f367','ice_cream':'1f368','doughnut':'1f369','cookie':'1f36a','chocolate_bar':'1f36b','candy':'1f36c','lollipop':'1f36d','custard':'1f36e','pudding':'1f36e','flan':'1f36e','honey_pot':'1f36f','cake':'1f370','bento':'1f371','stew':'1f372','egg':'1f373','fork_and_knife':'1f374','tea':'1f375','sake':'1f376','wine_glass':'1f377','cocktail':'1f378','tropical_drink':'1f379','beer':'1f37a','beers':'1f37b','ribbon':'1f380','gift':'1f381','birthday':'1f382','jack_o_lantern':'1f383','christmas_tree':'1f384','santa':'1f385','fireworks':'1f386','sparkler':'1f387','balloon':'1f388','tada':'1f389','confetti_ball':'1f38a','tanabata_tree':'1f38b','crossed_flags':'1f38c','bamboo':'1f38d','dolls':'1f38e','flags':'1f38f','wind_chime':'1f390','rice_scene':'1f391','school_satchel':'1f392','mortar_board':'1f393','carousel_horse':'1f3a0','ferris_wheel':'1f3a1','roller_coaster':'1f3a2','fishing_pole_and_fish':'1f3a3','microphone':'1f3a4','movie_camera':'1f3a5','cinema':'1f3a6','headphones':'1f3a7','art':'1f3a8','tophat':'1f3a9','circus_tent':'1f3aa','ticket':'1f3ab','clapper':'1f3ac','performing_arts':'1f3ad','video_game':'1f3ae','dart':'1f3af','slot_machine':'1f3b0','8ball':'1f3b1','game_die':'1f3b2','bowling':'1f3b3','flower_playing_cards':'1f3b4','musical_note':'1f3b5','notes':'1f3b6','saxophone':'1f3b7','guitar':'1f3b8','musical_keyboard':'1f3b9','trumpet':'1f3ba','violin':'1f3bb','musical_score':'1f3bc','running_shirt_with_sash':'1f3bd','tennis':'1f3be','ski':'1f3bf','basketball':'1f3c0','checkered_flag':'1f3c1','snowboarder':'1f3c2','runner':'1f3c3','surfer':'1f3c4','trophy':'1f3c6','football':'1f3c8','swimmer':'1f3ca','house':'1f3e0','house_with_garden':'1f3e1','office':'1f3e2','post_office':'1f3e3','hospital':'1f3e5','bank':'1f3e6','atm':'1f3e7','hotel':'1f3e8','love_hotel':'1f3e9','convenience_store':'1f3ea','school':'1f3eb','department_store':'1f3ec','factory':'1f3ed','izakaya_lantern':'1f3ee','japanese_castle':'1f3ef','european_castle':'1f3f0','snail':'1f40c','snake':'1f40d','racehorse':'1f40e','sheep':'1f411','monkey':'1f412','chicken':'1f414','boar':'1f417','elephant':'1f418','octopus':'1f419','shell':'1f41a','bug':'1f41b','ant':'1f41c','bee':'1f41d','beetle':'1f41e','fish':'1f41f','tropical_fish':'1f420','blowfish':'1f421','turtle':'1f422','hatching_chick':'1f423','baby_chick':'1f424','hatched_chick':'1f425','bird':'1f426','penguin':'1f427','koala':'1f428','poodle':'1f429','camel':'1f42b','dolphin':'1f42c','mouse':'1f42d','cow':'1f42e','tiger':'1f42f','rabbit':'1f430','cat':'1f431','dragon_face':'1f432','whale':'1f433','horse':'1f434','monkey_face':'1f435','dog':'1f436','pig':'1f437','frog':'1f438','hamster':'1f439','wolf':'1f43a','bear':'1f43b','panda_face':'1f43c','pig_nose':'1f43d','feet':'1f43e','paw_prints':'1f43e','eyes':'1f440','ear':'1f442','nose':'1f443','lips':'1f444','tongue':'1f445','point_up_2':'1f446','point_down':'1f447','point_left':'1f448','point_right':'1f449','punch':'1f44a','wave':'1f44b','ok_hand':'1f44c','thumbsup':'1f44d','+1':'1f44d','thumbup':'1f44d','thumbsdown':'1f44e','-1':'1f44e','thumbdown':'1f44e','clap':'1f44f','open_hands':'1f450','crown':'1f451','womans_hat':'1f452','eyeglasses':'1f453','necktie':'1f454','shirt':'1f455','jeans':'1f456','dress':'1f457','kimono':'1f458','bikini':'1f459','womans_clothes':'1f45a','purse':'1f45b','handbag':'1f45c','pouch':'1f45d','mans_shoe':'1f45e','athletic_shoe':'1f45f','high_heel':'1f460','sandal':'1f461','boot':'1f462','footprints':'1f463','bust_in_silhouette':'1f464','boy':'1f466','girl':'1f467','man':'1f468','woman':'1f469','family':'1f46a','couple':'1f46b','cop':'1f46e','dancers':'1f46f','bride_with_veil':'1f470','person_with_blond_hair':'1f471','man_with_gua_pi_mao':'1f472','man_with_turban':'1f473','older_man':'1f474','older_woman':'1f475','grandma':'1f475','baby':'1f476','construction_worker':'1f477','princess':'1f478','japanese_ogre':'1f479','japanese_goblin':'1f47a','ghost':'1f47b','angel':'1f47c','alien':'1f47d','space_invader':'1f47e','imp':'1f47f','skull':'1f480','skeleton':'1f480','card_index':'1f4c7','information_desk_person':'1f481','guardsman':'1f482','dancer':'1f483','lipstick':'1f484','nail_care':'1f485','ledger':'1f4d2','massage':'1f486','notebook':'1f4d3','haircut':'1f487','notebook_with_decorative_cover':'1f4d4','barber':'1f488','closed_book':'1f4d5','syringe':'1f489','book':'1f4d6','pill':'1f48a','green_book':'1f4d7','kiss':'1f48b','blue_book':'1f4d8','love_letter':'1f48c','orange_book':'1f4d9','ring':'1f48d','books':'1f4da','gem':'1f48e','name_badge':'1f4db','couplekiss':'1f48f','scroll':'1f4dc','bouquet':'1f490','pencil':'1f4dd','couple_with_heart':'1f491','telephone_receiver':'1f4de','wedding':'1f492','pager':'1f4df','fax':'1f4e0','heartbeat':'1f493','satellite':'1f4e1','loudspeaker':'1f4e2','broken_heart':'1f494','mega':'1f4e3','outbox_tray':'1f4e4','two_hearts':'1f495','inbox_tray':'1f4e5','package':'1f4e6','sparkling_heart':'1f496','e-mail':'1f4e7','email':'1f4e7','incoming_envelope':'1f4e8','heartpulse':'1f497','envelope_with_arrow':'1f4e9','mailbox_closed':'1f4ea','cupid':'1f498','mailbox':'1f4eb','postbox':'1f4ee','blue_heart':'1f499','newspaper':'1f4f0','iphone':'1f4f1','green_heart':'1f49a','calling':'1f4f2','vibration_mode':'1f4f3','yellow_heart':'1f49b','mobile_phone_off':'1f4f4','signal_strength':'1f4f6','purple_heart':'1f49c','camera':'1f4f7','video_camera':'1f4f9','gift_heart':'1f49d','tv':'1f4fa','radio':'1f4fb','revolving_hearts':'1f49e','vhs':'1f4fc','arrows_clockwise':'1f503','heart_decoration':'1f49f','loud_sound':'1f50a','battery':'1f50b','diamond_shape_with_a_dot_inside':'1f4a0','electric_plug':'1f50c','mag':'1f50d','bulb':'1f4a1','mag_right':'1f50e','lock_with_ink_pen':'1f50f','anger':'1f4a2','closed_lock_with_key':'1f510','key':'1f511','bomb':'1f4a3','lock':'1f512','unlock':'1f513','zzz':'1f4a4','bell':'1f514','bookmark':'1f516','boom':'1f4a5','link':'1f517','radio_button':'1f518','sweat_drops':'1f4a6','back':'1f519','end':'1f51a','droplet':'1f4a7','on':'1f51b','soon':'1f51c','dash':'1f4a8','top':'1f51d','underage':'1f51e','poop':'1f4a9','shit':'1f4a9','hankey':'1f4a9','poo':'1f4a9','ten':'1f51f','muscle':'1f4aa','capital_abcd':'1f520','abcd':'1f521','dizzy':'1f4ab','1234':'1f522','symbols':'1f523','speech_balloon':'1f4ac','abc':'1f524','fire':'1f525','flame':'1f525','white_flower':'1f4ae','flashlight':'1f526','wrench':'1f527','100':'1f4af','hammer':'1f528','nut_and_bolt':'1f529','moneybag':'1f4b0','knife':'1f52a','gun':'1f52b','currency_exchange':'1f4b1','crystal_ball':'1f52e','heavy_dollar_sign':'1f4b2','six_pointed_star':'1f52f','credit_card':'1f4b3','beginner':'1f530','trident':'1f531','yen':'1f4b4','black_square_button':'1f532','white_square_button':'1f533','dollar':'1f4b5','red_circle':'1f534','large_blue_circle':'1f535','money_with_wings':'1f4b8','large_orange_diamond':'1f536','large_blue_diamond':'1f537','chart':'1f4b9','small_orange_diamond':'1f538','small_blue_diamond':'1f539','seat':'1f4ba','small_red_triangle':'1f53a','small_red_triangle_down':'1f53b','computer':'1f4bb','arrow_up_small':'1f53c','briefcase':'1f4bc','arrow_down_small':'1f53d','clock1':'1f550','minidisc':'1f4bd','clock2':'1f551','floppy_disk':'1f4be','clock3':'1f552','cd':'1f4bf','clock4':'1f553','dvd':'1f4c0','clock5':'1f554','clock6':'1f555','file_folder':'1f4c1','clock7':'1f556','clock8':'1f557','open_file_folder':'1f4c2','clock9':'1f558','clock10':'1f559','page_with_curl':'1f4c3','clock11':'1f55a','clock12':'1f55b','page_facing_up':'1f4c4','mount_fuji':'1f5fb','tokyo_tower':'1f5fc','date':'1f4c5','statue_of_liberty':'1f5fd','japan':'1f5fe','calendar':'1f4c6','moyai':'1f5ff','grin':'1f601','joy':'1f602','smiley':'1f603','chart_with_upwards_trend':'1f4c8','smile':'1f604','sweat_smile':'1f605','chart_with_downwards_trend':'1f4c9','laughing':'1f606','satisfied':'1f606','wink':'1f609','bar_chart':'1f4ca','blush':'1f60a','yum':'1f60b','clipboard':'1f4cb','relieved':'1f60c','heart_eyes':'1f60d','pushpin':'1f4cc','smirk':'1f60f','unamused':'1f612','round_pushpin':'1f4cd','sweat':'1f613','pensive':'1f614','paperclip':'1f4ce','confounded':'1f616','kissing_heart':'1f618','straight_ruler':'1f4cf','kissing_closed_eyes':'1f61a','stuck_out_tongue_winking_eye':'1f61c','triangular_ruler':'1f4d0','stuck_out_tongue_closed_eyes':'1f61d','disappointed':'1f61e','bookmark_tabs':'1f4d1','angry':'1f620','rage':'1f621','cry':'1f622','persevere':'1f623','triumph':'1f624','disappointed_relieved':'1f625','fearful':'1f628','weary':'1f629','sleepy':'1f62a','tired_face':'1f62b','sob':'1f62d','cold_sweat':'1f630','scream':'1f631','astonished':'1f632','flushed':'1f633','dizzy_face':'1f635','mask':'1f637','smile_cat':'1f638','joy_cat':'1f639','smiley_cat':'1f63a','heart_eyes_cat':'1f63b','smirk_cat':'1f63c','kissing_cat':'1f63d','pouting_cat':'1f63e','crying_cat_face':'1f63f','scream_cat':'1f640','no_good':'1f645','ok_woman':'1f646','bow':'1f647','see_no_evil':'1f648','hear_no_evil':'1f649','speak_no_evil':'1f64a','raising_hand':'1f64b','raised_hands':'1f64c','person_frowning':'1f64d','person_with_pouting_face':'1f64e','pray':'1f64f','rocket':'1f680','railway_car':'1f683','bullettrain_side':'1f684','bullettrain_front':'1f685','metro':'1f687','station':'1f689','bus':'1f68c','busstop':'1f68f','ambulance':'1f691','fire_engine':'1f692','police_car':'1f693','taxi':'1f695','red_car':'1f697','blue_car':'1f699','truck':'1f69a','ship':'1f6a2','speedboat':'1f6a4','traffic_light':'1f6a5','construction':'1f6a7','rotating_light':'1f6a8','triangular_flag_on_post':'1f6a9','door':'1f6aa','no_entry_sign':'1f6ab','smoking':'1f6ac','no_smoking':'1f6ad','bike':'1f6b2','walking':'1f6b6','mens':'1f6b9','womens':'1f6ba','restroom':'1f6bb','baby_symbol':'1f6bc','toilet':'1f6bd','wc':'1f6be','bath':'1f6c0','metal':'1f918','sign_of_the_horns':'1f918','grinning':'1f600','innocent':'1f607','smiling_imp':'1f608','sunglasses':'1f60e','neutral_face':'1f610','expressionless':'1f611','confused':'1f615','kissing':'1f617','kissing_smiling_eyes':'1f619','stuck_out_tongue':'1f61b','worried':'1f61f','frowning':'1f626','anguished':'1f627','grimacing':'1f62c','open_mouth':'1f62e','hushed':'1f62f','sleeping':'1f634','no_mouth':'1f636','helicopter':'1f681','steam_locomotive':'1f682','train2':'1f686','light_rail':'1f688','tram':'1f68a','oncoming_bus':'1f68d','trolleybus':'1f68e','minibus':'1f690','oncoming_police_car':'1f694','oncoming_taxi':'1f696','oncoming_automobile':'1f698','articulated_lorry':'1f69b','tractor':'1f69c','monorail':'1f69d','mountain_railway':'1f69e','suspension_railway':'1f69f','mountain_cableway':'1f6a0','aerial_tramway':'1f6a1','rowboat':'1f6a3','vertical_traffic_light':'1f6a6','put_litter_in_its_place':'1f6ae','do_not_litter':'1f6af','potable_water':'1f6b0','non-potable_water':'1f6b1','no_bicycles':'1f6b3','bicyclist':'1f6b4','mountain_bicyclist':'1f6b5','no_pedestrians':'1f6b7','children_crossing':'1f6b8','shower':'1f6bf','bathtub':'1f6c1','passport_control':'1f6c2','customs':'1f6c3','baggage_claim':'1f6c4','left_luggage':'1f6c5','earth_africa':'1f30d','earth_americas':'1f30e','globe_with_meridians':'1f310','waxing_crescent_moon':'1f312','waning_gibbous_moon':'1f316','last_quarter_moon':'1f317','waning_crescent_moon':'1f318','new_moon_with_face':'1f31a','last_quarter_moon_with_face':'1f31c','full_moon_with_face':'1f31d','sun_with_face':'1f31e','evergreen_tree':'1f332','deciduous_tree':'1f333','lemon':'1f34b','pear':'1f350','baby_bottle':'1f37c','horse_racing':'1f3c7','rugby_football':'1f3c9','european_post_office':'1f3e4','rat':'1f400','mouse2':'1f401','ox':'1f402','water_buffalo':'1f403','cow2':'1f404','tiger2':'1f405','leopard':'1f406','rabbit2':'1f407','cat2':'1f408','dragon':'1f409','crocodile':'1f40a','whale2':'1f40b','ram':'1f40f','goat':'1f410','rooster':'1f413','dog2':'1f415','pig2':'1f416','dromedary_camel':'1f42a','busts_in_silhouette':'1f465','two_men_holding_hands':'1f46c','two_women_holding_hands':'1f46d','thought_balloon':'1f4ad','euro':'1f4b6','pound':'1f4b7','mailbox_with_mail':'1f4ec','mailbox_with_no_mail':'1f4ed','postal_horn':'1f4ef','no_mobile_phones':'1f4f5','twisted_rightwards_arrows':'1f500','repeat':'1f501','repeat_one':'1f502','arrows_counterclockwise':'1f504','low_brightness':'1f505','high_brightness':'1f506','mute':'1f507','sound':'1f509','no_bell':'1f515','microscope':'1f52c','telescope':'1f52d','clock130':'1f55c','clock230':'1f55d','clock330':'1f55e','clock430':'1f55f','clock530':'1f560','clock630':'1f561','clock730':'1f562','clock830':'1f563','clock930':'1f564','clock1030':'1f565','clock1130':'1f566','clock1230':'1f567','speaker':'1f508','train':'1f68b','loop':'27bf','flag_af':'1f1e6-1f1eb','af':'1f1e6-1f1eb','flag_al':'1f1e6-1f1f1','al':'1f1e6-1f1f1','flag_dz':'1f1e9-1f1ff','dz':'1f1e9-1f1ff','flag_ad':'1f1e6-1f1e9','ad':'1f1e6-1f1e9','flag_ao':'1f1e6-1f1f4','ao':'1f1e6-1f1f4','flag_ag':'1f1e6-1f1ec','ag':'1f1e6-1f1ec','flag_ar':'1f1e6-1f1f7','ar':'1f1e6-1f1f7','flag_am':'1f1e6-1f1f2','am':'1f1e6-1f1f2','flag_au':'1f1e6-1f1fa','au':'1f1e6-1f1fa','flag_at':'1f1e6-1f1f9','at':'1f1e6-1f1f9','flag_az':'1f1e6-1f1ff','az':'1f1e6-1f1ff','flag_bs':'1f1e7-1f1f8','bs':'1f1e7-1f1f8','flag_bh':'1f1e7-1f1ed','bh':'1f1e7-1f1ed','flag_bd':'1f1e7-1f1e9','bd':'1f1e7-1f1e9','flag_bb':'1f1e7-1f1e7','bb':'1f1e7-1f1e7','flag_by':'1f1e7-1f1fe','by':'1f1e7-1f1fe','flag_be':'1f1e7-1f1ea','be':'1f1e7-1f1ea','flag_bz':'1f1e7-1f1ff','bz':'1f1e7-1f1ff','flag_bj':'1f1e7-1f1ef','bj':'1f1e7-1f1ef','flag_bt':'1f1e7-1f1f9','bt':'1f1e7-1f1f9','flag_bo':'1f1e7-1f1f4','bo':'1f1e7-1f1f4','flag_ba':'1f1e7-1f1e6','ba':'1f1e7-1f1e6','flag_bw':'1f1e7-1f1fc','bw':'1f1e7-1f1fc','flag_br':'1f1e7-1f1f7','br':'1f1e7-1f1f7','flag_bn':'1f1e7-1f1f3','bn':'1f1e7-1f1f3','flag_bg':'1f1e7-1f1ec','bg':'1f1e7-1f1ec','flag_bf':'1f1e7-1f1eb','bf':'1f1e7-1f1eb','flag_bi':'1f1e7-1f1ee','bi':'1f1e7-1f1ee','flag_kh':'1f1f0-1f1ed','kh':'1f1f0-1f1ed','flag_cm':'1f1e8-1f1f2','cm':'1f1e8-1f1f2','flag_ca':'1f1e8-1f1e6','ca':'1f1e8-1f1e6','flag_cv':'1f1e8-1f1fb','cv':'1f1e8-1f1fb','flag_cf':'1f1e8-1f1eb','cf':'1f1e8-1f1eb','flag_td':'1f1f9-1f1e9','td':'1f1f9-1f1e9','flag_cl':'1f1e8-1f1f1','chile':'1f1e8-1f1f1','flag_co':'1f1e8-1f1f4','co':'1f1e8-1f1f4','flag_km':'1f1f0-1f1f2','km':'1f1f0-1f1f2','flag_cr':'1f1e8-1f1f7','cr':'1f1e8-1f1f7','flag_ci':'1f1e8-1f1ee','ci':'1f1e8-1f1ee','flag_hr':'1f1ed-1f1f7','hr':'1f1ed-1f1f7','flag_cu':'1f1e8-1f1fa','cu':'1f1e8-1f1fa','flag_cy':'1f1e8-1f1fe','cy':'1f1e8-1f1fe','flag_cz':'1f1e8-1f1ff','cz':'1f1e8-1f1ff','flag_cd':'1f1e8-1f1e9','congo':'1f1e8-1f1e9','flag_dk':'1f1e9-1f1f0','dk':'1f1e9-1f1f0','flag_dj':'1f1e9-1f1ef','dj':'1f1e9-1f1ef','flag_dm':'1f1e9-1f1f2','dm':'1f1e9-1f1f2','flag_do':'1f1e9-1f1f4','do':'1f1e9-1f1f4','flag_tl':'1f1f9-1f1f1','tl':'1f1f9-1f1f1','flag_ec':'1f1ea-1f1e8','ec':'1f1ea-1f1e8','flag_eg':'1f1ea-1f1ec','eg':'1f1ea-1f1ec','flag_sv':'1f1f8-1f1fb','sv':'1f1f8-1f1fb','flag_gq':'1f1ec-1f1f6','gq':'1f1ec-1f1f6','flag_er':'1f1ea-1f1f7','er':'1f1ea-1f1f7','flag_ee':'1f1ea-1f1ea','ee':'1f1ea-1f1ea','flag_et':'1f1ea-1f1f9','et':'1f1ea-1f1f9','flag_fj':'1f1eb-1f1ef','fj':'1f1eb-1f1ef','flag_fi':'1f1eb-1f1ee','fi':'1f1eb-1f1ee','flag_ga':'1f1ec-1f1e6','ga':'1f1ec-1f1e6','flag_gm':'1f1ec-1f1f2','gm':'1f1ec-1f1f2','flag_ge':'1f1ec-1f1ea','ge':'1f1ec-1f1ea','flag_gh':'1f1ec-1f1ed','gh':'1f1ec-1f1ed','flag_gr':'1f1ec-1f1f7','gr':'1f1ec-1f1f7','flag_gd':'1f1ec-1f1e9','gd':'1f1ec-1f1e9','flag_gt':'1f1ec-1f1f9','gt':'1f1ec-1f1f9','flag_gn':'1f1ec-1f1f3','gn':'1f1ec-1f1f3','flag_gw':'1f1ec-1f1fc','gw':'1f1ec-1f1fc','flag_gy':'1f1ec-1f1fe','gy':'1f1ec-1f1fe','flag_ht':'1f1ed-1f1f9','ht':'1f1ed-1f1f9','flag_hn':'1f1ed-1f1f3','hn':'1f1ed-1f1f3','flag_hu':'1f1ed-1f1fa','hu':'1f1ed-1f1fa','flag_is':'1f1ee-1f1f8','is':'1f1ee-1f1f8','flag_in':'1f1ee-1f1f3','in':'1f1ee-1f1f3','flag_id':'1f1ee-1f1e9','indonesia':'1f1ee-1f1e9','flag_ir':'1f1ee-1f1f7','ir':'1f1ee-1f1f7','flag_iq':'1f1ee-1f1f6','iq':'1f1ee-1f1f6','flag_ie':'1f1ee-1f1ea','ie':'1f1ee-1f1ea','flag_il':'1f1ee-1f1f1','il':'1f1ee-1f1f1','flag_jm':'1f1ef-1f1f2','jm':'1f1ef-1f1f2','flag_jo':'1f1ef-1f1f4','jo':'1f1ef-1f1f4','flag_kz':'1f1f0-1f1ff','kz':'1f1f0-1f1ff','flag_ke':'1f1f0-1f1ea','ke':'1f1f0-1f1ea','flag_ki':'1f1f0-1f1ee','ki':'1f1f0-1f1ee','flag_xk':'1f1fd-1f1f0','xk':'1f1fd-1f1f0','flag_kw':'1f1f0-1f1fc','kw':'1f1f0-1f1fc','flag_kg':'1f1f0-1f1ec','kg':'1f1f0-1f1ec','flag_la':'1f1f1-1f1e6','la':'1f1f1-1f1e6','flag_lv':'1f1f1-1f1fb','lv':'1f1f1-1f1fb','flag_lb':'1f1f1-1f1e7','lb':'1f1f1-1f1e7','flag_ls':'1f1f1-1f1f8','ls':'1f1f1-1f1f8','flag_lr':'1f1f1-1f1f7','lr':'1f1f1-1f1f7','flag_ly':'1f1f1-1f1fe','ly':'1f1f1-1f1fe','flag_li':'1f1f1-1f1ee','li':'1f1f1-1f1ee','flag_lt':'1f1f1-1f1f9','lt':'1f1f1-1f1f9','flag_lu':'1f1f1-1f1fa','lu':'1f1f1-1f1fa','flag_mk':'1f1f2-1f1f0','mk':'1f1f2-1f1f0','flag_mg':'1f1f2-1f1ec','mg':'1f1f2-1f1ec','flag_mw':'1f1f2-1f1fc','mw':'1f1f2-1f1fc','flag_my':'1f1f2-1f1fe','my':'1f1f2-1f1fe','flag_mv':'1f1f2-1f1fb','mv':'1f1f2-1f1fb','flag_ml':'1f1f2-1f1f1','ml':'1f1f2-1f1f1','flag_mt':'1f1f2-1f1f9','mt':'1f1f2-1f1f9','flag_mh':'1f1f2-1f1ed','mh':'1f1f2-1f1ed','flag_mr':'1f1f2-1f1f7','mr':'1f1f2-1f1f7','flag_mu':'1f1f2-1f1fa','mu':'1f1f2-1f1fa','flag_mx':'1f1f2-1f1fd','mx':'1f1f2-1f1fd','flag_fm':'1f1eb-1f1f2','fm':'1f1eb-1f1f2','flag_md':'1f1f2-1f1e9','md':'1f1f2-1f1e9','flag_mc':'1f1f2-1f1e8','mc':'1f1f2-1f1e8','flag_mn':'1f1f2-1f1f3','mn':'1f1f2-1f1f3','flag_me':'1f1f2-1f1ea','me':'1f1f2-1f1ea','flag_ma':'1f1f2-1f1e6','ma':'1f1f2-1f1e6','flag_mz':'1f1f2-1f1ff','mz':'1f1f2-1f1ff','flag_mm':'1f1f2-1f1f2','mm':'1f1f2-1f1f2','flag_na':'1f1f3-1f1e6','na':'1f1f3-1f1e6','flag_nr':'1f1f3-1f1f7','nr':'1f1f3-1f1f7','flag_np':'1f1f3-1f1f5','np':'1f1f3-1f1f5','flag_nl':'1f1f3-1f1f1','nl':'1f1f3-1f1f1','flag_nz':'1f1f3-1f1ff','nz':'1f1f3-1f1ff','flag_ni':'1f1f3-1f1ee','ni':'1f1f3-1f1ee','flag_ne':'1f1f3-1f1ea','ne':'1f1f3-1f1ea','flag_ng':'1f1f3-1f1ec','nigeria':'1f1f3-1f1ec','flag_kp':'1f1f0-1f1f5','kp':'1f1f0-1f1f5','flag_no':'1f1f3-1f1f4','no':'1f1f3-1f1f4','flag_om':'1f1f4-1f1f2','om':'1f1f4-1f1f2','flag_pk':'1f1f5-1f1f0','pk':'1f1f5-1f1f0','flag_pw':'1f1f5-1f1fc','pw':'1f1f5-1f1fc','flag_pa':'1f1f5-1f1e6','pa':'1f1f5-1f1e6','flag_pg':'1f1f5-1f1ec','pg':'1f1f5-1f1ec','flag_py':'1f1f5-1f1fe','py':'1f1f5-1f1fe','flag_pe':'1f1f5-1f1ea','pe':'1f1f5-1f1ea','flag_ph':'1f1f5-1f1ed','ph':'1f1f5-1f1ed','flag_pl':'1f1f5-1f1f1','pl':'1f1f5-1f1f1','flag_pt':'1f1f5-1f1f9','pt':'1f1f5-1f1f9','flag_qa':'1f1f6-1f1e6','qa':'1f1f6-1f1e6','flag_tw':'1f1f9-1f1fc','tw':'1f1f9-1f1fc','flag_cg':'1f1e8-1f1ec','cg':'1f1e8-1f1ec','flag_ro':'1f1f7-1f1f4','ro':'1f1f7-1f1f4','flag_rw':'1f1f7-1f1fc','rw':'1f1f7-1f1fc','flag_kn':'1f1f0-1f1f3','kn':'1f1f0-1f1f3','flag_lc':'1f1f1-1f1e8','lc':'1f1f1-1f1e8','flag_vc':'1f1fb-1f1e8','vc':'1f1fb-1f1e8','flag_ws':'1f1fc-1f1f8','ws':'1f1fc-1f1f8','flag_sm':'1f1f8-1f1f2','sm':'1f1f8-1f1f2','flag_st':'1f1f8-1f1f9','st':'1f1f8-1f1f9','flag_sa':'1f1f8-1f1e6','saudiarabia':'1f1f8-1f1e6','saudi':'1f1f8-1f1e6','flag_sn':'1f1f8-1f1f3','sn':'1f1f8-1f1f3','flag_rs':'1f1f7-1f1f8','rs':'1f1f7-1f1f8','flag_sc':'1f1f8-1f1e8','sc':'1f1f8-1f1e8','flag_sl':'1f1f8-1f1f1','sl':'1f1f8-1f1f1','flag_sg':'1f1f8-1f1ec','sg':'1f1f8-1f1ec','flag_sk':'1f1f8-1f1f0','sk':'1f1f8-1f1f0','flag_si':'1f1f8-1f1ee','si':'1f1f8-1f1ee','flag_sb':'1f1f8-1f1e7','sb':'1f1f8-1f1e7','flag_so':'1f1f8-1f1f4','so':'1f1f8-1f1f4','flag_za':'1f1ff-1f1e6','za':'1f1ff-1f1e6','flag_lk':'1f1f1-1f1f0','lk':'1f1f1-1f1f0','flag_sd':'1f1f8-1f1e9','sd':'1f1f8-1f1e9','flag_sr':'1f1f8-1f1f7','sr':'1f1f8-1f1f7','flag_sz':'1f1f8-1f1ff','sz':'1f1f8-1f1ff','flag_se':'1f1f8-1f1ea','se':'1f1f8-1f1ea','flag_ch':'1f1e8-1f1ed','ch':'1f1e8-1f1ed','flag_sy':'1f1f8-1f1fe','sy':'1f1f8-1f1fe','flag_tj':'1f1f9-1f1ef','tj':'1f1f9-1f1ef','flag_tz':'1f1f9-1f1ff','tz':'1f1f9-1f1ff','flag_th':'1f1f9-1f1ed','th':'1f1f9-1f1ed','flag_tg':'1f1f9-1f1ec','tg':'1f1f9-1f1ec','flag_to':'1f1f9-1f1f4','to':'1f1f9-1f1f4','flag_tt':'1f1f9-1f1f9','tt':'1f1f9-1f1f9','flag_tn':'1f1f9-1f1f3','tn':'1f1f9-1f1f3','flag_tr':'1f1f9-1f1f7','tr':'1f1f9-1f1f7','flag_tm':'1f1f9-1f1f2','turkmenistan':'1f1f9-1f1f2','flag_tv':'1f1f9-1f1fb','tuvalu':'1f1f9-1f1fb','flag_ug':'1f1fa-1f1ec','ug':'1f1fa-1f1ec','flag_ua':'1f1fa-1f1e6','ua':'1f1fa-1f1e6','flag_ae':'1f1e6-1f1ea','ae':'1f1e6-1f1ea','flag_uy':'1f1fa-1f1fe','uy':'1f1fa-1f1fe','flag_uz':'1f1fa-1f1ff','uz':'1f1fa-1f1ff','flag_vu':'1f1fb-1f1fa','vu':'1f1fb-1f1fa','flag_va':'1f1fb-1f1e6','va':'1f1fb-1f1e6','flag_ve':'1f1fb-1f1ea','ve':'1f1fb-1f1ea','flag_vn':'1f1fb-1f1f3','vn':'1f1fb-1f1f3','flag_eh':'1f1ea-1f1ed','eh':'1f1ea-1f1ed','flag_ye':'1f1fe-1f1ea','ye':'1f1fe-1f1ea','flag_zm':'1f1ff-1f1f2','zm':'1f1ff-1f1f2','flag_zw':'1f1ff-1f1fc','zw':'1f1ff-1f1fc','flag_pr':'1f1f5-1f1f7','pr':'1f1f5-1f1f7','flag_ky':'1f1f0-1f1fe','ky':'1f1f0-1f1fe','flag_bm':'1f1e7-1f1f2','bm':'1f1e7-1f1f2','flag_pf':'1f1f5-1f1eb','pf':'1f1f5-1f1eb','flag_ps':'1f1f5-1f1f8','ps':'1f1f5-1f1f8','flag_nc':'1f1f3-1f1e8','nc':'1f1f3-1f1e8','flag_sh':'1f1f8-1f1ed','sh':'1f1f8-1f1ed','flag_aw':'1f1e6-1f1fc','aw':'1f1e6-1f1fc','flag_vi':'1f1fb-1f1ee','vi':'1f1fb-1f1ee','flag_hk':'1f1ed-1f1f0','hk':'1f1ed-1f1f0','flag_ac':'1f1e6-1f1e8','ac':'1f1e6-1f1e8','flag_ms':'1f1f2-1f1f8','ms':'1f1f2-1f1f8','flag_gu':'1f1ec-1f1fa','gu':'1f1ec-1f1fa','flag_gl':'1f1ec-1f1f1','gl':'1f1ec-1f1f1','flag_nu':'1f1f3-1f1fa','nu':'1f1f3-1f1fa','flag_wf':'1f1fc-1f1eb','wf':'1f1fc-1f1eb','flag_mo':'1f1f2-1f1f4','mo':'1f1f2-1f1f4','flag_fo':'1f1eb-1f1f4','fo':'1f1eb-1f1f4','flag_fk':'1f1eb-1f1f0','fk':'1f1eb-1f1f0','flag_je':'1f1ef-1f1ea','je':'1f1ef-1f1ea','flag_ai':'1f1e6-1f1ee','ai':'1f1e6-1f1ee','flag_gi':'1f1ec-1f1ee','gi':'1f1ec-1f1ee','film_frames':'1f39e','tickets':'1f39f','admission_tickets':'1f39f','medal':'1f3c5','sports_medal':'1f3c5','lifter':'1f3cb','weight_lifter':'1f3cb','golfer':'1f3cc','motorcycle':'1f3cd','racing_motorcycle':'1f3cd','race_car':'1f3ce','racing_car':'1f3ce','military_medal':'1f396','reminder_ribbon':'1f397','hot_pepper':'1f336','cloud_rain':'1f327','cloud_with_rain':'1f327','cloud_snow':'1f328','cloud_with_snow':'1f328','cloud_lightning':'1f329','cloud_with_lightning':'1f329','cloud_tornado':'1f32a','cloud_with_tornado':'1f32a','fog':'1f32b','wind_blowing_face':'1f32c','chipmunk':'1f43f','spider':'1f577','spider_web':'1f578','thermometer':'1f321','microphone2':'1f399','studio_microphone':'1f399','level_slider':'1f39a','control_knobs':'1f39b','flag_white':'1f3f3','waving_white_flag':'1f3f3','flag_black':'1f3f4','waving_black_flag':'1f3f4','rosette':'1f3f5','label':'1f3f7','camera_with_flash':'1f4f8','projector':'1f4fd','film_projector':'1f4fd','cross':'271d','latin_cross':'271d','om_symbol':'1f549','dove':'1f54a','dove_of_peace':'1f54a','candle':'1f56f','clock':'1f570','mantlepiece_clock':'1f570','hole':'1f573','dark_sunglasses':'1f576','joystick':'1f579','paperclips':'1f587','linked_paperclips':'1f587','pen_ballpoint':'1f58a','lower_left_ballpoint_pen':'1f58a','pen_fountain':'1f58b','lower_left_fountain_pen':'1f58b','paintbrush':'1f58c','lower_left_paintbrush':'1f58c','crayon':'1f58d','lower_left_crayon':'1f58d','desktop':'1f5a5','desktop_computer':'1f5a5','printer':'1f5a8','keyboard':'2328','trackball':'1f5b2','frame_photo':'1f5bc','frame_with_picture':'1f5bc','dividers':'1f5c2','card_index_dividers':'1f5c2','card_box':'1f5c3','card_file_box':'1f5c3','file_cabinet':'1f5c4','wastebasket':'1f5d1','notepad_spiral':'1f5d2','spiral_note_pad':'1f5d2','calendar_spiral':'1f5d3','spiral_calendar_pad':'1f5d3','compression':'1f5dc','key2':'1f5dd','old_key':'1f5dd','newspaper2':'1f5de','rolled_up_newspaper':'1f5de','dagger':'1f5e1','dagger_knife':'1f5e1','speaking_head':'1f5e3','speaking_head_in_silhouette':'1f5e3','anger_right':'1f5ef','right_anger_bubble':'1f5ef','ballot_box':'1f5f3','ballot_box_with_ballot':'1f5f3','map':'1f5fa','world_map':'1f5fa','sleeping_accommodation':'1f6cc','tools':'1f6e0','hammer_and_wrench':'1f6e0','shield':'1f6e1','oil':'1f6e2','oil_drum':'1f6e2','satellite_orbital':'1f6f0','fork_knife_plate':'1f37d','fork_and_knife_with_plate':'1f37d','eye':'1f441','levitate':'1f574','man_in_business_suit_levitating':'1f574','spy':'1f575','sleuth_or_spy':'1f575','writing_hand':'270d','hand_splayed':'1f590','raised_hand_with_fingers_splayed':'1f590','middle_finger':'1f595','reversed_hand_with_middle_finger_extended':'1f595','vulcan':'1f596','raised_hand_with_part_between_middle_and_ring_fingers':'1f596','slight_frown':'1f641','slightly_frowning_face':'1f641','slight_smile':'1f642','slightly_smiling_face':'1f642','mountain_snow':'1f3d4','snow_capped_mountain':'1f3d4','camping':'1f3d5','beach':'1f3d6','beach_with_umbrella':'1f3d6','construction_site':'1f3d7','building_construction':'1f3d7','homes':'1f3d8','house_buildings':'1f3d8','cityscape':'1f3d9','house_abandoned':'1f3da','derelict_house_building':'1f3da','classical_building':'1f3db','desert':'1f3dc','island':'1f3dd','desert_island':'1f3dd','park':'1f3de','national_park':'1f3de','stadium':'1f3df','couch':'1f6cb','couch_and_lamp':'1f6cb','shopping_bags':'1f6cd','bellhop':'1f6ce','bellhop_bell':'1f6ce','bed':'1f6cf','motorway':'1f6e3','railway_track':'1f6e4','railroad_track':'1f6e4','motorboat':'1f6e5','airplane_small':'1f6e9','small_airplane':'1f6e9','airplane_departure':'1f6eb','airplane_arriving':'1f6ec','cruise_ship':'1f6f3','passenger_ship':'1f6f3','baby_tone1':'1f476-1f3fb','baby_tone2':'1f476-1f3fc','baby_tone3':'1f476-1f3fd','baby_tone4':'1f476-1f3fe','baby_tone5':'1f476-1f3ff','boy_tone1':'1f466-1f3fb','boy_tone2':'1f466-1f3fc','boy_tone3':'1f466-1f3fd','boy_tone4':'1f466-1f3fe','boy_tone5':'1f466-1f3ff','girl_tone1':'1f467-1f3fb','girl_tone2':'1f467-1f3fc','girl_tone3':'1f467-1f3fd','girl_tone4':'1f467-1f3fe','girl_tone5':'1f467-1f3ff','man_tone1':'1f468-1f3fb','man_tone2':'1f468-1f3fc','man_tone3':'1f468-1f3fd','man_tone4':'1f468-1f3fe','man_tone5':'1f468-1f3ff','woman_tone1':'1f469-1f3fb','woman_tone2':'1f469-1f3fc','woman_tone3':'1f469-1f3fd','woman_tone4':'1f469-1f3fe','woman_tone5':'1f469-1f3ff','bride_with_veil_tone1':'1f470-1f3fb','bride_with_veil_tone2':'1f470-1f3fc','bride_with_veil_tone3':'1f470-1f3fd','bride_with_veil_tone4':'1f470-1f3fe','bride_with_veil_tone5':'1f470-1f3ff','person_with_blond_hair_tone1':'1f471-1f3fb','person_with_blond_hair_tone2':'1f471-1f3fc','person_with_blond_hair_tone3':'1f471-1f3fd','person_with_blond_hair_tone4':'1f471-1f3fe','person_with_blond_hair_tone5':'1f471-1f3ff','man_with_gua_pi_mao_tone1':'1f472-1f3fb','man_with_gua_pi_mao_tone2':'1f472-1f3fc','man_with_gua_pi_mao_tone3':'1f472-1f3fd','man_with_gua_pi_mao_tone4':'1f472-1f3fe','man_with_gua_pi_mao_tone5':'1f472-1f3ff','man_with_turban_tone1':'1f473-1f3fb','man_with_turban_tone2':'1f473-1f3fc','man_with_turban_tone3':'1f473-1f3fd','man_with_turban_tone4':'1f473-1f3fe','man_with_turban_tone5':'1f473-1f3ff','older_man_tone1':'1f474-1f3fb','older_man_tone2':'1f474-1f3fc','older_man_tone3':'1f474-1f3fd','older_man_tone4':'1f474-1f3fe','older_man_tone5':'1f474-1f3ff','older_woman_tone1':'1f475-1f3fb','grandma_tone1':'1f475-1f3fb','older_woman_tone2':'1f475-1f3fc','grandma_tone2':'1f475-1f3fc','older_woman_tone3':'1f475-1f3fd','grandma_tone3':'1f475-1f3fd','older_woman_tone4':'1f475-1f3fe','grandma_tone4':'1f475-1f3fe','older_woman_tone5':'1f475-1f3ff','grandma_tone5':'1f475-1f3ff','cop_tone1':'1f46e-1f3fb','cop_tone2':'1f46e-1f3fc','cop_tone3':'1f46e-1f3fd','cop_tone4':'1f46e-1f3fe','cop_tone5':'1f46e-1f3ff','construction_worker_tone1':'1f477-1f3fb','construction_worker_tone2':'1f477-1f3fc','construction_worker_tone3':'1f477-1f3fd','construction_worker_tone4':'1f477-1f3fe','construction_worker_tone5':'1f477-1f3ff','princess_tone1':'1f478-1f3fb','princess_tone2':'1f478-1f3fc','princess_tone3':'1f478-1f3fd','princess_tone4':'1f478-1f3fe','princess_tone5':'1f478-1f3ff','guardsman_tone1':'1f482-1f3fb','guardsman_tone2':'1f482-1f3fc','guardsman_tone3':'1f482-1f3fd','guardsman_tone4':'1f482-1f3fe','guardsman_tone5':'1f482-1f3ff','angel_tone1':'1f47c-1f3fb','angel_tone2':'1f47c-1f3fc','angel_tone3':'1f47c-1f3fd','angel_tone4':'1f47c-1f3fe','angel_tone5':'1f47c-1f3ff','bow_tone1':'1f647-1f3fb','bow_tone2':'1f647-1f3fc','bow_tone3':'1f647-1f3fd','bow_tone4':'1f647-1f3fe','bow_tone5':'1f647-1f3ff','information_desk_person_tone1':'1f481-1f3fb','information_desk_person_tone2':'1f481-1f3fc','information_desk_person_tone3':'1f481-1f3fd','information_desk_person_tone4':'1f481-1f3fe','information_desk_person_tone5':'1f481-1f3ff','no_good_tone1':'1f645-1f3fb','no_good_tone2':'1f645-1f3fc','no_good_tone3':'1f645-1f3fd','no_good_tone4':'1f645-1f3fe','no_good_tone5':'1f645-1f3ff','ok_woman_tone1':'1f646-1f3fb','ok_woman_tone2':'1f646-1f3fc','ok_woman_tone3':'1f646-1f3fd','ok_woman_tone4':'1f646-1f3fe','ok_woman_tone5':'1f646-1f3ff','raising_hand_tone1':'1f64b-1f3fb','raising_hand_tone2':'1f64b-1f3fc','raising_hand_tone3':'1f64b-1f3fd','raising_hand_tone4':'1f64b-1f3fe','raising_hand_tone5':'1f64b-1f3ff','person_with_pouting_face_tone1':'1f64e-1f3fb','person_with_pouting_face_tone2':'1f64e-1f3fc','person_with_pouting_face_tone3':'1f64e-1f3fd','person_with_pouting_face_tone4':'1f64e-1f3fe','person_with_pouting_face_tone5':'1f64e-1f3ff','person_frowning_tone1':'1f64d-1f3fb','person_frowning_tone2':'1f64d-1f3fc','person_frowning_tone3':'1f64d-1f3fd','person_frowning_tone4':'1f64d-1f3fe','person_frowning_tone5':'1f64d-1f3ff','massage_tone1':'1f486-1f3fb','massage_tone2':'1f486-1f3fc','massage_tone3':'1f486-1f3fd','massage_tone4':'1f486-1f3fe','massage_tone5':'1f486-1f3ff','haircut_tone1':'1f487-1f3fb','haircut_tone2':'1f487-1f3fc','haircut_tone3':'1f487-1f3fd','haircut_tone4':'1f487-1f3fe','haircut_tone5':'1f487-1f3ff','raised_hands_tone1':'1f64c-1f3fb','raised_hands_tone2':'1f64c-1f3fc','raised_hands_tone3':'1f64c-1f3fd','raised_hands_tone4':'1f64c-1f3fe','raised_hands_tone5':'1f64c-1f3ff','clap_tone1':'1f44f-1f3fb','clap_tone2':'1f44f-1f3fc','clap_tone3':'1f44f-1f3fd','clap_tone4':'1f44f-1f3fe','clap_tone5':'1f44f-1f3ff','ear_tone1':'1f442-1f3fb','ear_tone2':'1f442-1f3fc','ear_tone3':'1f442-1f3fd','ear_tone4':'1f442-1f3fe','ear_tone5':'1f442-1f3ff','nose_tone1':'1f443-1f3fb','nose_tone2':'1f443-1f3fc','nose_tone3':'1f443-1f3fd','nose_tone4':'1f443-1f3fe','nose_tone5':'1f443-1f3ff','nail_care_tone1':'1f485-1f3fb','nail_care_tone2':'1f485-1f3fc','nail_care_tone3':'1f485-1f3fd','nail_care_tone4':'1f485-1f3fe','nail_care_tone5':'1f485-1f3ff','wave_tone1':'1f44b-1f3fb','wave_tone2':'1f44b-1f3fc','wave_tone3':'1f44b-1f3fd','wave_tone4':'1f44b-1f3fe','wave_tone5':'1f44b-1f3ff','thumbsup_tone1':'1f44d-1f3fb','+1_tone1':'1f44d-1f3fb','thumbup_tone1':'1f44d-1f3fb','thumbsup_tone2':'1f44d-1f3fc','+1_tone2':'1f44d-1f3fc','thumbup_tone2':'1f44d-1f3fc','thumbsup_tone3':'1f44d-1f3fd','+1_tone3':'1f44d-1f3fd','thumbup_tone3':'1f44d-1f3fd','thumbsup_tone4':'1f44d-1f3fe','+1_tone4':'1f44d-1f3fe','thumbup_tone4':'1f44d-1f3fe','thumbsup_tone5':'1f44d-1f3ff','+1_tone5':'1f44d-1f3ff','thumbup_tone5':'1f44d-1f3ff','thumbsdown_tone1':'1f44e-1f3fb','-1_tone1':'1f44e-1f3fb','thumbdown_tone1':'1f44e-1f3fb','thumbsdown_tone2':'1f44e-1f3fc','-1_tone2':'1f44e-1f3fc','thumbdown_tone2':'1f44e-1f3fc','thumbsdown_tone3':'1f44e-1f3fd','-1_tone3':'1f44e-1f3fd','thumbdown_tone3':'1f44e-1f3fd','thumbsdown_tone4':'1f44e-1f3fe','-1_tone4':'1f44e-1f3fe','thumbdown_tone4':'1f44e-1f3fe','thumbsdown_tone5':'1f44e-1f3ff','-1_tone5':'1f44e-1f3ff','thumbdown_tone5':'1f44e-1f3ff','point_up_tone1':'261d-1f3fb','point_up_tone2':'261d-1f3fc','point_up_tone3':'261d-1f3fd','point_up_tone4':'261d-1f3fe','point_up_tone5':'261d-1f3ff','point_up_2_tone1':'1f446-1f3fb','point_up_2_tone2':'1f446-1f3fc','point_up_2_tone3':'1f446-1f3fd','point_up_2_tone4':'1f446-1f3fe','point_up_2_tone5':'1f446-1f3ff','point_down_tone1':'1f447-1f3fb','point_down_tone2':'1f447-1f3fc','point_down_tone3':'1f447-1f3fd','point_down_tone4':'1f447-1f3fe','point_down_tone5':'1f447-1f3ff','point_left_tone1':'1f448-1f3fb','point_left_tone2':'1f448-1f3fc','point_left_tone3':'1f448-1f3fd','point_left_tone4':'1f448-1f3fe','point_left_tone5':'1f448-1f3ff','point_right_tone1':'1f449-1f3fb','point_right_tone2':'1f449-1f3fc','point_right_tone3':'1f449-1f3fd','point_right_tone4':'1f449-1f3fe','point_right_tone5':'1f449-1f3ff','ok_hand_tone1':'1f44c-1f3fb','ok_hand_tone2':'1f44c-1f3fc','ok_hand_tone3':'1f44c-1f3fd','ok_hand_tone4':'1f44c-1f3fe','ok_hand_tone5':'1f44c-1f3ff','v_tone1':'270c-1f3fb','v_tone2':'270c-1f3fc','v_tone3':'270c-1f3fd','v_tone4':'270c-1f3fe','v_tone5':'270c-1f3ff','punch_tone1':'1f44a-1f3fb','punch_tone2':'1f44a-1f3fc','punch_tone3':'1f44a-1f3fd','punch_tone4':'1f44a-1f3fe','punch_tone5':'1f44a-1f3ff','fist_tone1':'270a-1f3fb','fist_tone2':'270a-1f3fc','fist_tone3':'270a-1f3fd','fist_tone4':'270a-1f3fe','fist_tone5':'270a-1f3ff','raised_hand_tone1':'270b-1f3fb','raised_hand_tone2':'270b-1f3fc','raised_hand_tone3':'270b-1f3fd','raised_hand_tone4':'270b-1f3fe','raised_hand_tone5':'270b-1f3ff','muscle_tone1':'1f4aa-1f3fb','muscle_tone2':'1f4aa-1f3fc','muscle_tone3':'1f4aa-1f3fd','muscle_tone4':'1f4aa-1f3fe','muscle_tone5':'1f4aa-1f3ff','open_hands_tone1':'1f450-1f3fb','open_hands_tone2':'1f450-1f3fc','open_hands_tone3':'1f450-1f3fd','open_hands_tone4':'1f450-1f3fe','open_hands_tone5':'1f450-1f3ff','pray_tone1':'1f64f-1f3fb','pray_tone2':'1f64f-1f3fc','pray_tone3':'1f64f-1f3fd','pray_tone4':'1f64f-1f3fe','pray_tone5':'1f64f-1f3ff','runner_tone1':'1f3c3-1f3fb','runner_tone2':'1f3c3-1f3fc','runner_tone3':'1f3c3-1f3fd','runner_tone4':'1f3c3-1f3fe','runner_tone5':'1f3c3-1f3ff','walking_tone1':'1f6b6-1f3fb','walking_tone2':'1f6b6-1f3fc','walking_tone3':'1f6b6-1f3fd','walking_tone4':'1f6b6-1f3fe','walking_tone5':'1f6b6-1f3ff','dancer_tone1':'1f483-1f3fb','dancer_tone2':'1f483-1f3fc','dancer_tone3':'1f483-1f3fd','dancer_tone4':'1f483-1f3fe','dancer_tone5':'1f483-1f3ff','rowboat_tone1':'1f6a3-1f3fb','rowboat_tone2':'1f6a3-1f3fc','rowboat_tone3':'1f6a3-1f3fd','rowboat_tone4':'1f6a3-1f3fe','rowboat_tone5':'1f6a3-1f3ff','swimmer_tone1':'1f3ca-1f3fb','swimmer_tone2':'1f3ca-1f3fc','swimmer_tone3':'1f3ca-1f3fd','swimmer_tone4':'1f3ca-1f3fe','swimmer_tone5':'1f3ca-1f3ff','surfer_tone1':'1f3c4-1f3fb','surfer_tone2':'1f3c4-1f3fc','surfer_tone3':'1f3c4-1f3fd','surfer_tone4':'1f3c4-1f3fe','surfer_tone5':'1f3c4-1f3ff','bath_tone1':'1f6c0-1f3fb','bath_tone2':'1f6c0-1f3fc','bath_tone3':'1f6c0-1f3fd','bath_tone4':'1f6c0-1f3fe','bath_tone5':'1f6c0-1f3ff','bicyclist_tone1':'1f6b4-1f3fb','bicyclist_tone2':'1f6b4-1f3fc','bicyclist_tone3':'1f6b4-1f3fd','bicyclist_tone4':'1f6b4-1f3fe','bicyclist_tone5':'1f6b4-1f3ff','mountain_bicyclist_tone1':'1f6b5-1f3fb','mountain_bicyclist_tone2':'1f6b5-1f3fc','mountain_bicyclist_tone3':'1f6b5-1f3fd','mountain_bicyclist_tone4':'1f6b5-1f3fe','mountain_bicyclist_tone5':'1f6b5-1f3ff','horse_racing_tone1':'1f3c7-1f3fb','horse_racing_tone2':'1f3c7-1f3fc','horse_racing_tone3':'1f3c7-1f3fd','horse_racing_tone4':'1f3c7-1f3fe','horse_racing_tone5':'1f3c7-1f3ff','writing_hand_tone1':'270d-1f3fb','writing_hand_tone2':'270d-1f3fc','writing_hand_tone3':'270d-1f3fd','writing_hand_tone4':'270d-1f3fe','writing_hand_tone5':'270d-1f3ff','hand_splayed_tone1':'1f590-1f3fb','raised_hand_with_fingers_splayed_tone1':'1f590-1f3fb','hand_splayed_tone2':'1f590-1f3fc','raised_hand_with_fingers_splayed_tone2':'1f590-1f3fc','hand_splayed_tone3':'1f590-1f3fd','raised_hand_with_fingers_splayed_tone3':'1f590-1f3fd','hand_splayed_tone4':'1f590-1f3fe','raised_hand_with_fingers_splayed_tone4':'1f590-1f3fe','hand_splayed_tone5':'1f590-1f3ff','raised_hand_with_fingers_splayed_tone5':'1f590-1f3ff','middle_finger_tone1':'1f595-1f3fb','reversed_hand_with_middle_finger_extended_tone1':'1f595-1f3fb','middle_finger_tone2':'1f595-1f3fc','reversed_hand_with_middle_finger_extended_tone2':'1f595-1f3fc','middle_finger_tone3':'1f595-1f3fd','reversed_hand_with_middle_finger_extended_tone3':'1f595-1f3fd','middle_finger_tone4':'1f595-1f3fe','reversed_hand_with_middle_finger_extended_tone4':'1f595-1f3fe','middle_finger_tone5':'1f595-1f3ff','reversed_hand_with_middle_finger_extended_tone5':'1f595-1f3ff','vulcan_tone1':'1f596-1f3fb','raised_hand_with_part_between_middle_and_ring_fingers_tone1':'1f596-1f3fb','vulcan_tone2':'1f596-1f3fc','raised_hand_with_part_between_middle_and_ring_fingers_tone2':'1f596-1f3fc','vulcan_tone3':'1f596-1f3fd','raised_hand_with_part_between_middle_and_ring_fingers_tone3':'1f596-1f3fd','vulcan_tone4':'1f596-1f3fe','raised_hand_with_part_between_middle_and_ring_fingers_tone4':'1f596-1f3fe','vulcan_tone5':'1f596-1f3ff','raised_hand_with_part_between_middle_and_ring_fingers_tone5':'1f596-1f3ff','family_mmb':'1f468-1f468-1f466','family_mmbb':'1f468-1f468-1f466-1f466','family_mmg':'1f468-1f468-1f467','family_mmgb':'1f468-1f468-1f467-1f466','family_mmgg':'1f468-1f468-1f467-1f467','family_mwbb':'1f468-1f469-1f466-1f466','family_mwg':'1f468-1f469-1f467','family_mwgb':'1f468-1f469-1f467-1f466','family_mwgg':'1f468-1f469-1f467-1f467','family_wwb':'1f469-1f469-1f466','family_wwbb':'1f469-1f469-1f466-1f466','family_wwg':'1f469-1f469-1f467','family_wwgb':'1f469-1f469-1f467-1f466','family_wwgg':'1f469-1f469-1f467-1f467','couple_ww':'1f469-2764-1f469','couple_with_heart_ww':'1f469-2764-1f469','couple_mm':'1f468-2764-1f468','couple_with_heart_mm':'1f468-2764-1f468','kiss_ww':'1f469-2764-1f48b-1f469','couplekiss_ww':'1f469-2764-1f48b-1f469','kiss_mm':'1f468-2764-1f48b-1f468','couplekiss_mm':'1f468-2764-1f48b-1f468','tone1':'1f3fb','tone2':'1f3fc','tone3':'1f3fd','tone4':'1f3fe','tone5':'1f3ff','asterisk':'002a-20e3','keycap_asterisk':'002a-20e3','track_next':'23ed','next_track':'23ed','track_previous':'23ee','previous_track':'23ee','play_pause':'23ef','eye_in_speech_bubble':'1f441-1f5e8','stopwatch':'23f1','timer':'23f2','timer_clock':'23f2','pause_button':'23f8','double_vertical_bar':'23f8','stop_button':'23f9','record_button':'23fa','umbrella2':'2602','snowman2':'2603','comet':'2604','shamrock':'2618','skull_crossbones':'2620','skull_and_crossbones':'2620','radioactive':'2622','radioactive_sign':'2622','biohazard':'2623','biohazard_sign':'2623','orthodox_cross':'2626','star_and_crescent':'262a','peace':'262e','peace_symbol':'262e','yin_yang':'262f','wheel_of_dharma':'2638','frowning2':'2639','white_frowning_face':'2639','hammer_pick':'2692','hammer_and_pick':'2692','crossed_swords':'2694','scales':'2696','alembic':'2697','gear':'2699','atom':'269b','atom_symbol':'269b','fleur-de-lis':'269c','coffin':'26b0','urn':'26b1','funeral_urn':'26b1','thunder_cloud_rain':'26c8','thunder_cloud_and_rain':'26c8','pick':'26cf','helmet_with_cross':'26d1','helmet_with_white_cross':'26d1','chains':'26d3','shinto_shrine':'26e9','mountain':'26f0','beach_umbrella':'26f1','umbrella_on_ground':'26f1','ferry':'26f4','skier':'26f7','ice_skate':'26f8','basketball_player':'26f9','person_with_ball':'26f9','star_of_david':'2721','heart_exclamation':'2763','heavy_heart_exclamation_mark_ornament':'2763','white_sun_small_cloud':'1f324','white_sun_with_small_cloud':'1f324','white_sun_cloud':'1f325','white_sun_behind_cloud':'1f325','white_sun_rain_cloud':'1f326','white_sun_behind_cloud_with_rain':'1f326','mouse_three_button':'1f5b1','three_button_mouse':'1f5b1','santa_tone1':'1f385-1f3fb','santa_tone2':'1f385-1f3fc','santa_tone3':'1f385-1f3fd','santa_tone4':'1f385-1f3fe','santa_tone5':'1f385-1f3ff','metal_tone1':'1f918-1f3fb','sign_of_the_horns_tone1':'1f918-1f3fb','metal_tone2':'1f918-1f3fc','sign_of_the_horns_tone2':'1f918-1f3fc','metal_tone3':'1f918-1f3fd','sign_of_the_horns_tone3':'1f918-1f3fd','metal_tone4':'1f918-1f3fe','sign_of_the_horns_tone4':'1f918-1f3fe','metal_tone5':'1f918-1f3ff','sign_of_the_horns_tone5':'1f918-1f3ff','lifter_tone1':'1f3cb-1f3fb','weight_lifter_tone1':'1f3cb-1f3fb','lifter_tone2':'1f3cb-1f3fc','weight_lifter_tone2':'1f3cb-1f3fc','lifter_tone3':'1f3cb-1f3fd','weight_lifter_tone3':'1f3cb-1f3fd','lifter_tone4':'1f3cb-1f3fe','weight_lifter_tone4':'1f3cb-1f3fe','lifter_tone5':'1f3cb-1f3ff','weight_lifter_tone5':'1f3cb-1f3ff','basketball_player_tone1':'26f9-1f3fb','person_with_ball_tone1':'26f9-1f3fb','basketball_player_tone2':'26f9-1f3fc','person_with_ball_tone2':'26f9-1f3fc','basketball_player_tone3':'26f9-1f3fd','person_with_ball_tone3':'26f9-1f3fd','basketball_player_tone4':'26f9-1f3fe','person_with_ball_tone4':'26f9-1f3fe','basketball_player_tone5':'26f9-1f3ff','person_with_ball_tone5':'26f9-1f3ff','upside_down':'1f643','upside_down_face':'1f643','money_mouth':'1f911','money_mouth_face':'1f911','nerd':'1f913','nerd_face':'1f913','hugging':'1f917','hugging_face':'1f917','rolling_eyes':'1f644','face_with_rolling_eyes':'1f644','thinking':'1f914','thinking_face':'1f914','zipper_mouth':'1f910','zipper_mouth_face':'1f910','thermometer_face':'1f912','face_with_thermometer':'1f912','head_bandage':'1f915','face_with_head_bandage':'1f915','robot':'1f916','robot_face':'1f916','lion_face':'1f981','lion':'1f981','unicorn':'1f984','unicorn_face':'1f984','scorpion':'1f982','crab':'1f980','turkey':'1f983','cheese':'1f9c0','cheese_wedge':'1f9c0','hotdog':'1f32d','hot_dog':'1f32d','taco':'1f32e','burrito':'1f32f','popcorn':'1f37f','champagne':'1f37e','bottle_with_popping_cork':'1f37e','bow_and_arrow':'1f3f9','archery':'1f3f9','amphora':'1f3fa','place_of_worship':'1f6d0','worship_symbol':'1f6d0','kaaba':'1f54b','mosque':'1f54c','synagogue':'1f54d','menorah':'1f54e','prayer_beads':'1f4ff','cricket':'1f3cf','cricket_bat_ball':'1f3cf','volleyball':'1f3d0','field_hockey':'1f3d1','hockey':'1f3d2','ping_pong':'1f3d3','table_tennis':'1f3d3','badminton':'1f3f8','flag_ax':'1f1e6-1f1fd','ax':'1f1e6-1f1fd','flag_ta':'1f1f9-1f1e6','ta':'1f1f9-1f1e6','flag_io':'1f1ee-1f1f4','io':'1f1ee-1f1f4','flag_bq':'1f1e7-1f1f6','bq':'1f1e7-1f1f6','flag_cx':'1f1e8-1f1fd','cx':'1f1e8-1f1fd','flag_cc':'1f1e8-1f1e8','cc':'1f1e8-1f1e8','flag_gg':'1f1ec-1f1ec','gg':'1f1ec-1f1ec','flag_im':'1f1ee-1f1f2','im':'1f1ee-1f1f2','flag_yt':'1f1fe-1f1f9','yt':'1f1fe-1f1f9','flag_nf':'1f1f3-1f1eb','nf':'1f1f3-1f1eb','flag_pn':'1f1f5-1f1f3','pn':'1f1f5-1f1f3','flag_bl':'1f1e7-1f1f1','bl':'1f1e7-1f1f1','flag_pm':'1f1f5-1f1f2','pm':'1f1f5-1f1f2','flag_gs':'1f1ec-1f1f8','gs':'1f1ec-1f1f8','flag_tk':'1f1f9-1f1f0','tk':'1f1f9-1f1f0','flag_bv':'1f1e7-1f1fb','bv':'1f1e7-1f1fb','flag_hm':'1f1ed-1f1f2','hm':'1f1ed-1f1f2','flag_sj':'1f1f8-1f1ef','sj':'1f1f8-1f1ef','flag_um':'1f1fa-1f1f2','um':'1f1fa-1f1f2','flag_ic':'1f1ee-1f1e8','ic':'1f1ee-1f1e8','flag_ea':'1f1ea-1f1e6','ea':'1f1ea-1f1e6','flag_cp':'1f1e8-1f1f5','cp':'1f1e8-1f1f5','flag_dg':'1f1e9-1f1ec','dg':'1f1e9-1f1ec','flag_as':'1f1e6-1f1f8','as':'1f1e6-1f1f8','flag_aq':'1f1e6-1f1f6','aq':'1f1e6-1f1f6','flag_vg':'1f1fb-1f1ec','vg':'1f1fb-1f1ec','flag_ck':'1f1e8-1f1f0','ck':'1f1e8-1f1f0','flag_cw':'1f1e8-1f1fc','cw':'1f1e8-1f1fc','flag_eu':'1f1ea-1f1fa','eu':'1f1ea-1f1fa','flag_gf':'1f1ec-1f1eb','gf':'1f1ec-1f1eb','flag_tf':'1f1f9-1f1eb','tf':'1f1f9-1f1eb','flag_gp':'1f1ec-1f1f5','gp':'1f1ec-1f1f5','flag_mq':'1f1f2-1f1f6','mq':'1f1f2-1f1f6','flag_mp':'1f1f2-1f1f5','mp':'1f1f2-1f1f5','flag_re':'1f1f7-1f1ea','re':'1f1f7-1f1ea','flag_sx':'1f1f8-1f1fd','sx':'1f1f8-1f1fd','flag_ss':'1f1f8-1f1f8','ss':'1f1f8-1f1f8','flag_tc':'1f1f9-1f1e8','tc':'1f1f9-1f1e8','flag_mf':'1f1f2-1f1eb','mf':'1f1f2-1f1eb','spy_tone1':'1f575-1f3fb','sleuth_or_spy_tone1':'1f575-1f3fb','spy_tone2':'1f575-1f3fc','sleuth_or_spy_tone2':'1f575-1f3fc','spy_tone3':'1f575-1f3fd','sleuth_or_spy_tone3':'1f575-1f3fd','spy_tone4':'1f575-1f3fe','sleuth_or_spy_tone4':'1f575-1f3fe','spy_tone5':'1f575-1f3ff','sleuth_or_spy_tone5':'1f575-1f3ff'})}}});'use strict';System.register('flarum/emoji/main',['flarum/extend','flarum/app','flarum/models/Post','flarum/emoji/addComposerAutocomplete'],function(_export,_context){"use strict";var override,app,Post,addComposerAutocomplete;return{setters:[function(_flarumExtend){override=_flarumExtend.override},function(_flarumApp){app=_flarumApp.default},function(_flarumModelsPost){Post=_flarumModelsPost.default},function(_flarumEmojiAddComposerAutocomplete){addComposerAutocomplete=_flarumEmojiAddComposerAutocomplete.default}],execute:function(){app.initializers.add('flarum-emoji',function(){addComposerAutocomplete()})}}});
'use strict';System.register('flarum/flags/addFlagControl',['flarum/extend','flarum/app','flarum/utils/PostControls','flarum/components/Button','flarum/flags/components/FlagPostModal'],function(_export,_context){"use strict";var extend,app,PostControls,Button,FlagPostModal;_export('default',function(){extend(PostControls,'userControls',function(items,post){if(post.isHidden()||post.contentType()!=='comment'||!post.canFlag()||post.user()===app.session.user)return;items.add('flag',m(Button,{icon:'flag',onclick:function onclick(){return app.modal.show(new FlagPostModal({post:post}))}},app.translator.trans('flarum-flags.forum.post_controls.flag_button')))})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumUtilsPostControls){PostControls=_flarumUtilsPostControls.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumFlagsComponentsFlagPostModal){FlagPostModal=_flarumFlagsComponentsFlagPostModal.default}],execute:function(){}}});'use strict';System.register('flarum/flags/addFlagsDropdown',['flarum/extend','flarum/app','flarum/components/HeaderSecondary','flarum/flags/components/FlagsDropdown'],function(_export,_context){"use strict";var extend,app,HeaderSecondary,FlagsDropdown;_export('default',function(){extend(HeaderSecondary.prototype,'items',function(items){if(app.forum.attribute('canViewFlags')){items.add('flags',m(FlagsDropdown,null),15)}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumComponentsHeaderSecondary){HeaderSecondary=_flarumComponentsHeaderSecondary.default},function(_flarumFlagsComponentsFlagsDropdown){FlagsDropdown=_flarumFlagsComponentsFlagsDropdown.default}],execute:function(){}}});'use strict';System.register('flarum/flags/addFlagsToPosts',['flarum/extend','flarum/app','flarum/components/Post','flarum/components/Button','flarum/utils/ItemList','flarum/utils/PostControls'],function(_export,_context){"use strict";var extend,app,Post,Button,ItemList,PostControls;_export('default',function(){extend(Post.prototype,'attrs',function(attrs){if(this.props.post.flags().length){attrs.className+=' Post--flagged'}});Post.prototype.dismissFlag=function(data){var post=this.props.post;delete post.data.relationships.flags;this.subtree.invalidate();if(app.cache.flags){app.cache.flags.some(function(flag,i){if(flag.post()===post){app.cache.flags.splice(i,1);if(app.cache.flagIndex===post){var next=app.cache.flags[i];if(!next)next=app.cache.flags[0];if(next){var nextPost=next.post();app.cache.flagIndex=nextPost;m.route(app.route.post(nextPost))}}
return!0}})}
return app.request({url:app.forum.attribute('apiUrl')+post.apiEndpoint()+'/flags',method:'DELETE',data:data})};Post.prototype.flagActionItems=function(){var _this=this;var items=new ItemList();var controls=PostControls.destructiveControls(this.props.post);Object.keys(controls.items).forEach(function(k){var props=controls.get(k).props;props.className='Button';extend(props,'onclick',function(){return _this.dismissFlag()})});items.add('controls',m('div',{className:'ButtonGroup'},controls.toArray()));items.add('dismiss',m(Button,{className:'Button',icon:'eye-slash',onclick:this.dismissFlag.bind(this)},app.translator.trans('flarum-flags.forum.post.dismiss_flag_button')),-100);return items};extend(Post.prototype,'content',function(vdom){var _this2=this;var post=this.props.post;var flags=post.flags();if(!flags.length)return;if(post.isHidden())this.revealContent=!0;vdom.unshift(m('div',{className:'Post-flagged'},m('div',{className:'Post-flagged-flags'},flags.map(function(flag){return m('div',{className:'Post-flagged-flag'},_this2.flagReason(flag))})),m('div',{className:'Post-flagged-actions'},this.flagActionItems().toArray())))});Post.prototype.flagReason=function(flag){if(flag.type()==='user'){var user=flag.user();var reason=flag.reason();var detail=flag.reasonDetail();return[app.translator.trans(reason?'flarum-flags.forum.post.flagged_by_with_reason_text':'flarum-flags.forum.post.flagged_by_text',{user:user,reason:reason}),detail?m('span',{className:'Post-flagged-detail'},detail):'']}}});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumComponentsPost){Post=_flarumComponentsPost.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default},function(_flarumUtilsPostControls){PostControls=_flarumUtilsPostControls.default}],execute:function(){}}});'use strict';System.register('flarum/flags/components/FlagList',['flarum/Component','flarum/components/LoadingIndicator','flarum/helpers/avatar','flarum/helpers/username','flarum/helpers/icon','flarum/helpers/humanTime'],function(_export,_context){"use strict";var Component,LoadingIndicator,avatar,username,icon,humanTime,FlagList;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumHelpersHumanTime){humanTime=_flarumHelpersHumanTime.default}],execute:function(){FlagList=function(_Component){babelHelpers.inherits(FlagList,_Component);function FlagList(){babelHelpers.classCallCheck(this,FlagList);return babelHelpers.possibleConstructorReturn(this,(FlagList.__proto__||Object.getPrototypeOf(FlagList)).apply(this,arguments))}
babelHelpers.createClass(FlagList,[{key:'init',value:function init(){this.loading=!1}},{key:'view',value:function view(){var flags=app.cache.flags||[];return m('div',{className:'NotificationList FlagList'},m('div',{className:'NotificationList-header'},m('h4',{className:'App-titleControl App-titleControl--text'},app.translator.trans('flarum-flags.forum.flagged_posts.title'))),m('div',{className:'NotificationList-content'},m('ul',{className:'NotificationGroup-content'},flags.length?flags.map(function(flag){var post=flag.post();return m('li',null,m('a',{href:app.route.post(post),className:'Notification Flag',config:function config(element,isInitialized){m.route.apply(this,arguments);if(!isInitialized)$(element).on('click',function(){return app.cache.flagIndex=post})}},avatar(post.user()),icon('flag',{className:'Notification-icon'}),m('span',{className:'Notification-content'},app.translator.trans('flarum-flags.forum.flagged_posts.item_text',{username:username(post.user()),em:m('em',null),discussion:post.discussion().title()})),humanTime(flag.time()),m('div',{className:'Notification-excerpt'},post.contentPlain())))}):!this.loading?m('div',{className:'NotificationList-empty'},app.translator.trans('flarum-flags.forum.flagged_posts.empty_text')):LoadingIndicator.component({className:'LoadingIndicator--block'}))))}},{key:'load',value:function load(){var _this2=this;if(app.cache.flags&&!app.session.user.attribute('newFlagsCount')){return}
this.loading=!0;m.redraw();app.store.find('flags').then(function(flags){app.session.user.pushAttributes({newFlagsCount:0});app.cache.flags=flags.sort(function(a,b){return b.time()-a.time()})}).catch(function(){}).then(function(){_this2.loading=!1;m.redraw()})}}]);return FlagList}(Component);_export('default',FlagList)}}});'use strict';System.register('flarum/flags/components/FlagPostModal',['flarum/components/Modal','flarum/components/Button'],function(_export,_context){"use strict";var Modal,Button,FlagPostModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){FlagPostModal=function(_Modal){babelHelpers.inherits(FlagPostModal,_Modal);function FlagPostModal(){babelHelpers.classCallCheck(this,FlagPostModal);return babelHelpers.possibleConstructorReturn(this,(FlagPostModal.__proto__||Object.getPrototypeOf(FlagPostModal)).apply(this,arguments))}
babelHelpers.createClass(FlagPostModal,[{key:'init',value:function init(){babelHelpers.get(FlagPostModal.prototype.__proto__||Object.getPrototypeOf(FlagPostModal.prototype),'init',this).call(this);this.success=!1;this.reason=m.prop('');this.reasonDetail=m.prop('')}},{key:'className',value:function className(){return'FlagPostModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('flarum-flags.forum.flag_post.title')}},{key:'content',value:function content(){if(this.success){return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('p',{className:'helpText'},app.translator.trans('flarum-flags.forum.flag_post.confirmation_message')),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary Button--block',onclick:this.hide.bind(this)},app.translator.trans('flarum-flags.forum.flag_post.dismiss_button')))))}
var guidelinesUrl=app.forum.attribute('guidelinesUrl');return m('div',{className:'Modal-body'},m('div',{className:'Form Form--centered'},m('div',{className:'Form-group'},m('div',null,m('label',{className:'checkbox'},m('input',{type:'radio',name:'reason',checked:this.reason()==='off_topic',value:'off_topic',onclick:m.withAttr('value',this.reason)}),m('strong',null,app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_label')),app.translator.trans('flarum-flags.forum.flag_post.reason_off_topic_text')),m('label',{className:'checkbox'},m('input',{type:'radio',name:'reason',checked:this.reason()==='inappropriate',value:'inappropriate',onclick:m.withAttr('value',this.reason)}),m('strong',null,app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_label')),app.translator.trans('flarum-flags.forum.flag_post.reason_inappropriate_text',{a:guidelinesUrl?m('a',{href:guidelinesUrl,target:'_blank'}):undefined})),m('label',{className:'checkbox'},m('input',{type:'radio',name:'reason',checked:this.reason()==='spam',value:'spam',onclick:m.withAttr('value',this.reason)}),m('strong',null,app.translator.trans('flarum-flags.forum.flag_post.reason_spam_label')),app.translator.trans('flarum-flags.forum.flag_post.reason_spam_text')),m('label',{className:'checkbox'},m('input',{type:'radio',name:'reason',checked:this.reason()==='other',value:'other',onclick:m.withAttr('value',this.reason)}),m('strong',null,app.translator.trans('flarum-flags.forum.flag_post.reason_other_label')),this.reason()==='other'?m('textarea',{className:'FormControl',value:this.reasonDetail(),oninput:m.withAttr('value',this.reasonDetail)}):''))),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary Button--block',type:'submit',loading:this.loading,disabled:!this.reason()},app.translator.trans('flarum-flags.forum.flag_post.submit_button')))))}},{key:'onsubmit',value:function onsubmit(e){var _this2=this;e.preventDefault();this.loading=!0;app.store.createRecord('flags').save({reason:this.reason()==='other'?null:this.reason(),reasonDetail:this.reasonDetail(),relationships:{user:app.session.user,post:this.props.post}}).then(function(){return _this2.success=!0}).catch(function(){}).then(this.loaded.bind(this))}}]);return FlagPostModal}(Modal);_export('default',FlagPostModal)}}});'use strict';System.register('flarum/flags/components/FlagsDropdown',['flarum/components/NotificationsDropdown','flarum/flags/components/FlagList'],function(_export,_context){"use strict";var NotificationsDropdown,FlagList,FlagsDropdown;return{setters:[function(_flarumComponentsNotificationsDropdown){NotificationsDropdown=_flarumComponentsNotificationsDropdown.default},function(_flarumFlagsComponentsFlagList){FlagList=_flarumFlagsComponentsFlagList.default}],execute:function(){FlagsDropdown=function(_NotificationsDropdow){babelHelpers.inherits(FlagsDropdown,_NotificationsDropdow);function FlagsDropdown(){babelHelpers.classCallCheck(this,FlagsDropdown);return babelHelpers.possibleConstructorReturn(this,(FlagsDropdown.__proto__||Object.getPrototypeOf(FlagsDropdown)).apply(this,arguments))}
babelHelpers.createClass(FlagsDropdown,[{key:'init',value:function init(){babelHelpers.get(FlagsDropdown.prototype.__proto__||Object.getPrototypeOf(FlagsDropdown.prototype),'init',this).call(this);this.list=new FlagList()}},{key:'goToRoute',value:function goToRoute(){m.route(app.route('flags'))}},{key:'getUnreadCount',value:function getUnreadCount(){return app.cache.flags?app.cache.flags.length:app.forum.attribute('flagsCount')}},{key:'getNewCount',value:function getNewCount(){return app.session.user.attribute('newFlagsCount')}}],[{key:'initProps',value:function initProps(props){props.label=props.label||app.translator.trans('flarum-flags.forum.flagged_posts.tooltip');props.icon=props.icon||'flag';babelHelpers.get(FlagsDropdown.__proto__||Object.getPrototypeOf(FlagsDropdown),'initProps',this).call(this,props)}}]);return FlagsDropdown}(NotificationsDropdown);_export('default',FlagsDropdown)}}});'use strict';System.register('flarum/flags/components/FlagsPage',['flarum/components/Page','flarum/flags/components/FlagList'],function(_export,_context){"use strict";var Page,FlagList,FlagsPage;return{setters:[function(_flarumComponentsPage){Page=_flarumComponentsPage.default},function(_flarumFlagsComponentsFlagList){FlagList=_flarumFlagsComponentsFlagList.default}],execute:function(){FlagsPage=function(_Page){babelHelpers.inherits(FlagsPage,_Page);function FlagsPage(){babelHelpers.classCallCheck(this,FlagsPage);return babelHelpers.possibleConstructorReturn(this,(FlagsPage.__proto__||Object.getPrototypeOf(FlagsPage)).apply(this,arguments))}
babelHelpers.createClass(FlagsPage,[{key:'init',value:function init(){babelHelpers.get(FlagsPage.prototype.__proto__||Object.getPrototypeOf(FlagsPage.prototype),'init',this).call(this);app.history.push('flags');this.list=new FlagList();this.list.load();this.bodyClass='App--flags'}},{key:'view',value:function view(){return m('div',{className:'FlagsPage'},this.list.render())}}]);return FlagsPage}(Page);_export('default',FlagsPage)}}});'use strict';System.register('flarum/flags/main',['flarum/app','flarum/Model','flarum/flags/models/Flag','flarum/flags/components/FlagsPage','flarum/flags/addFlagControl','flarum/flags/addFlagsDropdown','flarum/flags/addFlagsToPosts'],function(_export,_context){"use strict";var app,Model,Flag,FlagsPage,addFlagControl,addFlagsDropdown,addFlagsToPosts;return{setters:[function(_flarumApp){app=_flarumApp.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumFlagsModelsFlag){Flag=_flarumFlagsModelsFlag.default},function(_flarumFlagsComponentsFlagsPage){FlagsPage=_flarumFlagsComponentsFlagsPage.default},function(_flarumFlagsAddFlagControl){addFlagControl=_flarumFlagsAddFlagControl.default},function(_flarumFlagsAddFlagsDropdown){addFlagsDropdown=_flarumFlagsAddFlagsDropdown.default},function(_flarumFlagsAddFlagsToPosts){addFlagsToPosts=_flarumFlagsAddFlagsToPosts.default}],execute:function(){app.initializers.add('flarum-flags',function(){app.store.models.posts.prototype.flags=Model.hasMany('flags');app.store.models.posts.prototype.canFlag=Model.attribute('canFlag');app.store.models.flags=Flag;app.routes.flags={path:'/flags',component:m(FlagsPage,null)};addFlagControl();addFlagsDropdown();addFlagsToPosts()})}}});'use strict';System.register('flarum/flags/models/Flag',['flarum/Model','flarum/utils/mixin'],function(_export,_context){"use strict";var Model,mixin,Flag;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsMixin){mixin=_flarumUtilsMixin.default}],execute:function(){Flag=function(_Model){babelHelpers.inherits(Flag,_Model);function Flag(){babelHelpers.classCallCheck(this,Flag);return babelHelpers.possibleConstructorReturn(this,(Flag.__proto__||Object.getPrototypeOf(Flag)).apply(this,arguments))}
return Flag}(Model);babelHelpers.extends(Flag.prototype,{type:Model.attribute('type'),reason:Model.attribute('reason'),reasonDetail:Model.attribute('reasonDetail'),time:Model.attribute('time',Model.transformDate),post:Model.hasOne('post'),user:Model.hasOne('user')});_export('default',Flag)}}});
'use strict';System.register('flarum/likes/addLikeAction',['flarum/extend','flarum/app','flarum/components/Button','flarum/components/CommentPost'],function(_export,_context){"use strict";var extend,app,Button,CommentPost;_export('default',function(){extend(CommentPost.prototype,'actionItems',function(items){var post=this.props.post;if(post.isHidden()||!post.canLike())return;var isLiked=app.session.user&&post.likes().some(function(user){return user===app.session.user});items.add('like',Button.component({children:app.translator.trans(isLiked?'flarum-likes.forum.post.unlike_link':'flarum-likes.forum.post.like_link'),className:'Button Button--link',onclick:function onclick(){isLiked=!isLiked;post.save({isLiked:isLiked});var data=post.data.relationships.likes.data;data.some(function(like,i){if(like.id===app.session.user.id()){data.splice(i,1);return!0}});if(isLiked){data.unshift({type:'users',id:app.session.user.id()})}}}))})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default}],execute:function(){}}});'use strict';System.register('flarum/likes/addLikesList',['flarum/extend','flarum/app','flarum/components/CommentPost','flarum/helpers/punctuateSeries','flarum/helpers/username','flarum/helpers/icon','flarum/likes/components/PostLikesModal'],function(_export,_context){"use strict";var extend,app,CommentPost,punctuateSeries,username,icon,PostLikesModal;_export('default',function(){extend(CommentPost.prototype,'footerItems',function(items){var post=this.props.post;var likes=post.likes();if(likes&&likes.length){var limit=4;var overLimit=likes.length>limit;var names=likes.sort(function(a){return a===app.session.user?-1:1}).slice(0,overLimit?limit-1:limit).map(function(user){return m('a',{href:app.route.user(user),config:m.route},user===app.session.user?app.translator.trans('flarum-likes.forum.post.you_text'):username(user))});if(overLimit){var count=likes.length-names.length;names.push(m('a',{href:'#',onclick:function onclick(e){e.preventDefault();app.modal.show(new PostLikesModal({post:post}))}},app.translator.transChoice('flarum-likes.forum.post.others_link',count,{count:count})))}
items.add('liked',m('div',{className:'Post-likedBy'},icon('thumbs-o-up'),app.translator.transChoice('flarum-likes.forum.post.liked_by'+(likes[0]===app.session.user?'_self':'')+'_text',names.length,{count:names.length,users:punctuateSeries(names)})))}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumHelpersPunctuateSeries){punctuateSeries=_flarumHelpersPunctuateSeries.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumLikesComponentsPostLikesModal){PostLikesModal=_flarumLikesComponentsPostLikesModal.default}],execute:function(){}}});'use strict';System.register('flarum/likes/components/PostLikedNotification',['flarum/components/Notification','flarum/helpers/username','flarum/helpers/punctuateSeries'],function(_export,_context){"use strict";var Notification,username,punctuateSeries,PostLikedNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersPunctuateSeries){punctuateSeries=_flarumHelpersPunctuateSeries.default}],execute:function(){PostLikedNotification=function(_Notification){babelHelpers.inherits(PostLikedNotification,_Notification);function PostLikedNotification(){babelHelpers.classCallCheck(this,PostLikedNotification);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(PostLikedNotification).apply(this,arguments))}
babelHelpers.createClass(PostLikedNotification,[{key:'icon',value:function icon(){return'thumbs-o-up'}},{key:'href',value:function href(){return app.route.post(this.props.notification.subject())}},{key:'content',value:function content(){var notification=this.props.notification;var user=notification.sender();var auc=notification.additionalUnreadCount();return app.translator.transChoice('flarum-likes.forum.notifications.post_liked_text',auc+1,{user:user,username:auc?punctuateSeries([username(user),app.translator.transChoice('flarum-likes.forum.notifications.others_text',auc,{count:auc})]):undefined})}},{key:'excerpt',value:function excerpt(){return this.props.notification.subject().contentPlain()}}]);return PostLikedNotification}(Notification);_export('default',PostLikedNotification)}}});'use strict';System.register('flarum/likes/components/PostLikesModal',['flarum/components/Modal','flarum/helpers/avatar','flarum/helpers/username'],function(_export,_context){"use strict";var Modal,avatar,username,PostLikesModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default}],execute:function(){PostLikesModal=function(_Modal){babelHelpers.inherits(PostLikesModal,_Modal);function PostLikesModal(){babelHelpers.classCallCheck(this,PostLikesModal);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(PostLikesModal).apply(this,arguments))}
babelHelpers.createClass(PostLikesModal,[{key:'className',value:function className(){return'PostLikesModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('flarum-likes.forum.post_likes.title')}},{key:'content',value:function content(){return m('div',{className:'Modal-body'},m('ul',{className:'PostLikesModal-list'},this.props.post.likes().map(function(user){return m('li',null,m('a',{href:app.route.user(user),config:m.route},avatar(user),' ',' ',username(user)))})))}}]);return PostLikesModal}(Modal);_export('default',PostLikesModal)}}});'use strict';System.register('flarum/likes/main',['flarum/extend','flarum/app','flarum/models/Post','flarum/Model','flarum/components/NotificationGrid','flarum/likes/addLikeAction','flarum/likes/addLikesList','flarum/likes/components/PostLikedNotification'],function(_export,_context){"use strict";var extend,app,Post,Model,NotificationGrid,addLikeAction,addLikesList,PostLikedNotification;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumModelsPost){Post=_flarumModelsPost.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumComponentsNotificationGrid){NotificationGrid=_flarumComponentsNotificationGrid.default},function(_flarumLikesAddLikeAction){addLikeAction=_flarumLikesAddLikeAction.default},function(_flarumLikesAddLikesList){addLikesList=_flarumLikesAddLikesList.default},function(_flarumLikesComponentsPostLikedNotification){PostLikedNotification=_flarumLikesComponentsPostLikedNotification.default}],execute:function(){app.initializers.add('flarum-likes',function(){app.notificationComponents.postLiked=PostLikedNotification;Post.prototype.canLike=Model.attribute('canLike');Post.prototype.likes=Model.hasMany('likes');addLikeAction();addLikesList();extend(NotificationGrid.prototype,'notificationTypes',function(items){items.add('postLiked',{name:'postLiked',icon:'thumbs-o-up',label:app.translator.trans('flarum-likes.forum.settings.notify_post_liked_label')})})})}}});
'use strict';System.register('flarum/lock/addLockBadge',['flarum/extend','flarum/models/Discussion','flarum/components/Badge'],function(_export,_context){"use strict";var extend,Discussion,Badge;function addLockBadge(){extend(Discussion.prototype,'badges',function(badges){if(this.isLocked()){badges.add('locked',Badge.component({type:'locked',label:app.translator.trans('flarum-lock.forum.badge.locked_tooltip'),icon:'lock'}))}})}
_export('default',addLockBadge);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default}],execute:function(){}}});'use strict';System.register('flarum/lock/addLockControl',['flarum/extend','flarum/utils/DiscussionControls','flarum/components/DiscussionPage','flarum/components/Button'],function(_export,_context){"use strict";var extend,DiscussionControls,DiscussionPage,Button;function addLockControl(){extend(DiscussionControls,'moderationControls',function(items,discussion){if(discussion.canLock()){items.add('lock',Button.component({children:app.translator.trans(discussion.isLocked()?'flarum-lock.forum.discussion_controls.unlock_button':'flarum-lock.forum.discussion_controls.lock_button'),icon:'lock',onclick:this.lockAction.bind(discussion)}))}});DiscussionControls.lockAction=function(){this.save({isLocked:!this.isLocked()}).then(function(){if(app.current instanceof DiscussionPage){app.current.stream.update()}
m.redraw()})}}
_export('default',addLockControl);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){}}});'use strict';System.register('flarum/lock/components/DiscussionLockedNotification',['flarum/components/Notification'],function(_export,_context){"use strict";var Notification,DiscussionLockedNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default}],execute:function(){DiscussionLockedNotification=function(_Notification){babelHelpers.inherits(DiscussionLockedNotification,_Notification);function DiscussionLockedNotification(){babelHelpers.classCallCheck(this,DiscussionLockedNotification);return babelHelpers.possibleConstructorReturn(this,(DiscussionLockedNotification.__proto__||Object.getPrototypeOf(DiscussionLockedNotification)).apply(this,arguments))}
babelHelpers.createClass(DiscussionLockedNotification,[{key:'icon',value:function icon(){return'lock'}},{key:'href',value:function href(){var notification=this.props.notification;return app.route.discussion(notification.subject(),notification.content().postNumber)}},{key:'content',value:function content(){return app.translator.trans('flarum-lock.forum.notifications.discussion_locked_text',{user:this.props.notification.sender()})}}]);return DiscussionLockedNotification}(Notification);_export('default',DiscussionLockedNotification)}}});'use strict';System.register('flarum/lock/components/DiscussionLockedPost',['flarum/components/EventPost'],function(_export,_context){"use strict";var EventPost,DiscussionLockedPost;return{setters:[function(_flarumComponentsEventPost){EventPost=_flarumComponentsEventPost.default}],execute:function(){DiscussionLockedPost=function(_EventPost){babelHelpers.inherits(DiscussionLockedPost,_EventPost);function DiscussionLockedPost(){babelHelpers.classCallCheck(this,DiscussionLockedPost);return babelHelpers.possibleConstructorReturn(this,(DiscussionLockedPost.__proto__||Object.getPrototypeOf(DiscussionLockedPost)).apply(this,arguments))}
babelHelpers.createClass(DiscussionLockedPost,[{key:'icon',value:function icon(){return this.props.post.content().locked?'lock':'unlock'}},{key:'descriptionKey',value:function descriptionKey(){return this.props.post.content().locked?'flarum-lock.forum.post_stream.discussion_locked_text':'flarum-lock.forum.post_stream.discussion_unlocked_text'}}]);return DiscussionLockedPost}(EventPost);_export('default',DiscussionLockedPost)}}});'use strict';System.register('flarum/lock/main',['flarum/extend','flarum/app','flarum/Model','flarum/models/Discussion','flarum/components/NotificationGrid','flarum/lock/components/DiscussionLockedPost','flarum/lock/components/DiscussionLockedNotification','flarum/lock/addLockBadge','flarum/lock/addLockControl'],function(_export,_context){"use strict";var extend,app,Model,Discussion,NotificationGrid,DiscussionLockedPost,DiscussionLockedNotification,addLockBadge,addLockControl;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsNotificationGrid){NotificationGrid=_flarumComponentsNotificationGrid.default},function(_flarumLockComponentsDiscussionLockedPost){DiscussionLockedPost=_flarumLockComponentsDiscussionLockedPost.default},function(_flarumLockComponentsDiscussionLockedNotification){DiscussionLockedNotification=_flarumLockComponentsDiscussionLockedNotification.default},function(_flarumLockAddLockBadge){addLockBadge=_flarumLockAddLockBadge.default},function(_flarumLockAddLockControl){addLockControl=_flarumLockAddLockControl.default}],execute:function(){app.initializers.add('flarum-lock',function(){app.postComponents.discussionLocked=DiscussionLockedPost;app.notificationComponents.discussionLocked=DiscussionLockedNotification;Discussion.prototype.isLocked=Model.attribute('isLocked');Discussion.prototype.canLock=Model.attribute('canLock');addLockBadge();addLockControl();extend(NotificationGrid.prototype,'notificationTypes',function(items){items.add('discussionLocked',{name:'discussionLocked',icon:'lock',label:app.translator.trans('flarum-lock.forum.settings.notify_discussion_locked_label')})})})}}});
(function(){var properties=['direction','boxSizing','width','height','overflowX','overflowY','borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth','borderStyle','paddingTop','paddingRight','paddingBottom','paddingLeft','fontStyle','fontVariant','fontWeight','fontStretch','fontSize','fontSizeAdjust','lineHeight','fontFamily','textAlign','textTransform','textIndent','textDecoration','letterSpacing','wordSpacing','tabSize','MozTabSize'];var isBrowser=(typeof window!=='undefined');var isFirefox=(isBrowser&&window.mozInnerScreenX!=null);function getCaretCoordinates(element,position,options){if(!isBrowser){throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser')}
var debug=options&&options.debug||!1;if(debug){var el=document.querySelector('#input-textarea-caret-position-mirror-div');if(el){el.parentNode.removeChild(el)}}
var div=document.createElement('div');div.id='input-textarea-caret-position-mirror-div';document.body.appendChild(div);var style=div.style;var computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace='pre-wrap';if(element.nodeName!=='INPUT')
style.wordWrap='break-word';style.position='absolute';if(!debug)
style.visibility='hidden';properties.forEach(function(prop){style[prop]=computed[prop]});if(isFirefox){if(element.scrollHeight>parseInt(computed.height))
style.overflowY='scroll'}else{style.overflow='hidden'}
div.textContent=element.value.substring(0,position);if(element.nodeName==='INPUT')
div.textContent=div.textContent.replace(/\s/g,'\u00a0');var span=document.createElement('span');span.textContent=element.value.substring(position)||'.';div.appendChild(span);var coordinates={top:span.offsetTop+parseInt(computed.borderTopWidth),left:span.offsetLeft+parseInt(computed.borderLeftWidth)};if(debug){span.style.backgroundColor='#aaa'}else{document.body.removeChild(div)}
return coordinates}
if(typeof module!='undefined'&&typeof module.exports!='undefined'){module.exports=getCaretCoordinates}else if(isBrowser){window.getCaretCoordinates=getCaretCoordinates}}());'use strict';System.register('flarum/mentions/addComposerAutocomplete',['flarum/extend','flarum/components/ComposerBody','flarum/helpers/avatar','flarum/helpers/username','flarum/helpers/highlight','flarum/utils/KeyboardNavigatable','flarum/utils/string','flarum/mentions/components/AutocompleteDropdown'],function(_export,_context){"use strict";var extend,ComposerBody,avatar,usernameHelper,highlight,KeyboardNavigatable,truncate,AutocompleteDropdown;function addComposerAutocomplete(){extend(ComposerBody.prototype,'config',function(original,isInitialized){if(isInitialized)return;var composer=this;var $container=$('<div class="ComposerBody-mentionsDropdownContainer"></div>');var dropdown=new AutocompleteDropdown({items:[]});var $textarea=this.$('textarea').wrap('<div class="ComposerBody-mentionsWrapper"></div>');var searched=[];var mentionStart=void 0;var typed=void 0;var searchTimeout=void 0;var applySuggestion=function applySuggestion(replacement){var insert=replacement+' ';var content=composer.content();composer.editor.setValue(content.substring(0,mentionStart-1)+insert+content.substr($textarea[0].selectionStart));var index=mentionStart-1+insert.length;composer.editor.setSelectionRange(index,index);dropdown.hide()};this.navigator=new KeyboardNavigatable();this.navigator.when(function(){return dropdown.active}).onUp(function(){return dropdown.navigate(-1)}).onDown(function(){return dropdown.navigate(1)}).onSelect(dropdown.complete.bind(dropdown)).onCancel(dropdown.hide.bind(dropdown)).bindTo($textarea);$textarea.after($container).on('click keyup',function(e){var _this=this;if([9,13,27,40,38,37,39].indexOf(e.which)!==-1)return;var cursor=this.selectionStart;if(this.selectionEnd-cursor>0)return;var value=this.value;mentionStart=0;for(var i=cursor-1;i>=0;i--){var character=value.substr(i,1);if(/\s/.test(character))break;if(character==='@'){mentionStart=i+1;break}}
dropdown.hide();dropdown.active=!1;if(mentionStart){typed=value.substring(mentionStart,cursor).toLowerCase();var makeSuggestion=function makeSuggestion(user,replacement,content){var className=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';var username=usernameHelper(user);if(typed){username.children[0]=highlight(username.children[0],typed)}
return m('button',{className:'PostPreview '+className,onclick:function onclick(){return applySuggestion(replacement)},onmouseenter:function onmouseenter(){dropdown.setIndex($(this).parent().index())}},m('span',{className:'PostPreview-content'},avatar(user),username,' ',' ',content))};var buildSuggestions=function buildSuggestions(){var suggestions=[];if(typed){app.store.all('users').forEach(function(user){if(user.username().toLowerCase().substr(0,typed.length)!==typed)return;suggestions.push(makeSuggestion(user,'@'+user.username(),'','MentionsDropdown-user'))})}
var composerPost=composer.props.post;var discussion=composerPost&&composerPost.discussion()||composer.props.discussion;if(discussion){discussion.posts().filter(function(post){return post&&post.contentType()==='comment'&&(!composerPost||post.number()<composerPost.number())}).sort(function(a,b){return b.time()-a.time()}).filter(function(post){var user=post.user();return user&&user.username().toLowerCase().substr(0,typed.length)===typed}).splice(0,5).forEach(function(post){var user=post.user();suggestions.push(makeSuggestion(user,'@'+user.username()+'#'+post.id(),[app.translator.trans('flarum-mentions.forum.composer.reply_to_post_text',{number:post.number()}),' — ',truncate(post.contentPlain(),200)],'MentionsDropdown-post'))})}
if(suggestions.length){dropdown.props.items=suggestions;m.render($container[0],dropdown.render());dropdown.show();var coordinates=getCaretCoordinates(_this,mentionStart);var width=dropdown.$().outerWidth();var height=dropdown.$().outerHeight();var parent=dropdown.$().offsetParent();var left=coordinates.left;var top=coordinates.top+15;if(top+height>parent.height()){top=coordinates.top-height-15}
if(left+width>parent.width()){left=parent.width()-width}
dropdown.show(left,top)}};buildSuggestions();dropdown.setIndex(0);dropdown.$().scrollTop(0);dropdown.active=!0;clearTimeout(searchTimeout);if(typed){searchTimeout=setTimeout(function(){var typedLower=typed.toLowerCase();if(searched.indexOf(typedLower)===-1){app.store.find('users',{q:typed,page:{limit:5}}).then(function(){if(dropdown.active)buildSuggestions()});searched.push(typedLower)}},250)}}})})}
_export('default',addComposerAutocomplete);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsComposerBody){ComposerBody=_flarumComponentsComposerBody.default},function(_flarumHelpersAvatar){avatar=_flarumHelpersAvatar.default},function(_flarumHelpersUsername){usernameHelper=_flarumHelpersUsername.default},function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default},function(_flarumUtilsKeyboardNavigatable){KeyboardNavigatable=_flarumUtilsKeyboardNavigatable.default},function(_flarumUtilsString){truncate=_flarumUtilsString.truncate},function(_flarumMentionsComponentsAutocompleteDropdown){AutocompleteDropdown=_flarumMentionsComponentsAutocompleteDropdown.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/addMentionedByList',['flarum/extend','flarum/Model','flarum/models/Post','flarum/components/CommentPost','flarum/components/PostPreview','flarum/helpers/punctuateSeries','flarum/helpers/username','flarum/helpers/icon'],function(_export,_context){"use strict";var extend,Model,Post,CommentPost,PostPreview,punctuateSeries,username,icon;function addMentionedByList(){Post.prototype.mentionedBy=Model.hasMany('mentionedBy');extend(CommentPost.prototype,'footerItems',function(items){var _this=this;var post=this.props.post;var replies=post.mentionedBy();if(replies&&replies.length){if(replies.length===1&&replies[0].number()===post.number()+1){return}
var hidePreview=function hidePreview(){_this.$('.Post-mentionedBy-preview').removeClass('in').one('transitionend',function(){$(this).hide()})};var config=function config(element,isInitialized){if(isInitialized)return;var $this=$(element);var timeout=void 0;var $preview=$('<ul class="Dropdown-menu Post-mentionedBy-preview fade"/>');$this.append($preview);$this.children().hover(function(){clearTimeout(timeout);timeout=setTimeout(function(){if(!$preview.hasClass('in')&&$preview.is(':visible'))return;m.render($preview[0],replies.map(function(reply){return m('li',{'data-number':reply.number()},PostPreview.component({post:reply,onclick:hidePreview}))}));$preview.show();setTimeout(function(){return $preview.off('transitionend').addClass('in')})},500)},function(){clearTimeout(timeout);timeout=setTimeout(hidePreview,250)});$this.find('.Post-mentionedBy-summary a').hover(function(){$preview.find('[data-number="'+$(this).data('number')+'"]').addClass('active')},function(){$preview.find('[data-number]').removeClass('active')})};var users=[];var repliers=replies.sort(function(reply){return reply.user()===app.session.user?-1:0}).filter(function(reply){var user=reply.user();if(users.indexOf(user)===-1){users.push(user);return!0}});var limit=4;var overLimit=repliers.length>limit;var names=repliers.slice(0,overLimit?limit-1:limit).map(function(reply){var user=reply.user();return m('a',{href:app.route.post(reply),config:m.route,onclick:hidePreview,'data-number':reply.number()},app.session.user===user?app.translator.trans('flarum-mentions.forum.post.you_text'):username(user))});if(overLimit){var count=repliers.length-names.length;names.push(app.translator.transChoice('flarum-mentions.forum.post.others_text',count,{count:count}))}
items.add('replies',m('div',{className:'Post-mentionedBy',config:config},m('span',{className:'Post-mentionedBy-summary'},icon('reply'),app.translator.transChoice('flarum-mentions.forum.post.mentioned_by'+(repliers[0].user()===app.session.user?'_self':'')+'_text',names.length,{count:names.length,users:punctuateSeries(names)}))))}})}
_export('default',addMentionedByList);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsPost){Post=_flarumModelsPost.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumComponentsPostPreview){PostPreview=_flarumComponentsPostPreview.default},function(_flarumHelpersPunctuateSeries){punctuateSeries=_flarumHelpersPunctuateSeries.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/addPostMentionPreviews',['flarum/extend','flarum/components/CommentPost','flarum/components/PostPreview','flarum/components/LoadingIndicator'],function(_export,_context){"use strict";var extend,CommentPost,PostPreview,LoadingIndicator;function addPostMentionPreviews(){extend(CommentPost.prototype,'config',function(){var contentHtml=this.props.post.contentHtml();if(contentHtml===this.oldPostContentHtml||this.isEditing())return;this.oldPostContentHtml=contentHtml;var parentPost=this.props.post;var $parentPost=this.$();this.$('.UserMention, .PostMention').each(function(){m.route.call(this,this,!1,{},{attrs:{href:this.getAttribute('href')}})});this.$('.PostMention').each(function(){var $this=$(this);var id=$this.data('id');var timeout=void 0;var $preview=$('<ul class="Dropdown-menu PostMention-preview fade"/>');$parentPost.append($preview);var getPostElement=function getPostElement(){return $('.PostStream-item[data-id="'+id+'"]')};var showPreview=function showPreview(){var $post=getPostElement();var visible=!1;if($post.length){var top=$post.offset().top;var scrollTop=window.pageYOffset;if(top>scrollTop&&top+$post.height()<scrollTop+$(window).height()){$post.addClass('pulsate');visible=!0}}
if(!visible){var positionPreview=function positionPreview(){var previewHeight=$preview.outerHeight(!0);var offset=0;if($this.offset().top-previewHeight<$(window).scrollTop()+$('#header').outerHeight()){offset+=$this.outerHeight(!0)}else{offset-=previewHeight}
$preview.show().css('top',$this.offset().top-$parentPost.offset().top+offset).css('left',$this.offsetParent().offset().left-$parentPost.offset().left).css('max-width',$this.offsetParent().width())};var showPost=function showPost(post){var discussion=post.discussion();m.render($preview[0],[discussion!==parentPost.discussion()?m('li',null,m('span',{className:'PostMention-preview-discussion'},discussion.title())):'',m('li',null,PostPreview.component({post:post}))]);positionPreview()};var post=app.store.getById('posts',id);if(post&&post.discussion()){showPost(post)}else{m.render($preview[0],LoadingIndicator.component());app.store.find('posts',id).then(showPost);positionPreview()}
setTimeout(function(){return $preview.off('transitionend').addClass('in')})}};var hidePreview=function hidePreview(){getPostElement().removeClass('pulsate');if($preview.hasClass('in')){$preview.removeClass('in').one('transitionend',function(){return $preview.hide()})}};$this.on('touchstart',function(e){return e.preventDefault()});$this.add($preview).hover(function(){clearTimeout(timeout);timeout=setTimeout(showPreview,250)},function(){clearTimeout(timeout);getPostElement().removeClass('pulsate');timeout=setTimeout(hidePreview,250)}).on('touchend',function(e){showPreview();e.stopPropagation()});$(document).on('touchend',hidePreview)})})}
_export('default',addPostMentionPreviews);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumComponentsPostPreview){PostPreview=_flarumComponentsPostPreview.default},function(_flarumComponentsLoadingIndicator){LoadingIndicator=_flarumComponentsLoadingIndicator.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/addPostQuoteButton',['flarum/extend','flarum/components/CommentPost','flarum/mentions/components/PostQuoteButton','flarum/mentions/utils/selectedText'],function(_export,_context){"use strict";var extend,CommentPost,PostQuoteButton,selectedText;function addPostQuoteButton(){extend(CommentPost.prototype,'config',function(original,isInitialized){var post=this.props.post;if(isInitialized||post.isHidden()||app.session.user&&!post.discussion().canReply())return;var $postBody=this.$('.Post-body');var $container=$('<div class="Post-quoteButtonContainer"></div>');var handler=function handler(e){setTimeout(function(){var content=selectedText($postBody);if(content){var button=new PostQuoteButton({post:post,content:content});m.render($container[0],button.render());var rects=window.getSelection().getRangeAt(0).getClientRects();var firstRect=rects[0];if(e.clientY<firstRect.bottom&&e.clientX-firstRect.right<firstRect.left-e.clientX){button.showStart(firstRect.left,firstRect.top)}else{var lastRect=rects[rects.length-1];button.showEnd(lastRect.right,lastRect.bottom)}}},1)};this.$().after($container).on('mouseup',handler);if('ontouchstart' in window){document.addEventListener('selectionchange',handler,!1)}})}
_export('default',addPostQuoteButton);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumMentionsComponentsPostQuoteButton){PostQuoteButton=_flarumMentionsComponentsPostQuoteButton.default},function(_flarumMentionsUtilsSelectedText){selectedText=_flarumMentionsUtilsSelectedText.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/addPostReplyAction',['flarum/extend','flarum/components/Button','flarum/components/CommentPost','flarum/mentions/utils/reply'],function(_export,_context){"use strict";var extend,Button,CommentPost,reply;_export('default',function(){extend(CommentPost.prototype,'actionItems',function(items){var post=this.props.post;if(post.isHidden()||app.session.user&&!post.discussion().canReply())return;items.add('reply',Button.component({className:'Button Button--link',children:app.translator.trans('flarum-mentions.forum.post.reply_link'),onclick:function onclick(){return reply(post)}}))})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsCommentPost){CommentPost=_flarumComponentsCommentPost.default},function(_flarumMentionsUtilsReply){reply=_flarumMentionsUtilsReply.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/components/AutocompleteDropdown',['flarum/Component'],function(_export,_context){"use strict";var Component,AutocompleteDropdown;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){AutocompleteDropdown=function(_Component){babelHelpers.inherits(AutocompleteDropdown,_Component);function AutocompleteDropdown(){babelHelpers.classCallCheck(this,AutocompleteDropdown);return babelHelpers.possibleConstructorReturn(this,(AutocompleteDropdown.__proto__||Object.getPrototypeOf(AutocompleteDropdown)).apply(this,arguments))}
babelHelpers.createClass(AutocompleteDropdown,[{key:'init',value:function init(){this.active=!1;this.index=0;this.keyWasJustPressed=!1}},{key:'view',value:function view(){return m('ul',{className:'Dropdown-menu MentionsDropdown'},this.props.items.map(function(item){return m('li',null,item)}))}},{key:'show',value:function show(left,top){this.$().show().css({left:left+'px',top:top+'px'});this.active=!0}},{key:'hide',value:function hide(){this.$().hide();this.active=!1}},{key:'navigate',value:function navigate(delta){var _this2=this;this.keyWasJustPressed=!0;this.setIndex(this.index+delta,!0);clearTimeout(this.keyWasJustPressedTimeout);this.keyWasJustPressedTimeout=setTimeout(function(){return _this2.keyWasJustPressed=!1},500)}},{key:'complete',value:function complete(){this.$('li').eq(this.index).find('button').click()}},{key:'setIndex',value:function setIndex(index,scrollToItem){if(this.keyWasJustPressed&&!scrollToItem)return;var $dropdown=this.$();var $items=$dropdown.find('li');var rangedIndex=index;if(rangedIndex<0){rangedIndex=$items.length-1}else if(rangedIndex>=$items.length){rangedIndex=0}
this.index=rangedIndex;var $item=$items.removeClass('active').eq(rangedIndex).addClass('active');if(scrollToItem){var dropdownScroll=$dropdown.scrollTop();var dropdownTop=$dropdown.offset().top;var dropdownBottom=dropdownTop+$dropdown.outerHeight();var itemTop=$item.offset().top;var itemBottom=itemTop+$item.outerHeight();var scrollTop=void 0;if(itemTop<dropdownTop){scrollTop=dropdownScroll-dropdownTop+itemTop-parseInt($dropdown.css('padding-top'),10)}else if(itemBottom>dropdownBottom){scrollTop=dropdownScroll-dropdownBottom+itemBottom+parseInt($dropdown.css('padding-bottom'),10)}
if(typeof scrollTop!=='undefined'){$dropdown.stop(!0).animate({scrollTop:scrollTop},100)}}}}]);return AutocompleteDropdown}(Component);_export('default',AutocompleteDropdown)}}});'use strict';System.register('flarum/mentions/components/MentionsUserPage',['flarum/components/PostsUserPage'],function(_export,_context){"use strict";var PostsUserPage,MentionsUserPage;return{setters:[function(_flarumComponentsPostsUserPage){PostsUserPage=_flarumComponentsPostsUserPage.default}],execute:function(){MentionsUserPage=function(_PostsUserPage){babelHelpers.inherits(MentionsUserPage,_PostsUserPage);function MentionsUserPage(){babelHelpers.classCallCheck(this,MentionsUserPage);return babelHelpers.possibleConstructorReturn(this,(MentionsUserPage.__proto__||Object.getPrototypeOf(MentionsUserPage)).apply(this,arguments))}
babelHelpers.createClass(MentionsUserPage,[{key:'loadResults',value:function loadResults(offset){return app.store.find('posts',{filter:{type:'comment',mentioned:this.user.id()},page:{offset:offset,limit:this.loadLimit},sort:'-time'})}}]);return MentionsUserPage}(PostsUserPage);_export('default',MentionsUserPage)}}});'use strict';System.register('flarum/mentions/components/PostMentionedNotification',['flarum/components/Notification','flarum/helpers/username','flarum/helpers/punctuateSeries'],function(_export,_context){"use strict";var Notification,username,punctuateSeries,PostMentionedNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default},function(_flarumHelpersPunctuateSeries){punctuateSeries=_flarumHelpersPunctuateSeries.default}],execute:function(){PostMentionedNotification=function(_Notification){babelHelpers.inherits(PostMentionedNotification,_Notification);function PostMentionedNotification(){babelHelpers.classCallCheck(this,PostMentionedNotification);return babelHelpers.possibleConstructorReturn(this,(PostMentionedNotification.__proto__||Object.getPrototypeOf(PostMentionedNotification)).apply(this,arguments))}
babelHelpers.createClass(PostMentionedNotification,[{key:'icon',value:function icon(){return'reply'}},{key:'href',value:function href(){var notification=this.props.notification;var post=notification.subject();var auc=notification.additionalUnreadCount();var content=notification.content();return app.route.discussion(post.discussion(),auc?post.number():content&&content.replyNumber)}},{key:'content',value:function content(){var notification=this.props.notification;var auc=notification.additionalUnreadCount();var user=notification.sender();return app.translator.transChoice('flarum-mentions.forum.notifications.post_mentioned_text',auc+1,{user:user,username:auc?punctuateSeries([username(user),app.translator.transChoice('flarum-mentions.forum.notifications.others_text',auc,{count:auc})]):undefined})}},{key:'excerpt',value:function excerpt(){return this.props.notification.subject().contentPlain()}}]);return PostMentionedNotification}(Notification);_export('default',PostMentionedNotification)}}});'use strict';System.register('flarum/mentions/components/PostQuoteButton',['flarum/components/Button','flarum/utils/extract','flarum/mentions/utils/reply'],function(_export,_context){"use strict";var Button,extract,reply,PostQuoteButton;return{setters:[function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default},function(_flarumMentionsUtilsReply){reply=_flarumMentionsUtilsReply.default}],execute:function(){PostQuoteButton=function(_Button){babelHelpers.inherits(PostQuoteButton,_Button);function PostQuoteButton(){babelHelpers.classCallCheck(this,PostQuoteButton);return babelHelpers.possibleConstructorReturn(this,(PostQuoteButton.__proto__||Object.getPrototypeOf(PostQuoteButton)).apply(this,arguments))}
babelHelpers.createClass(PostQuoteButton,[{key:'view',value:function view(){var _this2=this;var post=extract(this.props,'post');var content=extract(this.props,'content');this.props.className='Button PostQuoteButton';this.props.icon='quote-left';this.props.children=app.translator.trans('flarum-mentions.forum.post.quote_button');this.props.onclick=function(){_this2.hide();reply(post,content)};this.props.onmousedown=function(e){return e.stopPropagation()};return babelHelpers.get(PostQuoteButton.prototype.__proto__||Object.getPrototypeOf(PostQuoteButton.prototype),'view',this).call(this)}},{key:'config',value:function config(isInitialized){if(isInitialized)return;$(document).on('mousedown',this.hide.bind(this))}},{key:'showStart',value:function showStart(left,top){var $this=this.$();$this.show().css('left',left).css('top',$(window).scrollTop()+top-$this.outerHeight()-5)}},{key:'showEnd',value:function showEnd(right,bottom){var $this=this.$();$this.show().css('left',right-$this.outerWidth()).css('top',$(window).scrollTop()+bottom+5)}},{key:'hide',value:function hide(){this.$().hide()}}]);return PostQuoteButton}(Button);_export('default',PostQuoteButton)}}});'use strict';System.register('flarum/mentions/components/UserMentionedNotification',['flarum/components/Notification'],function(_export,_context){"use strict";var Notification,UserMentionedNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default}],execute:function(){UserMentionedNotification=function(_Notification){babelHelpers.inherits(UserMentionedNotification,_Notification);function UserMentionedNotification(){babelHelpers.classCallCheck(this,UserMentionedNotification);return babelHelpers.possibleConstructorReturn(this,(UserMentionedNotification.__proto__||Object.getPrototypeOf(UserMentionedNotification)).apply(this,arguments))}
babelHelpers.createClass(UserMentionedNotification,[{key:'icon',value:function icon(){return'at'}},{key:'href',value:function href(){var post=this.props.notification.subject();return app.route.discussion(post.discussion(),post.number())}},{key:'content',value:function content(){var user=this.props.notification.sender();return app.translator.trans('flarum-mentions.forum.notifications.user_mentioned_text',{user:user})}},{key:'excerpt',value:function excerpt(){return this.props.notification.subject().contentPlain()}}]);return UserMentionedNotification}(Notification);_export('default',UserMentionedNotification)}}});'use strict';System.register('flarum/mentions/main',['flarum/extend','flarum/app','flarum/components/NotificationGrid','flarum/utils/string','flarum/mentions/addPostMentionPreviews','flarum/mentions/addMentionedByList','flarum/mentions/addPostReplyAction','flarum/mentions/addPostQuoteButton','flarum/mentions/addComposerAutocomplete','flarum/mentions/components/PostMentionedNotification','flarum/mentions/components/UserMentionedNotification','flarum/components/UserPage','flarum/components/LinkButton','flarum/mentions/components/MentionsUserPage'],function(_export,_context){"use strict";var extend,app,NotificationGrid,getPlainContent,addPostMentionPreviews,addMentionedByList,addPostReplyAction,addPostQuoteButton,addComposerAutocomplete,PostMentionedNotification,UserMentionedNotification,UserPage,LinkButton,MentionsUserPage;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumComponentsNotificationGrid){NotificationGrid=_flarumComponentsNotificationGrid.default},function(_flarumUtilsString){getPlainContent=_flarumUtilsString.getPlainContent},function(_flarumMentionsAddPostMentionPreviews){addPostMentionPreviews=_flarumMentionsAddPostMentionPreviews.default},function(_flarumMentionsAddMentionedByList){addMentionedByList=_flarumMentionsAddMentionedByList.default},function(_flarumMentionsAddPostReplyAction){addPostReplyAction=_flarumMentionsAddPostReplyAction.default},function(_flarumMentionsAddPostQuoteButton){addPostQuoteButton=_flarumMentionsAddPostQuoteButton.default},function(_flarumMentionsAddComposerAutocomplete){addComposerAutocomplete=_flarumMentionsAddComposerAutocomplete.default},function(_flarumMentionsComponentsPostMentionedNotification){PostMentionedNotification=_flarumMentionsComponentsPostMentionedNotification.default},function(_flarumMentionsComponentsUserMentionedNotification){UserMentionedNotification=_flarumMentionsComponentsUserMentionedNotification.default},function(_flarumComponentsUserPage){UserPage=_flarumComponentsUserPage.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumMentionsComponentsMentionsUserPage){MentionsUserPage=_flarumMentionsComponentsMentionsUserPage.default}],execute:function(){app.initializers.add('flarum-mentions',function(){addPostMentionPreviews();addMentionedByList();addPostReplyAction();addPostQuoteButton();addComposerAutocomplete();app.notificationComponents.postMentioned=PostMentionedNotification;app.notificationComponents.userMentioned=UserMentionedNotification;extend(NotificationGrid.prototype,'notificationTypes',function(items){items.add('postMentioned',{name:'postMentioned',icon:'reply',label:app.translator.trans('flarum-mentions.forum.settings.notify_post_mentioned_label')});items.add('userMentioned',{name:'userMentioned',icon:'at',label:app.translator.trans('flarum-mentions.forum.settings.notify_user_mentioned_label')})});app.routes['user.mentions']={path:'/u/:username/mentions',component:MentionsUserPage.component()};extend(UserPage.prototype,'navItems',function(items){var user=this.user;items.add('mentions',LinkButton.component({href:app.route('user.mentions',{username:user.username()}),name:'mentions',children:[app.translator.trans('flarum-mentions.forum.user.mentions_link')],icon:'at'}),80)});getPlainContent.removeSelectors.push('a.PostMention')})}}});'use strict';System.register('flarum/mentions/utils/reply',['flarum/utils/DiscussionControls'],function(_export,_context){"use strict";var DiscussionControls;function insertMention(post,component,quote){var user=post.user();var mention='@'+(user?user.username():post.number())+'#'+post.id()+' ';if(!component.content()){component.props.originalContent=mention}
var cursorPosition=component.editor.getSelectionRange()[0];var preceding=component.editor.value().slice(0,cursorPosition);var precedingNewlines=preceding.length==0?0:3-preceding.match(/(\n{0,2})$/)[0].length;component.editor.insertAtCursor(Array(precedingNewlines).join('\n')+(quote?'> '+mention+quote.trim().replace(/\n/g,'\n> ')+'\n\n':mention))}
function reply(post,quote){var component=app.composer.component;if(component&&component.props.post&&component.props.post.discussion()===post.discussion()){insertMention(post,component,quote)}else{DiscussionControls.replyAction.call(post.discussion()).then(function(newComponent){return insertMention(post,newComponent,quote)})}}
_export('default',reply);return{setters:[function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default}],execute:function(){}}});'use strict';System.register('flarum/mentions/utils/selectedText',[],function(_export,_context){"use strict";function selectedText(body){var selection=window.getSelection();if(selection.rangeCount){var range=selection.getRangeAt(0);var parent=range.commonAncestorContainer;if(body[0]===parent||$.contains(body[0],parent)){var clone=$("<div>").append(range.cloneContents());clone.find('img.emoji').replaceWith(function(){return this.alt});clone.find('img').replaceWith(function(){return'![]('+this.src+')'});clone.find('a').replaceWith(function(){return'['+this.innerText+']('+this.href+')'});return clone.text()}}
return""}
_export('default',selectedText);return{setters:[],execute:function(){}}});
'use strict';System.register('flarum/sticky/addStickyBadge',['flarum/extend','flarum/models/Discussion','flarum/components/Badge'],function(_export,_context){"use strict";var extend,Discussion,Badge;function addStickyBadge(){extend(Discussion.prototype,'badges',function(badges){if(this.isSticky()){badges.add('sticky',Badge.component({type:'sticky',label:app.translator.trans('flarum-sticky.forum.badge.sticky_tooltip'),icon:'thumb-tack'}),10)}})}
_export('default',addStickyBadge);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default}],execute:function(){}}});'use strict';System.register('flarum/sticky/addStickyControl',['flarum/extend','flarum/utils/DiscussionControls','flarum/components/DiscussionPage','flarum/components/Button'],function(_export,_context){"use strict";var extend,DiscussionControls,DiscussionPage,Button;function addStickyControl(){extend(DiscussionControls,'moderationControls',function(items,discussion){if(discussion.canSticky()){items.add('sticky',Button.component({children:app.translator.trans(discussion.isSticky()?'flarum-sticky.forum.discussion_controls.unsticky_button':'flarum-sticky.forum.discussion_controls.sticky_button'),icon:'thumb-tack',onclick:this.stickyAction.bind(discussion)}))}});DiscussionControls.stickyAction=function(){this.save({isSticky:!this.isSticky()}).then(function(){if(app.current instanceof DiscussionPage){app.current.stream.update()}
m.redraw()})}}
_export('default',addStickyControl);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){}}});'use strict';System.register('flarum/sticky/addStickyExcerpt',['flarum/extend','flarum/components/DiscussionList','flarum/components/DiscussionListItem','flarum/utils/string'],function(_export,_context){"use strict";var extend,DiscussionList,DiscussionListItem,truncate;function addStickyControl(){extend(DiscussionList.prototype,'requestParams',function(params){params.include.push('startPost')});extend(DiscussionListItem.prototype,'infoItems',function(items){var discussion=this.props.discussion;if(discussion.isSticky()){var startPost=discussion.startPost();if(startPost){var excerpt=m('span',null,truncate(startPost.contentPlain(),200));items.add('excerpt',excerpt,-100)}}})}
_export('default',addStickyControl);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsDiscussionList){DiscussionList=_flarumComponentsDiscussionList.default},function(_flarumComponentsDiscussionListItem){DiscussionListItem=_flarumComponentsDiscussionListItem.default},function(_flarumUtilsString){truncate=_flarumUtilsString.truncate}],execute:function(){}}});'use strict';System.register('flarum/sticky/components/DiscussionStickiedPost',['flarum/components/EventPost'],function(_export,_context){"use strict";var EventPost,DiscussionStickiedPost;return{setters:[function(_flarumComponentsEventPost){EventPost=_flarumComponentsEventPost.default}],execute:function(){DiscussionStickiedPost=function(_EventPost){babelHelpers.inherits(DiscussionStickiedPost,_EventPost);function DiscussionStickiedPost(){babelHelpers.classCallCheck(this,DiscussionStickiedPost);return babelHelpers.possibleConstructorReturn(this,(DiscussionStickiedPost.__proto__||Object.getPrototypeOf(DiscussionStickiedPost)).apply(this,arguments))}
babelHelpers.createClass(DiscussionStickiedPost,[{key:'icon',value:function icon(){return'thumb-tack'}},{key:'descriptionKey',value:function descriptionKey(){return this.props.post.content().sticky?'flarum-sticky.forum.post_stream.discussion_stickied_text':'flarum-sticky.forum.post_stream.discussion_unstickied_text'}}]);return DiscussionStickiedPost}(EventPost);_export('default',DiscussionStickiedPost)}}});'use strict';System.register('flarum/sticky/main',['flarum/extend','flarum/app','flarum/Model','flarum/models/Discussion','flarum/sticky/components/DiscussionStickiedPost','flarum/sticky/addStickyBadge','flarum/sticky/addStickyControl','flarum/sticky/addStickyExcerpt'],function(_export,_context){"use strict";var extend,notificationType,app,Model,Discussion,DiscussionStickiedPost,addStickyBadge,addStickyControl,addStickyExcerpt;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend;notificationType=_flarumExtend.notificationType},function(_flarumApp){app=_flarumApp.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumStickyComponentsDiscussionStickiedPost){DiscussionStickiedPost=_flarumStickyComponentsDiscussionStickiedPost.default},function(_flarumStickyAddStickyBadge){addStickyBadge=_flarumStickyAddStickyBadge.default},function(_flarumStickyAddStickyControl){addStickyControl=_flarumStickyAddStickyControl.default},function(_flarumStickyAddStickyExcerpt){addStickyExcerpt=_flarumStickyAddStickyExcerpt.default}],execute:function(){app.initializers.add('flarum-sticky',function(){app.postComponents.discussionStickied=DiscussionStickiedPost;Discussion.prototype.isSticky=Model.attribute('isSticky');Discussion.prototype.canSticky=Model.attribute('canSticky');addStickyBadge();addStickyControl();addStickyExcerpt()})}}});
'use strict';System.register('flarum/subscriptions/addSubscriptionBadge',['flarum/extend','flarum/models/Discussion','flarum/components/Badge'],function(_export,_context){"use strict";var extend,Discussion,Badge;function addSubscriptionBadge(){extend(Discussion.prototype,'badges',function(badges){var badge=void 0;switch(this.subscription()){case 'follow':badge=Badge.component({label:app.translator.trans('flarum-subscriptions.forum.badge.following_tooltip'),icon:'star',type:'following'});break;case 'ignore':badge=Badge.component({label:app.translator.trans('flarum-subscriptions.forum.badge.ignoring_tooltip'),icon:'eye-slash',type:'ignoring'});break;default:}
if(badge){badges.add('subscription',badge)}})}
_export('default',addSubscriptionBadge);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default}],execute:function(){}}});'use strict';System.register('flarum/subscriptions/addSubscriptionControls',['flarum/extend','flarum/components/Button','flarum/components/DiscussionPage','flarum/utils/DiscussionControls','flarum/subscriptions/components/SubscriptionMenu'],function(_export,_context){"use strict";var extend,Button,DiscussionPage,DiscussionControls,SubscriptionMenu;function addSubscriptionControls(){extend(DiscussionControls,'userControls',function(items,discussion,context){if(app.session.user&&!(context instanceof DiscussionPage)){var states={none:{label:app.translator.trans('flarum-subscriptions.forum.discussion_controls.follow_button'),icon:'star',save:'follow'},follow:{label:app.translator.trans('flarum-subscriptions.forum.discussion_controls.unfollow_button'),icon:'star-o',save:!1},ignore:{label:app.translator.trans('flarum-subscriptions.forum.discussion_controls.unignore_button'),icon:'eye',save:!1}};var subscription=discussion.subscription()||'none';items.add('subscription',Button.component({children:states[subscription].label,icon:states[subscription].icon,onclick:discussion.save.bind(discussion,{subscription:states[subscription].save})}))}});extend(DiscussionPage.prototype,'sidebarItems',function(items){if(app.session.user){var discussion=this.discussion;items.add('subscription',SubscriptionMenu.component({discussion:discussion}))}})}
_export('default',addSubscriptionControls);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default},function(_flarumSubscriptionsComponentsSubscriptionMenu){SubscriptionMenu=_flarumSubscriptionsComponentsSubscriptionMenu.default}],execute:function(){}}});'use strict';System.register('flarum/subscriptions/addSubscriptionFilter',['flarum/extend','flarum/components/LinkButton','flarum/components/IndexPage','flarum/components/DiscussionList'],function(_export,_context){"use strict";var extend,LinkButton,IndexPage,DiscussionList;function addSubscriptionFilter(){extend(IndexPage.prototype,'navItems',function(items){if(app.session.user){var params=this.stickyParams();params.filter='following';items.add('following',LinkButton.component({href:app.route('index.filter',params),children:app.translator.trans('flarum-subscriptions.forum.index.following_link'),icon:'star'}),50)}});extend(DiscussionList.prototype,'requestParams',function(params){if(this.props.params.filter==='following'){params.filter.q=(params.filter.q||'')+' is:following'}})}
_export('default',addSubscriptionFilter);return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumComponentsDiscussionList){DiscussionList=_flarumComponentsDiscussionList.default}],execute:function(){}}});'use strict';System.register('flarum/subscriptions/addSubscriptionSettings',['flarum/extend','flarum/components/SettingsPage','flarum/components/FieldSet','flarum/components/Switch','flarum/utils/ItemList'],function(_export,_context){"use strict";var extend,SettingsPage,FieldSet,Switch,ItemList;_export('default',function(){extend(SettingsPage.prototype,'notificationsItems',function(items){items.add('followAfterReply',Switch.component({children:app.translator.trans('flarum-subscriptions.forum.settings.follow_after_reply_label'),state:this.user.preferences().followAfterReply,onchange:this.preferenceSaver('followAfterReply')}))})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsSettingsPage){SettingsPage=_flarumComponentsSettingsPage.default},function(_flarumComponentsFieldSet){FieldSet=_flarumComponentsFieldSet.default},function(_flarumComponentsSwitch){Switch=_flarumComponentsSwitch.default},function(_flarumUtilsItemList){ItemList=_flarumUtilsItemList.default}],execute:function(){}}});'use strict';System.register('flarum/subscriptions/components/NewPostNotification',['flarum/components/Notification','flarum/helpers/username'],function(_export,_context){"use strict";var Notification,username,NewPostNotification;return{setters:[function(_flarumComponentsNotification){Notification=_flarumComponentsNotification.default},function(_flarumHelpersUsername){username=_flarumHelpersUsername.default}],execute:function(){NewPostNotification=function(_Notification){babelHelpers.inherits(NewPostNotification,_Notification);function NewPostNotification(){babelHelpers.classCallCheck(this,NewPostNotification);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(NewPostNotification).apply(this,arguments))}
babelHelpers.createClass(NewPostNotification,[{key:'icon',value:function icon(){return'star'}},{key:'href',value:function href(){var notification=this.props.notification;var discussion=notification.subject();var content=notification.content()||{};return app.route.discussion(discussion,content.postNumber)}},{key:'content',value:function content(){return app.translator.trans('flarum-subscriptions.forum.notifications.new_post_text',{user:this.props.notification.sender()})}}]);return NewPostNotification}(Notification);_export('default',NewPostNotification)}}});'use strict';System.register('flarum/subscriptions/components/SubscriptionMenu',['flarum/components/Dropdown','flarum/components/Button','flarum/helpers/icon','flarum/utils/extractText','flarum/subscriptions/components/SubscriptionMenuItem'],function(_export,_context){"use strict";var Dropdown,Button,icon,extractText,SubscriptionMenuItem,SubscriptionMenu;return{setters:[function(_flarumComponentsDropdown){Dropdown=_flarumComponentsDropdown.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumSubscriptionsComponentsSubscriptionMenuItem){SubscriptionMenuItem=_flarumSubscriptionsComponentsSubscriptionMenuItem.default}],execute:function(){SubscriptionMenu=function(_Dropdown){babelHelpers.inherits(SubscriptionMenu,_Dropdown);function SubscriptionMenu(){babelHelpers.classCallCheck(this,SubscriptionMenu);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(SubscriptionMenu).apply(this,arguments))}
babelHelpers.createClass(SubscriptionMenu,[{key:'init',value:function init(){this.options=[{subscription:!1,icon:'star-o',label:app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button'),description:app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_text')},{subscription:'follow',icon:'star',label:app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button'),description:app.translator.trans('flarum-subscriptions.forum.sub_controls.following_text')},{subscription:'ignore',icon:'eye-slash',label:app.translator.trans('flarum-subscriptions.forum.sub_controls.ignoring_button'),description:app.translator.trans('flarum-subscriptions.forum.sub_controls.ignoring_text')}]}},{key:'view',value:function view(){var _this2=this;var discussion=this.props.discussion;var subscription=discussion.subscription();var buttonLabel=app.translator.trans('flarum-subscriptions.forum.sub_controls.follow_button');var buttonIcon='star-o';var buttonClass='SubscriptionMenu-button--'+subscription;switch(subscription){case 'follow':buttonLabel=app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');buttonIcon='star';break;case 'ignore':buttonLabel=app.translator.trans('flarum-subscriptions.forum.sub_controls.ignoring_button');buttonIcon='eye-slash';break;default:}
var preferences=app.session.user.preferences();var notifyEmail=preferences.notify_newPost_email;var notifyAlert=preferences.notify_newPost_alert;var title=extractText(app.translator.trans(notifyEmail?'flarum-subscriptions.forum.sub_controls.notify_email_tooltip':'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'));var buttonProps={className:'Button SubscriptionMenu-button '+buttonClass,icon:buttonIcon,children:buttonLabel,onclick:this.saveSubscription.bind(this,discussion,['follow','ignore'].indexOf(subscription)!==-1?!1:'follow'),title:title};if((notifyEmail||notifyAlert)&&subscription===!1){buttonProps.config=function(element){$(element).tooltip({container:'.SubscriptionMenu',placement:'bottom',delay:250,title:title})}}else{buttonProps.config=function(element){return $(element).tooltip('destroy')}}
return m('div',{className:'Dropdown ButtonGroup SubscriptionMenu'},Button.component(buttonProps),m('button',{className:'Dropdown-toggle Button Button--icon '+buttonClass,'data-toggle':'dropdown'},icon('caret-down',{className:'Button-icon'})),m('ul',{className:'Dropdown-menu dropdown-menu Dropdown-menu--right'},this.options.map(function(props){props.onclick=_this2.saveSubscription.bind(_this2,discussion,props.subscription);props.active=subscription===props.subscription;return m('li',null,SubscriptionMenuItem.component(props))})))}},{key:'saveSubscription',value:function saveSubscription(discussion,subscription){discussion.save({subscription:subscription});this.$('.SubscriptionMenu-button').tooltip('hide')}}]);return SubscriptionMenu}(Dropdown);_export('default',SubscriptionMenu)}}});'use strict';System.register('flarum/subscriptions/components/SubscriptionMenuItem',['flarum/Component','flarum/helpers/icon'],function(_export,_context){"use strict";var Component,icon,SubscriptionMenuItem;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default}],execute:function(){SubscriptionMenuItem=function(_Component){babelHelpers.inherits(SubscriptionMenuItem,_Component);function SubscriptionMenuItem(){babelHelpers.classCallCheck(this,SubscriptionMenuItem);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(SubscriptionMenuItem).apply(this,arguments))}
babelHelpers.createClass(SubscriptionMenuItem,[{key:'view',value:function view(){return m('button',{className:'SubscriptionMenuItem hasIcon',onclick:this.props.onclick},this.props.active?icon('check',{className:'Button-icon'}):'',m('span',{className:'SubscriptionMenuItem-label'},icon(this.props.icon,{className:'Button-icon'}),m('strong',null,this.props.label),m('span',{className:'SubscriptionMenuItem-description'},this.props.description)))}}]);return SubscriptionMenuItem}(Component);_export('default',SubscriptionMenuItem)}}});'use strict';System.register('flarum/subscriptions/main',['flarum/extend','flarum/app','flarum/Model','flarum/models/Discussion','flarum/components/NotificationGrid','flarum/subscriptions/addSubscriptionBadge','flarum/subscriptions/addSubscriptionControls','flarum/subscriptions/addSubscriptionFilter','flarum/subscriptions/addSubscriptionSettings','flarum/subscriptions/components/NewPostNotification'],function(_export,_context){"use strict";var extend,app,Model,Discussion,NotificationGrid,addSubscriptionBadge,addSubscriptionControls,addSubscriptionFilter,addSubscriptionSettings,NewPostNotification;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsNotificationGrid){NotificationGrid=_flarumComponentsNotificationGrid.default},function(_flarumSubscriptionsAddSubscriptionBadge){addSubscriptionBadge=_flarumSubscriptionsAddSubscriptionBadge.default},function(_flarumSubscriptionsAddSubscriptionControls){addSubscriptionControls=_flarumSubscriptionsAddSubscriptionControls.default},function(_flarumSubscriptionsAddSubscriptionFilter){addSubscriptionFilter=_flarumSubscriptionsAddSubscriptionFilter.default},function(_flarumSubscriptionsAddSubscriptionSettings){addSubscriptionSettings=_flarumSubscriptionsAddSubscriptionSettings.default},function(_flarumSubscriptionsComponentsNewPostNotification){NewPostNotification=_flarumSubscriptionsComponentsNewPostNotification.default}],execute:function(){app.initializers.add('subscriptions',function(){app.notificationComponents.newPost=NewPostNotification;Discussion.prototype.subscription=Model.attribute('subscription');addSubscriptionBadge();addSubscriptionControls();addSubscriptionFilter();addSubscriptionSettings();extend(NotificationGrid.prototype,'notificationTypes',function(items){items.add('newPost',{name:'newPost',icon:'star',label:app.translator.trans('flarum-subscriptions.forum.settings.notify_new_post_label')})})})}}});
'use strict';System.register('flarum/suspend/components/SuspendUserModal',['flarum/components/Modal','flarum/components/Button'],function(_export,_context){"use strict";var Modal,Button,SuspendUserModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default}],execute:function(){SuspendUserModal=function(_Modal){babelHelpers.inherits(SuspendUserModal,_Modal);function SuspendUserModal(){babelHelpers.classCallCheck(this,SuspendUserModal);return babelHelpers.possibleConstructorReturn(this,(SuspendUserModal.__proto__||Object.getPrototypeOf(SuspendUserModal)).apply(this,arguments))}
babelHelpers.createClass(SuspendUserModal,[{key:'init',value:function init(){babelHelpers.get(SuspendUserModal.prototype.__proto__||Object.getPrototypeOf(SuspendUserModal.prototype),'init',this).call(this);var until=this.props.user.suspendUntil();var status=null;if(new Date()>until)until=null;if(until){if(until.getFullYear()===9999)status='indefinitely';else status='limited'}
this.status=m.prop(status);this.daysRemaining=m.prop(status==='limited'&&-moment().diff(until,'days')+1)}},{key:'className',value:function className(){return'SuspendUserModal Modal--small'}},{key:'title',value:function title(){return app.translator.trans('flarum-suspend.forum.suspend_user.title',{user:this.props.user})}},{key:'content',value:function content(){var _this2=this;return m('div',{className:'Modal-body'},m('div',{className:'Form'},m('div',{className:'Form-group'},m('label',null,app.translator.trans('flarum-suspend.forum.suspend_user.status_heading')),m('div',null,m('label',{className:'checkbox'},m('input',{type:'radio',name:'status',checked:!this.status(),onclick:m.withAttr('value',this.status)}),app.translator.trans('flarum-suspend.forum.suspend_user.not_suspended_label')),m('label',{className:'checkbox'},m('input',{type:'radio',name:'status',checked:this.status()==='indefinitely',value:'indefinitely',onclick:m.withAttr('value',this.status)}),app.translator.trans('flarum-suspend.forum.suspend_user.indefinitely_label')),m('label',{className:'checkbox SuspendUserModal-days'},m('input',{type:'radio',name:'status',checked:this.status()==='limited',value:'limited',onclick:function onclick(e){_this2.status(e.target.value);m.redraw(!0);_this2.$('.SuspendUserModal-days-input input').select();m.redraw.strategy('none')}}),app.translator.trans('flarum-suspend.forum.suspend_user.limited_time_label'),this.status()==='limited'?m('div',{className:'SuspendUserModal-days-input'},m('input',{type:'number',min:'0',value:this.daysRemaining(),oninput:m.withAttr('value',this.daysRemaining),className:'FormControl'}),app.translator.trans('flarum-suspend.forum.suspend_user.limited_time_days_text')):''))),m('div',{className:'Form-group'},m(Button,{className:'Button Button--primary',loading:this.loading,type:'submit'},app.translator.trans('flarum-suspend.forum.suspend_user.submit_button')))))}},{key:'onsubmit',value:function onsubmit(e){var _this3=this;e.preventDefault();this.loading=!0;var suspendUntil=null;switch(this.status()){case 'indefinitely':suspendUntil=new Date('2038-01-01');break;case 'limited':suspendUntil=moment().add(this.daysRemaining(),'days').toDate();break;default:}
this.props.user.save({suspendUntil:suspendUntil}).then(function(){return _this3.hide()},this.loaded.bind(this))}}]);return SuspendUserModal}(Modal);_export('default',SuspendUserModal)}}});'use strict';System.register('flarum/suspend/main',['flarum/extend','flarum/app','flarum/utils/UserControls','flarum/components/Button','flarum/components/Badge','flarum/Model','flarum/models/User','flarum/suspend/components/SuspendUserModal'],function(_export,_context){"use strict";var extend,app,UserControls,Button,Badge,Model,User,SuspendUserModal;return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumApp){app=_flarumApp.default},function(_flarumUtilsUserControls){UserControls=_flarumUtilsUserControls.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumComponentsBadge){Badge=_flarumComponentsBadge.default},function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsUser){User=_flarumModelsUser.default},function(_flarumSuspendComponentsSuspendUserModal){SuspendUserModal=_flarumSuspendComponentsSuspendUserModal.default}],execute:function(){app.initializers.add('flarum-suspend',function(){User.prototype.canSuspend=Model.attribute('canSuspend');User.prototype.suspendUntil=Model.attribute('suspendUntil',Model.transformDate);extend(UserControls,'moderationControls',function(items,user){if(user.canSuspend()){items.add('suspend',Button.component({children:app.translator.trans('flarum-suspend.forum.user_controls.suspend_button'),icon:'ban',onclick:function onclick(){return app.modal.show(new SuspendUserModal({user:user}))}}))}});extend(User.prototype,'badges',function(items){var until=this.suspendUntil();if(new Date()<until){items.add('suspended',Badge.component({icon:'ban',type:'suspended',label:app.translator.trans('flarum-suspend.forum.user_badge.suspended_tooltip')}))}})})}}});
'use strict';System.register('flarum/tags/addTagComposer',['flarum/extend','flarum/components/IndexPage','flarum/components/DiscussionComposer','flarum/tags/components/TagDiscussionModal','flarum/tags/helpers/tagsLabel'],function(_export,_context){"use strict";var extend,override,IndexPage,DiscussionComposer,TagDiscussionModal,tagsLabel;_export('default',function(){extend(IndexPage.prototype,'composeNewDiscussion',function(promise){var tag=app.store.getBy('tags','slug',this.params().tags);if(tag){var parent=tag.parent();var tags=parent?[parent,tag]:[tag];promise.then(function(component){return component.tags=tags})}});DiscussionComposer.prototype.tags=[];DiscussionComposer.prototype.chooseTags=function(){var _this=this;app.modal.show(new TagDiscussionModal({selectedTags:this.tags.slice(0),onsubmit:function onsubmit(tags){_this.tags=tags;_this.$('textarea').focus()}}))};extend(DiscussionComposer.prototype,'headerItems',function(items){items.add('tags',m('a',{className:'DiscussionComposer-changeTags',onclick:this.chooseTags.bind(this)},this.tags.length?tagsLabel(this.tags):m('span',{className:'TagLabel untagged'},app.translator.trans('flarum-tags.forum.composer_discussion.choose_tags_link'))),10)});override(DiscussionComposer.prototype,'onsubmit',function(original){var _this2=this;var chosenTags=this.tags;var chosenPrimaryTags=chosenTags.filter(function(tag){return tag.position()!==null&&!tag.isChild()});var chosenSecondaryTags=chosenTags.filter(function(tag){return tag.position()===null});if(!chosenTags.length||chosenPrimaryTags.length<app.forum.attribute('minPrimaryTags')||chosenSecondaryTags.length<app.forum.attribute('minSecondaryTags')){app.modal.show(new TagDiscussionModal({selectedTags:chosenTags,onsubmit:function onsubmit(tags){_this2.tags=tags;original()}}))}else{original()}});extend(DiscussionComposer.prototype,'data',function(data){data.relationships=data.relationships||{};data.relationships.tags=this.tags})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend;override=_flarumExtend.override},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumComponentsDiscussionComposer){DiscussionComposer=_flarumComponentsDiscussionComposer.default},function(_flarumTagsComponentsTagDiscussionModal){TagDiscussionModal=_flarumTagsComponentsTagDiscussionModal.default},function(_flarumTagsHelpersTagsLabel){tagsLabel=_flarumTagsHelpersTagsLabel.default}],execute:function(){}}});'use strict';System.register('flarum/tags/addTagControl',['flarum/extend','flarum/utils/DiscussionControls','flarum/components/Button','flarum/tags/components/TagDiscussionModal'],function(_export,_context){"use strict";var extend,DiscussionControls,Button,TagDiscussionModal;_export('default',function(){extend(DiscussionControls,'moderationControls',function(items,discussion){if(discussion.canTag()){items.add('tags',Button.component({children:app.translator.trans('flarum-tags.forum.discussion_controls.edit_tags_button'),icon:'tag',onclick:function onclick(){return app.modal.show(new TagDiscussionModal({discussion:discussion}))}}))}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumUtilsDiscussionControls){DiscussionControls=_flarumUtilsDiscussionControls.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumTagsComponentsTagDiscussionModal){TagDiscussionModal=_flarumTagsComponentsTagDiscussionModal.default}],execute:function(){}}});'use strict';System.register('flarum/tags/addTagFilter',['flarum/extend','flarum/components/IndexPage','flarum/components/DiscussionList','flarum/tags/components/TagHero'],function(_export,_context){"use strict";var extend,override,IndexPage,DiscussionList,TagHero;_export('default',function(){IndexPage.prototype.currentTag=function(){var slug=this.params().tags;if(slug)return app.store.getBy('tags','slug',slug)};override(IndexPage.prototype,'hero',function(original){var tag=this.currentTag();if(tag)return TagHero.component({tag:tag});return original()});extend(IndexPage.prototype,'sidebarItems',function(items){var tag=this.currentTag();if(tag){var color=tag.color();if(color){items.get('newDiscussion').props.style={backgroundColor:color}}}});extend(IndexPage.prototype,'params',function(params){params.tags=m.route.param('tags')});extend(DiscussionList.prototype,'requestParams',function(params){params.include.push('tags');if(this.props.params.tags){params.filter.q=(params.filter.q||'')+' tag:'+this.props.params.tags}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend;override=_flarumExtend.override},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumComponentsDiscussionList){DiscussionList=_flarumComponentsDiscussionList.default},function(_flarumTagsComponentsTagHero){TagHero=_flarumTagsComponentsTagHero.default}],execute:function(){}}});'use strict';System.register('flarum/tags/addTagLabels',['flarum/extend','flarum/components/DiscussionListItem','flarum/components/DiscussionPage','flarum/components/DiscussionHero','flarum/tags/helpers/tagsLabel','flarum/tags/utils/sortTags'],function(_export,_context){"use strict";var extend,DiscussionListItem,DiscussionPage,DiscussionHero,tagsLabel,sortTags;_export('default',function(){extend(DiscussionListItem.prototype,'infoItems',function(items){var tags=this.props.discussion.tags();if(tags&&tags.length){items.add('tags',tagsLabel(tags),10)}});extend(DiscussionPage.prototype,'params',function(params){params.include.push('tags')});extend(DiscussionHero.prototype,'view',function(view){var tags=sortTags(this.props.discussion.tags());if(tags&&tags.length){var color=tags[0].color();if(color){view.attrs.style={backgroundColor:color};view.attrs.className+=' DiscussionHero--colored'}}});extend(DiscussionHero.prototype,'items',function(items){var tags=this.props.discussion.tags();if(tags&&tags.length){items.add('tags',tagsLabel(tags,{link:!0}),5)}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsDiscussionListItem){DiscussionListItem=_flarumComponentsDiscussionListItem.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsDiscussionHero){DiscussionHero=_flarumComponentsDiscussionHero.default},function(_flarumTagsHelpersTagsLabel){tagsLabel=_flarumTagsHelpersTagsLabel.default},function(_flarumTagsUtilsSortTags){sortTags=_flarumTagsUtilsSortTags.default}],execute:function(){}}});'use strict';System.register('flarum/tags/addTagList',['flarum/extend','flarum/components/IndexPage','flarum/components/Separator','flarum/components/LinkButton','flarum/tags/components/TagLinkButton','flarum/tags/components/TagsPage','flarum/tags/utils/sortTags'],function(_export,_context){"use strict";var extend,IndexPage,Separator,LinkButton,TagLinkButton,TagsPage,sortTags;_export('default',function(){extend(IndexPage.prototype,'navItems',function(items){items.add('tags',LinkButton.component({icon:'th-large',children:app.translator.trans('flarum-tags.forum.index.tags_link'),href:app.route('tags')}),-10);if(app.current instanceof TagsPage)return;items.add('separator',Separator.component(),-10);var params=this.stickyParams();var tags=app.store.all('tags');var currentTag=this.currentTag();var addTag=function addTag(tag){var active=currentTag===tag;if(!active&&currentTag){active=currentTag.parent()===tag}
items.add('tag'+tag.id(),TagLinkButton.component({tag:tag,params:params,active:active}),-10)};sortTags(tags).filter(function(tag){return tag.position()!==null&&(!tag.isChild()||currentTag&&(tag.parent()===currentTag||tag.parent()===currentTag.parent()))}).forEach(addTag);var more=tags.filter(function(tag){return tag.position()===null}).sort(function(a,b){return b.discussionsCount()-a.discussionsCount()});more.splice(0,3).forEach(addTag);if(more.length){items.add('moreTags',LinkButton.component({children:app.translator.trans('flarum-tags.forum.index.more_link'),href:app.route('tags')}),-10)}})});return{setters:[function(_flarumExtend){extend=_flarumExtend.extend},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumComponentsSeparator){Separator=_flarumComponentsSeparator.default},function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumTagsComponentsTagLinkButton){TagLinkButton=_flarumTagsComponentsTagLinkButton.default},function(_flarumTagsComponentsTagsPage){TagsPage=_flarumTagsComponentsTagsPage.default},function(_flarumTagsUtilsSortTags){sortTags=_flarumTagsUtilsSortTags.default}],execute:function(){}}});'use strict';System.register('flarum/tags/components/DiscussionTaggedPost',['flarum/components/EventPost','flarum/helpers/punctuateSeries','flarum/tags/helpers/tagsLabel'],function(_export,_context){"use strict";var EventPost,punctuateSeries,tagsLabel,DiscussionTaggedPost;return{setters:[function(_flarumComponentsEventPost){EventPost=_flarumComponentsEventPost.default},function(_flarumHelpersPunctuateSeries){punctuateSeries=_flarumHelpersPunctuateSeries.default},function(_flarumTagsHelpersTagsLabel){tagsLabel=_flarumTagsHelpersTagsLabel.default}],execute:function(){DiscussionTaggedPost=function(_EventPost){babelHelpers.inherits(DiscussionTaggedPost,_EventPost);function DiscussionTaggedPost(){babelHelpers.classCallCheck(this,DiscussionTaggedPost);return babelHelpers.possibleConstructorReturn(this,(DiscussionTaggedPost.__proto__||Object.getPrototypeOf(DiscussionTaggedPost)).apply(this,arguments))}
babelHelpers.createClass(DiscussionTaggedPost,[{key:'icon',value:function icon(){return'tag'}},{key:'descriptionKey',value:function descriptionKey(){if(this.props.tagsAdded.length){if(this.props.tagsRemoved.length){return'flarum-tags.forum.post_stream.added_and_removed_tags_text'}
return'flarum-tags.forum.post_stream.added_tags_text'}
return'flarum-tags.forum.post_stream.removed_tags_text'}},{key:'descriptionData',value:function descriptionData(){var data={};if(this.props.tagsAdded.length){data.tagsAdded=app.translator.transChoice('flarum-tags.forum.post_stream.tags_text',this.props.tagsAdded.length,{tags:tagsLabel(this.props.tagsAdded,{link:!0}),count:this.props.tagsAdded.length})}
if(this.props.tagsRemoved.length){data.tagsRemoved=app.translator.transChoice('flarum-tags.forum.post_stream.tags_text',this.props.tagsRemoved.length,{tags:tagsLabel(this.props.tagsRemoved,{link:!0}),count:this.props.tagsRemoved.length})}
return data}}],[{key:'initProps',value:function initProps(props){babelHelpers.get(DiscussionTaggedPost.__proto__||Object.getPrototypeOf(DiscussionTaggedPost),'initProps',this).call(this,props);var oldTags=props.post.content()[0];var newTags=props.post.content()[1];function diffTags(tags1,tags2){return tags1.filter(function(tag){return tags2.indexOf(tag)===-1}).map(function(id){return app.store.getById('tags',id)})}
props.tagsAdded=diffTags(newTags,oldTags);props.tagsRemoved=diffTags(oldTags,newTags)}}]);return DiscussionTaggedPost}(EventPost);_export('default',DiscussionTaggedPost)}}});'use strict';System.register('flarum/tags/components/TagDiscussionModal',['flarum/components/Modal','flarum/components/DiscussionPage','flarum/components/Button','flarum/helpers/highlight','flarum/utils/classList','flarum/utils/extractText','flarum/utils/KeyboardNavigatable','flarum/tags/helpers/tagLabel','flarum/tags/helpers/tagIcon','flarum/tags/utils/sortTags'],function(_export,_context){"use strict";var Modal,DiscussionPage,Button,highlight,classList,extractText,KeyboardNavigatable,tagLabel,tagIcon,sortTags,TagDiscussionModal;return{setters:[function(_flarumComponentsModal){Modal=_flarumComponentsModal.default},function(_flarumComponentsDiscussionPage){DiscussionPage=_flarumComponentsDiscussionPage.default},function(_flarumComponentsButton){Button=_flarumComponentsButton.default},function(_flarumHelpersHighlight){highlight=_flarumHelpersHighlight.default},function(_flarumUtilsClassList){classList=_flarumUtilsClassList.default},function(_flarumUtilsExtractText){extractText=_flarumUtilsExtractText.default},function(_flarumUtilsKeyboardNavigatable){KeyboardNavigatable=_flarumUtilsKeyboardNavigatable.default},function(_flarumTagsHelpersTagLabel){tagLabel=_flarumTagsHelpersTagLabel.default},function(_flarumTagsHelpersTagIcon){tagIcon=_flarumTagsHelpersTagIcon.default},function(_flarumTagsUtilsSortTags){sortTags=_flarumTagsUtilsSortTags.default}],execute:function(){TagDiscussionModal=function(_Modal){babelHelpers.inherits(TagDiscussionModal,_Modal);function TagDiscussionModal(){babelHelpers.classCallCheck(this,TagDiscussionModal);return babelHelpers.possibleConstructorReturn(this,(TagDiscussionModal.__proto__||Object.getPrototypeOf(TagDiscussionModal)).apply(this,arguments))}
babelHelpers.createClass(TagDiscussionModal,[{key:'init',value:function init(){var _this2=this;babelHelpers.get(TagDiscussionModal.prototype.__proto__||Object.getPrototypeOf(TagDiscussionModal.prototype),'init',this).call(this);this.tags=app.store.all('tags');if(this.props.discussion){this.tags=this.tags.filter(function(tag){return tag.canAddToDiscussion()||_this2.props.discussion.tags().indexOf(tag)!==-1})}else{this.tags=this.tags.filter(function(tag){return tag.canStartDiscussion()})}
this.tags=sortTags(this.tags);this.selected=[];this.filter=m.prop('');this.index=this.tags[0].id();this.focused=!1;if(this.props.selectedTags){this.props.selectedTags.map(this.addTag.bind(this))}else if(this.props.discussion){this.props.discussion.tags().map(this.addTag.bind(this))}
this.minPrimary=app.forum.attribute('minPrimaryTags');this.maxPrimary=app.forum.attribute('maxPrimaryTags');this.minSecondary=app.forum.attribute('minSecondaryTags');this.maxSecondary=app.forum.attribute('maxSecondaryTags');this.navigator=new KeyboardNavigatable();this.navigator.onUp(function(){return _this2.setIndex(_this2.getCurrentNumericIndex()-1,!0)}).onDown(function(){return _this2.setIndex(_this2.getCurrentNumericIndex()+1,!0)}).onSelect(this.select.bind(this)).onRemove(function(){return _this2.selected.splice(_this2.selected.length-1,1)})}},{key:'primaryCount',value:function primaryCount(){return this.selected.filter(function(tag){return tag.isPrimary()}).length}},{key:'secondaryCount',value:function secondaryCount(){return this.selected.filter(function(tag){return!tag.isPrimary()}).length}},{key:'addTag',value:function addTag(tag){if(!tag.canStartDiscussion())return;var parent=tag.parent();if(parent){var index=this.selected.indexOf(parent);if(index===-1){this.selected.push(parent)}}
this.selected.push(tag)}},{key:'removeTag',value:function removeTag(tag){var index=this.selected.indexOf(tag);if(index!==-1){this.selected.splice(index,1);this.selected.filter(function(selected){return selected.parent()===tag}).forEach(this.removeTag.bind(this))}}},{key:'className',value:function className(){return'TagDiscussionModal'}},{key:'title',value:function title(){return this.props.discussion?app.translator.trans('flarum-tags.forum.choose_tags.edit_title',{title:m('em',null,this.props.discussion.title())}):app.translator.trans('flarum-tags.forum.choose_tags.title')}},{key:'getInstruction',value:function getInstruction(primaryCount,secondaryCount){if(primaryCount<this.minPrimary){var remaining=this.minPrimary-primaryCount;return app.translator.transChoice('flarum-tags.forum.choose_tags.choose_primary_placeholder',remaining,{count:remaining})}else if(secondaryCount<this.minSecondary){var _remaining=this.minSecondary-secondaryCount;return app.translator.transChoice('flarum-tags.forum.choose_tags.choose_secondary_placeholder',_remaining,{count:_remaining})}
return''}},{key:'content',value:function content(){var _this3=this;var tags=this.tags;var filter=this.filter().toLowerCase();var primaryCount=this.primaryCount();var secondaryCount=this.secondaryCount();tags=tags.filter(function(tag){var parent=tag.parent();return parent===!1||_this3.selected.indexOf(parent)!==-1});if(primaryCount>=this.maxPrimary){tags=tags.filter(function(tag){return!tag.isPrimary()||_this3.selected.indexOf(tag)!==-1})}
if(secondaryCount>=this.maxSecondary){tags=tags.filter(function(tag){return tag.isPrimary()||_this3.selected.indexOf(tag)!==-1})}
if(filter){tags=tags.filter(function(tag){return tag.name().substr(0,filter.length).toLowerCase()===filter})}
if(tags.indexOf(this.index)===-1)this.index=tags[0];return[m('div',{className:'Modal-body'},m('div',{className:'TagDiscussionModal-form'},m('div',{className:'TagDiscussionModal-form-input'},m('div',{className:'TagsInput FormControl '+(this.focused?'focus':'')},m('span',{className:'TagsInput-selected'},this.selected.map(function(tag){return m('span',{className:'TagsInput-tag',onclick:function onclick(){_this3.removeTag(tag);_this3.onready()}},tagLabel(tag))})),m('input',{className:'FormControl',placeholder:extractText(this.getInstruction(primaryCount,secondaryCount)),value:this.filter(),oninput:m.withAttr('value',this.filter),onkeydown:this.navigator.navigate.bind(this.navigator),onfocus:function onfocus(){return _this3.focused=!0},onblur:function onblur(){return _this3.focused=!1}}))),m('div',{className:'TagDiscussionModal-form-submit App-primaryControl'},Button.component({type:'submit',className:'Button Button--primary',disabled:primaryCount<this.minPrimary||secondaryCount<this.minSecondary,icon:'check',children:app.translator.trans('flarum-tags.forum.choose_tags.submit_button')})))),m('div',{className:'Modal-footer'},m('ul',{className:'TagDiscussionModal-list SelectTagList'},tags.filter(function(tag){return filter||!tag.parent()||_this3.selected.indexOf(tag.parent())!==-1}).map(function(tag){return m('li',{'data-index':tag.id(),className:classList({pinned:tag.position()!==null,child:!!tag.parent(),colored:!!tag.color(),selected:_this3.selected.indexOf(tag)!==-1,active:_this3.index===tag}),style:{color:tag.color()},onmouseover:function onmouseover(){return _this3.index=tag},onclick:_this3.toggleTag.bind(_this3,tag)},tagIcon(tag),m('span',{className:'SelectTagListItem-name'},highlight(tag.name(),filter)),tag.description()?m('span',{className:'SelectTagListItem-description'},tag.description()):'')})))]}},{key:'toggleTag',value:function toggleTag(tag){var index=this.selected.indexOf(tag);if(index!==-1){this.removeTag(tag)}else{this.addTag(tag)}
if(this.filter()){this.filter('');this.index=this.tags[0]}
this.onready()}},{key:'select',value:function select(e){if(e.metaKey||e.ctrlKey||this.selected.indexOf(this.index)!==-1){if(this.selected.length){this.$('form').submit()}}else{this.getItem(this.index)[0].dispatchEvent(new Event('click'))}}},{key:'selectableItems',value:function selectableItems(){return this.$('.TagDiscussionModal-list > li')}},{key:'getCurrentNumericIndex',value:function getCurrentNumericIndex(){return this.selectableItems().index(this.getItem(this.index))}},{key:'getItem',value:function getItem(index){return this.selectableItems().filter('[data-index="'+index.id()+'"]')}},{key:'setIndex',value:function setIndex(index,scrollToItem){var $items=this.selectableItems();var $dropdown=$items.parent();if(index<0){index=$items.length-1}else if(index>=$items.length){index=0}
var $item=$items.eq(index);this.index=app.store.getById('tags',$item.attr('data-index'));m.redraw();if(scrollToItem){var dropdownScroll=$dropdown.scrollTop();var dropdownTop=$dropdown.offset().top;var dropdownBottom=dropdownTop+$dropdown.outerHeight();var itemTop=$item.offset().top;var itemBottom=itemTop+$item.outerHeight();var scrollTop=void 0;if(itemTop<dropdownTop){scrollTop=dropdownScroll-dropdownTop+itemTop-parseInt($dropdown.css('padding-top'),10)}else if(itemBottom>dropdownBottom){scrollTop=dropdownScroll-dropdownBottom+itemBottom+parseInt($dropdown.css('padding-bottom'),10)}
if(typeof scrollTop!=='undefined'){$dropdown.stop(!0).animate({scrollTop:scrollTop},100)}}}},{key:'onsubmit',value:function onsubmit(e){e.preventDefault();var discussion=this.props.discussion;var tags=this.selected;if(discussion){discussion.save({relationships:{tags:tags}}).then(function(){if(app.current instanceof DiscussionPage){app.current.stream.update()}
m.redraw()})}
if(this.props.onsubmit)this.props.onsubmit(tags);app.modal.close();m.redraw.strategy('none')}}]);return TagDiscussionModal}(Modal);_export('default',TagDiscussionModal)}}});'use strict';System.register('flarum/tags/components/TagHero',['flarum/Component'],function(_export,_context){"use strict";var Component,TagHero;return{setters:[function(_flarumComponent){Component=_flarumComponent.default}],execute:function(){TagHero=function(_Component){babelHelpers.inherits(TagHero,_Component);function TagHero(){babelHelpers.classCallCheck(this,TagHero);return babelHelpers.possibleConstructorReturn(this,(TagHero.__proto__||Object.getPrototypeOf(TagHero)).apply(this,arguments))}
babelHelpers.createClass(TagHero,[{key:'view',value:function view(){var tag=this.props.tag;var color=tag.color();return m('header',{className:'Hero TagHero'+(color?' TagHero--colored':''),style:color?{color:'#fff',backgroundColor:color}:''},m('div',{className:'container'},m('div',{className:'containerNarrow'},m('h2',{className:'Hero-title'},tag.name()),m('div',{className:'Hero-subtitle'},tag.description()))))}}]);return TagHero}(Component);_export('default',TagHero)}}});'use strict';System.register('flarum/tags/components/TagLinkButton',['flarum/components/LinkButton','flarum/tags/helpers/tagIcon'],function(_export,_context){"use strict";var LinkButton,tagIcon,TagLinkButton;return{setters:[function(_flarumComponentsLinkButton){LinkButton=_flarumComponentsLinkButton.default},function(_flarumTagsHelpersTagIcon){tagIcon=_flarumTagsHelpersTagIcon.default}],execute:function(){TagLinkButton=function(_LinkButton){babelHelpers.inherits(TagLinkButton,_LinkButton);function TagLinkButton(){babelHelpers.classCallCheck(this,TagLinkButton);return babelHelpers.possibleConstructorReturn(this,(TagLinkButton.__proto__||Object.getPrototypeOf(TagLinkButton)).apply(this,arguments))}
babelHelpers.createClass(TagLinkButton,[{key:'view',value:function view(){var tag=this.props.tag;var active=this.constructor.isActive(this.props);var description=tag&&tag.description();return m('a',{className:'TagLinkButton hasIcon '+(tag.isChild()?'child':''),href:this.props.href,config:m.route,style:active&&tag?{color:tag.color()}:'',title:description||''},tagIcon(tag,{className:'Button-icon'}),this.props.children)}}],[{key:'initProps',value:function initProps(props){var tag=props.tag;props.params.tags=tag?tag.slug():'untagged';props.href=app.route('tag',props.params);props.children=tag?tag.name():app.translator.trans('flarum-tags.forum.index.untagged_link')}}]);return TagLinkButton}(LinkButton);_export('default',TagLinkButton)}}});'use strict';System.register('flarum/tags/components/TagsPage',['flarum/Component','flarum/components/IndexPage','flarum/helpers/listItems','flarum/helpers/humanTime','flarum/helpers/icon','flarum/tags/helpers/tagLabel','flarum/tags/utils/sortTags'],function(_export,_context){"use strict";var Component,IndexPage,listItems,humanTime,icon,tagLabel,sortTags,TagsPage;return{setters:[function(_flarumComponent){Component=_flarumComponent.default},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumHelpersListItems){listItems=_flarumHelpersListItems.default},function(_flarumHelpersHumanTime){humanTime=_flarumHelpersHumanTime.default},function(_flarumHelpersIcon){icon=_flarumHelpersIcon.default},function(_flarumTagsHelpersTagLabel){tagLabel=_flarumTagsHelpersTagLabel.default},function(_flarumTagsUtilsSortTags){sortTags=_flarumTagsUtilsSortTags.default}],execute:function(){TagsPage=function(_Component){babelHelpers.inherits(TagsPage,_Component);function TagsPage(){babelHelpers.classCallCheck(this,TagsPage);return babelHelpers.possibleConstructorReturn(this,(TagsPage.__proto__||Object.getPrototypeOf(TagsPage)).apply(this,arguments))}
babelHelpers.createClass(TagsPage,[{key:'init',value:function init(){this.tags=sortTags(app.store.all('tags').filter(function(tag){return!tag.parent()}));app.current=this;app.history.push('tags',icon('th-large'));app.drawer.hide();app.modal.close()}},{key:'view',value:function view(){var pinned=this.tags.filter(function(tag){return tag.position()!==null});var cloud=this.tags.filter(function(tag){return tag.position()===null});return m('div',{className:'TagsPage'},IndexPage.prototype.hero(),m('div',{className:'container'},m('nav',{className:'TagsPage-nav IndexPage-nav sideNav',config:IndexPage.prototype.affixSidebar},m('ul',null,listItems(IndexPage.prototype.sidebarItems().toArray()))),m('div',{className:'TagsPage-content sideNavOffset'},m('ul',{className:'TagTiles'},pinned.map(function(tag){var lastDiscussion=tag.lastDiscussion();var children=sortTags(app.store.all('tags').filter(function(child){return child.parent()===tag}));return m('li',{className:'TagTile '+(tag.color()?'colored':''),style:{backgroundColor:tag.color()}},m('a',{className:'TagTile-info',href:app.route.tag(tag),config:m.route},m('h3',{className:'TagTile-name'},tag.name()),m('p',{className:'TagTile-description'},tag.description()),children?m('div',{className:'TagTile-children'},children.map(function(child){return[m('a',{href:app.route.tag(child),config:function config(element,isInitialized){if(isInitialized)return;$(element).on('click',function(e){return e.stopPropagation()});m.route.apply(this,arguments)}},child.name()),' ']})):''),lastDiscussion?m('a',{className:'TagTile-lastDiscussion',href:app.route.discussion(lastDiscussion,lastDiscussion.lastPostNumber()),config:m.route},m('span',{className:'TagTile-lastDiscussion-title'},lastDiscussion.title()),humanTime(lastDiscussion.lastTime())):m('span',{className:'TagTile-lastDiscussion'}))})),cloud.length?m('div',{className:'TagCloud'},cloud.map(function(tag){var color=tag.color();return[tagLabel(tag,{link:!0}),' ']})):'')))}}]);return TagsPage}(Component);_export('default',TagsPage)}}});'use strict';System.register('flarum/tags/helpers/tagIcon',[],function(_export,_context){"use strict";function tagIcon(tag){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};attrs.className='icon TagIcon '+(attrs.className||'');if(tag){attrs.style=attrs.style||{};attrs.style.backgroundColor=tag.color()}else{attrs.className+=' untagged'}
return m('span',attrs)}
_export('default',tagIcon);return{setters:[],execute:function(){}}});'use strict';System.register('flarum/tags/helpers/tagLabel',['flarum/utils/extract'],function(_export,_context){"use strict";var extract;function tagLabel(tag){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};attrs.style=attrs.style||{};attrs.className='TagLabel '+(attrs.className||'');var link=extract(attrs,'link');if(tag){var color=tag.color();if(color){attrs.style.backgroundColor=attrs.style.color=color;attrs.className+=' colored'}
if(link){attrs.title=tag.description()||'';attrs.href=app.route('tag',{tags:tag.slug()});attrs.config=m.route}}else{attrs.className+=' untagged'}
return m(link?'a':'span',attrs,m('span',{className:'TagLabel-text'},tag?tag.name():app.translator.trans('flarum-tags.lib.deleted_tag_text')))}
_export('default',tagLabel);return{setters:[function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default}],execute:function(){}}});'use strict';System.register('flarum/tags/helpers/tagsLabel',['flarum/utils/extract','flarum/tags/helpers/tagLabel','flarum/tags/utils/sortTags'],function(_export,_context){"use strict";var extract,tagLabel,sortTags;function tagsLabel(tags){var attrs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var children=[];var link=extract(attrs,'link');attrs.className='TagsLabel '+(attrs.className||'');if(tags){sortTags(tags).forEach(function(tag){if(tag||tags.length===1){children.push(tagLabel(tag,{link:link}))}})}else{children.push(tagLabel())}
return m('span',attrs,children)}
_export('default',tagsLabel);return{setters:[function(_flarumUtilsExtract){extract=_flarumUtilsExtract.default},function(_flarumTagsHelpersTagLabel){tagLabel=_flarumTagsHelpersTagLabel.default},function(_flarumTagsUtilsSortTags){sortTags=_flarumTagsUtilsSortTags.default}],execute:function(){}}});'use strict';System.register('flarum/tags/main',['flarum/Model','flarum/models/Discussion','flarum/components/IndexPage','flarum/tags/models/Tag','flarum/tags/components/TagsPage','flarum/tags/components/DiscussionTaggedPost','flarum/tags/addTagList','flarum/tags/addTagFilter','flarum/tags/addTagLabels','flarum/tags/addTagControl','flarum/tags/addTagComposer'],function(_export,_context){"use strict";var Model,Discussion,IndexPage,Tag,TagsPage,DiscussionTaggedPost,addTagList,addTagFilter,addTagLabels,addTagControl,addTagComposer;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumModelsDiscussion){Discussion=_flarumModelsDiscussion.default},function(_flarumComponentsIndexPage){IndexPage=_flarumComponentsIndexPage.default},function(_flarumTagsModelsTag){Tag=_flarumTagsModelsTag.default},function(_flarumTagsComponentsTagsPage){TagsPage=_flarumTagsComponentsTagsPage.default},function(_flarumTagsComponentsDiscussionTaggedPost){DiscussionTaggedPost=_flarumTagsComponentsDiscussionTaggedPost.default},function(_flarumTagsAddTagList){addTagList=_flarumTagsAddTagList.default},function(_flarumTagsAddTagFilter){addTagFilter=_flarumTagsAddTagFilter.default},function(_flarumTagsAddTagLabels){addTagLabels=_flarumTagsAddTagLabels.default},function(_flarumTagsAddTagControl){addTagControl=_flarumTagsAddTagControl.default},function(_flarumTagsAddTagComposer){addTagComposer=_flarumTagsAddTagComposer.default}],execute:function(){app.initializers.add('flarum-tags',function(app){app.routes.tags={path:'/tags',component:TagsPage.component()};app.routes.tag={path:'/t/:tags',component:IndexPage.component()};app.route.tag=function(tag){return app.route('tag',{tags:tag.slug()})};app.postComponents.discussionTagged=DiscussionTaggedPost;app.store.models.tags=Tag;Discussion.prototype.tags=Model.hasMany('tags');Discussion.prototype.canTag=Model.attribute('canTag');addTagList();addTagFilter();addTagLabels();addTagControl();addTagComposer()})}}});'use strict';System.register('flarum/tags/models/Tag',['flarum/Model','flarum/utils/mixin','flarum/utils/computed'],function(_export,_context){"use strict";var Model,mixin,computed,Tag;return{setters:[function(_flarumModel){Model=_flarumModel.default},function(_flarumUtilsMixin){mixin=_flarumUtilsMixin.default},function(_flarumUtilsComputed){computed=_flarumUtilsComputed.default}],execute:function(){Tag=function(_mixin){babelHelpers.inherits(Tag,_mixin);function Tag(){babelHelpers.classCallCheck(this,Tag);return babelHelpers.possibleConstructorReturn(this,(Tag.__proto__||Object.getPrototypeOf(Tag)).apply(this,arguments))}
return Tag}(mixin(Model,{name:Model.attribute('name'),slug:Model.attribute('slug'),description:Model.attribute('description'),color:Model.attribute('color'),backgroundUrl:Model.attribute('backgroundUrl'),backgroundMode:Model.attribute('backgroundMode'),position:Model.attribute('position'),parent:Model.hasOne('parent'),defaultSort:Model.attribute('defaultSort'),isChild:Model.attribute('isChild'),isHidden:Model.attribute('isHidden'),discussionsCount:Model.attribute('discussionsCount'),lastTime:Model.attribute('lastTime',Model.transformDate),lastDiscussion:Model.hasOne('lastDiscussion'),isRestricted:Model.attribute('isRestricted'),canStartDiscussion:Model.attribute('canStartDiscussion'),canAddToDiscussion:Model.attribute('canAddToDiscussion'),isPrimary:computed('position','parent',function(position,parent){return position!==null&&parent===!1})}));_export('default',Tag)}}});"use strict";System.register("flarum/tags/utils/sortTags",[],function(_export,_context){"use strict";function sortTags(tags){return tags.slice(0).sort(function(a,b){var aPos=a.position();var bPos=b.position();if(aPos===null&&bPos===null)return b.discussionsCount()-a.discussionsCount();if(bPos===null)return-1;if(aPos===null)return 1;var aParent=a.parent();var bParent=b.parent();if(aParent===bParent)return aPos-bPos;else if(aParent&&bParent)return aParent.position()-bParent.position();else if(aParent)return aParent===b?1:aParent.position()-bPos;else if(bParent)return bParent===a?-1:aPos-bParent.position();return 0})}
_export("default",sortTags);return{setters:[],execute:function(){}}});
(function(){var HINT={};HINT.EMOJI_HAS_ALIASES=!0;HINT.EMOJI_HAS_ALIAS_QUICKMATCH=!1;HINT.LITEDOWN_DECODE_HTML_ENTITIES=0;HINT.PREG_HAS_PASSTHROUGH=!1;HINT.RULE_AUTO_CLOSE=1;HINT.RULE_AUTO_REOPEN=1;HINT.RULE_BREAK_PARAGRAPH=1;HINT.RULE_CREATE_PARAGRAPHS=1;HINT.RULE_DISABLE_AUTO_BR=1;HINT.RULE_ENABLE_AUTO_BR=1;HINT.RULE_IGNORE_TAGS=1;HINT.RULE_IGNORE_TEXT=1;HINT.RULE_IGNORE_WHITESPACE=1;HINT.RULE_IS_TRANSPARENT=1;HINT.RULE_PREVENT_BR=1;HINT.RULE_SUSPEND_AUTO_BR=1;HINT.RULE_TRIM_FIRST_LINE=1;HINT.attributeDefaultValue=0;HINT.attributeGenerator=0;HINT.closeAncestor=0;HINT.closeParent=1;HINT.createChild=1;HINT.fosterParent=1;HINT.namespaces=0;HINT.postProcessing=1;HINT.requireAncestor=0;var o553403F9=[0];var o18338443=[7437];var oB88E87AA=[7951];var o8B7A8F1F=[7943];var oB565876D={flags:2};var o939F1698={flags:514};var oA80287CC={flags:3089};var oD62CC35F={required:!1};var oCF37F21E={required:!0};var oD4869BFF={"B":1,"C":1,"COLOR":1,"EM":1,"EMAIL":1,"I":1,"S":1,"SIZE":1,"STRONG":1,"U":1,"URL":1};var o3894ED6F={flags:268,fosterParent:oD4869BFF};var o3CC2AFB8=[function(attrValue,attrName){return BuiltInFilters.filterUint(attrValue)}];var oCCE4F73D=[function(attrValue,attrName){return BuiltInFilters.filterIdentifier(attrValue)}];var oD76D04BF=function(tag,tagConfig){return filterAttributes(tag,tagConfig,registeredVars,logger)};var o1B3CF9D3=[oD76D04BF];var o16EF6CF6={filterChain:o3CC2AFB8,required:!1};var o374BDE7B={filterChain:[function(attrValue,attrName){return BuiltInFilters.filterUrl(attrValue,registeredVars.urlConfig,logger)}],required:!0};var oE4DC5376={allowed:o8B7A8F1F,bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:oB565876D,tagLimit:1000};var o568FB992={allowed:o8B7A8F1F,bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:260,fosterParent:oD4869BFF},tagLimit:1000};var xsl="<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http:\/\/www.w3.org\/1999\/XSL\/Transform\"><xsl:output method=\"html\" encoding=\"utf-8\" indent=\"no\"\/><xsl:param$gDISCUSSION_URL\"\/><xsl:param$gPROFILE_URL\"\/>$aB|DEL|EM|H1|H2|H3|H4|H5|H6|I|LI|S|STRONG|SUP|U|p\"><xsl:element$g{translate(name(),'BDEGHILMNOPRSTU','bdeghilmnoprstu')}\">$b<\/xsl:element>$c$aC\"><code>$b<\/code>$c$aCENTER\"><div$etext-align:center\">$b<\/div>$c$aCODE\"><pre data-hljs=\"\" data-s9e-livepreview-postprocess=\"if('undefined'!==typeof hljs)hljs._hb(this)\"><code><xsl:if$h@lang\"><xsl:attribute$gclass\">language-$d@lang\"\/><\/xsl:attribute><\/xsl:if>$b<\/code><\/pre><script>if(\"undefined\"!==typeof hljs)hljs._ha();else if(\"undefined\"===typeof hljsLoading){hljsLoading=1;var a=document.getElementsByTagName(\"head\")[0],e=document.createElement(\"link\");e.type=\"text\/css\";e.rel=\"stylesheet\";e.href=\"\/\/cdnjs.cloudflare.com\/ajax\/libs\/highlight.js\/9.7.0\/styles\/default.min.css\";a.appendChild(e);e=document.createElement(\"script\");e.type=\"text\/javascript\";e.onload=function(){var d={},f=0;hljs._hb=function(b){b.removeAttribute(\"data-hljs\");var c=b.innerHTML;c in d?b.innerHTML=d[c]:(7&lt;++f&amp;&amp;(d={},f=0),hljs.highlightBlock(b.firstChild),d[c]=b.innerHTML)};hljs._ha=function(){for(var b=document.querySelectorAll(\"pre[data-hljs]\"),c=b.length;0&lt;c;)hljs._hb(b.item(--c))};hljs._ha()};e.async=!0;e.src=\"\/\/cdnjs.cloudflare.com\/ajax\/libs\/highlight.js\/9.7.0\/highlight.min.js\";a.appendChild(e)}<\/script>$c$aCOLOR\"><span$ecolor:{@color}\">$b<\/span>$c$aEMAIL\"><a href=\"mailto:{@email}\">$b<\/a>$c$aEMOJI\"><img alt=\"{.}\" class=\"emoji\" draggable=\"false\" src=\"\/\/cdn.jsdelivr.net\/emojione\/assets\/png\/{@seq}.png\"\/>$c$aESC\">$b$c$aHR\"><hr\/>$c$aIMG\"><img src=\"{@src}\" title=\"{@title}\" alt=\"{@alt}\"\/>$c$aLIST\"><xsl:choose><xsl:when$hnot(@type)\"><ul>$b<\/ul><\/xsl:when><xsl:when$hstarts-with(@type,'decimal')or starts-with(@type,'lower')or starts-with(@type,'upper')\"><ol$e$f>$istart\"\/>$b<\/ol><\/xsl:when><xsl:otherwise><ul$e$f>$b<\/ul><\/xsl:otherwise><\/xsl:choose>$c$aPOSTMENTION\"><a href=\"{$DISCUSSION_URL}{@discussionid}\/{@number}\" class=\"PostMention\" data-id=\"{@id}\">$d@username\"\/><\/a>$c$aQUOTE\"><blockquote><xsl:if$hnot(@author)\"><xsl:attribute$gclass\">uncited<\/xsl:attribute><\/xsl:if><div><xsl:if$h@author\"><cite>$d@author\"\/> wrote:<\/cite><\/xsl:if>$b<\/div><\/blockquote>$c$aSIZE\"><span$efont-size:{@size}px\">$b<\/span>$c$aURL\"><a href=\"{@url}\" target=\"_blank\" rel=\"nofollow noreferrer\">$ititle\"\/>$b<\/a>$c$aUSERMENTION\"><a href=\"{$PROFILE_URL}{@username}\" class=\"UserMention\">@$d@username\"\/><\/a>$c$abr\"><br\/>$c$ae|i|s\"\/><\/xsl:stylesheet>".replace(/\$[a-i]/g,function(k){return{"$a":"<xsl:template match=\"","$b":"<xsl:apply-templates\/>","$c":"<\/xsl:template>","$d":"<xsl:value-of select=\"","$e":" style=\"","$f":"list-style-type:{@type}\"","$g":" name=\"","$h":" test=\"","$i":"<xsl:copy-of select=\"@"}[k]});function html_entity_decode(str){var b=document.createElement('b');html_entity_decode=function(str){b.innerHTML=str.replace(/</g,'&lt;');return b.textContent}
return html_entity_decode(str)}
function htmlspecialchars_compat(str){var t={'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;'};return str.replace(/[<>&"]/g,function(c){return t[c]})}
function htmlspecialchars_noquotes(str){var t={'<':'&lt;','>':'&gt;','&':'&amp;'};return str.replace(/[<>&]/g,function(c){return t[c]})}
function returnFalse(){return!1}
function returnTrue(){return!0}
function rawurlencode(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return'%'+c.charCodeAt(0).toString(16).toUpperCase()})}
var BuiltInFilters={filterAlnum:function(attrValue){return/^[0-9A-Za-z]+$/.test(attrValue)?attrValue:!1},filterColor:function(attrValue){return/^(?:#[0-9a-f]{3,6}|rgb\(\d{1,3}, *\d{1,3}, *\d{1,3}\)|[a-z]+)$/i.test(attrValue)?attrValue:!1},filterEmail:function(attrValue){return/^[-\w.+]+@[-\w.]+$/.test(attrValue)?attrValue:!1},filterFalse:function(attrValue){return!1},filterFloat:function(attrValue){return/^(?:0|-?[1-9]\d*)(?:\.\d+)?(?:e[1-9]\d*)?$/i.test(attrValue)?attrValue:!1},filterHashmap:function(attrValue,map,strict){if(attrValue in map){return map[attrValue]}
return(strict)?!1:attrValue},filterIdentifier:function(attrValue){return/^[-\w]+$/.test(attrValue)?attrValue:!1},filterInt:function(attrValue){return/^(?:0|-?[1-9]\d*)$/.test(attrValue)?attrValue:!1},filterIp:function(attrValue){if(/^[\d.]+$/.test(attrValue)){return BuiltInFilters.filterIpv4(attrValue)}
if(/^[\da-f:]+$/i.test(attrValue)){return BuiltInFilters.filterIpv6(attrValue)}
return!1},filterIpport:function(attrValue){var m,ip;if(m=/^\[([\da-f:]+)(\]:[1-9]\d*)$/i.exec(attrValue)){ip=BuiltInFilters.filterIpv6(m[1]);if(ip===!1){return!1}
return'['+ip+m[2]}
if(m=/^([\d.]+)(:[1-9]\d*)$/.exec(attrValue)){ip=BuiltInFilters.filterIpv4(m[1]);if(ip===!1){return!1}
return ip+m[2]}
return!1},filterIpv4:function(attrValue){if(!/^\d+\.\d+\.\d+\.\d+$/.test(attrValue)){return!1}
var i=4,p=attrValue.split('.');while(--i>=0){if(p[i].charAt(0)==='0'||p[i]>255){return!1}}
return attrValue},filterIpv6:function(attrValue){return/^(\d*:){2,7}\d+(?:\.\d+\.\d+\.\d+)?$/.test(attrValue)?attrValue:!1},filterMap:function(attrValue,map){var i=-1,cnt=map.length;while(++i<cnt){if(map[i][0].test(attrValue)){return map[i][1]}}
return attrValue},filterNumber:function(attrValue){return/^\d+$/.test(attrValue)?attrValue:!1},filterRange:function(attrValue,min,max,logger){if(!/^(?:0|-?[1-9]\d*)$/.test(attrValue)){return!1}
attrValue=parseInt(attrValue,10);if(attrValue<min){if(logger){logger.warn('Value outside of range, adjusted up to min value',{'attrValue':attrValue,'min':min,'max':max})}
return min}
if(attrValue>max){if(logger){logger.warn('Value outside of range, adjusted down to max value',{'attrValue':attrValue,'min':min,'max':max})}
return max}
return attrValue},filterRegexp:function(attrValue,regexp){return regexp.test(attrValue)?attrValue:!1},filterSimpletext:function(attrValue){return/^[-\w+., ]+$/.test(attrValue)?attrValue:!1},filterUint:function(attrValue){return/^(?:0|[1-9]\d*)$/.test(attrValue)?attrValue:!1},filterUrl:function(attrValue,urlConfig,logger){var p=BuiltInFilters.parseUrl(attrValue.replace(/^\s+/,'').replace(/\s+$/,''));var error=BuiltInFilters.validateUrl(urlConfig,p);if(error){if(logger){p.attrValue=attrValue;logger.err(error,p)}
return!1}
return BuiltInFilters.rebuildUrl(urlConfig,p)},parseUrl:function(url){var regexp=/^(?:([a-z][-+.\w]*):)?(?:\/\/(?:([^:\/?#]*)(?::([^\/?#]*)?)?@)?(?:(\[[a-f\d:]+\]|[^:\/?#]+)(?::(\d*))?)?(?![^\/?#]))?([^?#]*)(\?[^#]*)?(#.*)?$/i;var m=regexp.exec(url),parts={},tokens=['scheme','user','pass','host','port','path','query','fragment'];tokens.forEach(function(name,i){parts[name]=(m[i+1]>'')?m[i+1]:''});parts.scheme=parts.scheme.toLowerCase();parts.host=parts.host.replace(/[\u3002\uff0e\uff61]/g,'.').replace(/\.+$/g,'');if(/[^\x00-\x7F]/.test(parts.host)&&typeof punycode!=='undefined'){parts.host=punycode.toASCII(parts.host)}
return parts},rebuildUrl:function(urlConfig,p){var url='';if(p.scheme!==''){url+=p.scheme+':'}
if(p.host===''){if(p.scheme==='file'){url+='//'}}else{url+='//';if(p.user!==''){url+=rawurlencode(decodeURIComponent(p.user));if(p.pass!==''){url+=':'+rawurlencode(decodeURIComponent(p.pass))}
url+='@'}
url+=p.host;if(p.port!==''){url+=':'+p.port}}
var path=p.path+p.query+p.fragment;path=path.replace(/%.?[a-f]/,function(m){return m[0].toUpperCase()},path);url+=BuiltInFilters.sanitizeUrl(path);if(!p.scheme){url=url.replace(/^([^\/]*):/,'$1%3A',url)}
return url},sanitizeUrl:function(url){return url.replace(/[^\u0020-\u007E]+/g,encodeURIComponent).replace(/%(?![0-9A-Fa-f]{2})|[^!#-&*-;=?-Z_a-z~]/g,escape)},validateUrl:function(urlConfig,p){if(p.scheme!==''&&!urlConfig.allowedSchemes.test(p.scheme)){return'URL scheme is not allowed'}
if(p.host===''){if(p.scheme!=='file'&&p.scheme!==''){return'Missing host'}}else{var regexp=/^(?!-)[-a-z0-9]{0,62}[a-z0-9](?:\.(?!-)[-a-z0-9]{0,62}[a-z0-9])*$/i;if(!regexp.test(p.host)){if(!BuiltInFilters.filterIpv4(p.host)&&!BuiltInFilters.filterIpv6(p.host.replace(/^\[(.*)\]$/,'$1',p.host))){return'URL host is invalid'}}
if((urlConfig.disallowedHosts&&urlConfig.disallowedHosts.test(p.host))||(urlConfig.restrictedHosts&&!urlConfig.restrictedHosts.test(p.host))){return'URL host is not allowed'}}}}
function Logger(){}Logger.prototype={add:function(type,msg,context){},clear:function(){},setAttribute:function(attrName){},setTag:function(tag){},unsetAttribute:function(){},unsetTag:function(){},debug:function(msg,context){},err:function(msg,context){},info:function(msg,context){},warn:function(msg,context){}}
function Tag(type,name,pos,len,priority){this.type=+type;this.name=name;this.pos=+pos;this.len=+len;if(typeof priority!=='undefined'){this.sortPriority=+priority}
this.attributes={};this.cascade=[];if(isNaN(type+pos+len)){this.invalidate()}}
Tag.START_TAG=1;Tag.END_TAG=2;Tag.SELF_CLOSING_TAG=3;Tag.prototype.attributes;Tag.prototype.cascade;Tag.prototype.endTag;Tag.prototype.invalid=!1;Tag.prototype.len;Tag.prototype.name;Tag.prototype.pos;Tag.prototype.sortPriority;Tag.prototype.startTag;Tag.prototype.type;Tag.prototype.addFlags=function(flags){this.flags|=flags};Tag.prototype.cascadeInvalidationTo=function(tag){this.cascade.push(tag);if(this.invalid){tag.invalidate()}};Tag.prototype.invalidate=function(){if(this.invalid){return}
this.invalid=!0;this.cascade.forEach(function(tag){tag.invalidate()})}
Tag.prototype.pairWith=function(tag){if(this.name===tag.name){if(this.type===Tag.START_TAG&&tag.type===Tag.END_TAG&&tag.pos>=this.pos){this.endTag=tag;tag.startTag=this;this.cascadeInvalidationTo(tag)}else if(this.type===Tag.END_TAG&&tag.type===Tag.START_TAG&&tag.pos<=this.pos){this.startTag=tag;tag.endTag=this}}}
Tag.prototype.removeFlags=function(flags){this.flags&=~flags};Tag.prototype.setFlags=function(flags){this.flags=flags}
Tag.prototype.setSortPriority=function(sortPriority){this.sortPriority=sortPriority}
Tag.prototype.getAttributes=function(){var attributes={};for(var attrName in this.attributes){attributes[attrName]=this.attributes[attrName]}
return attributes}
Tag.prototype.getEndTag=function(){return this.endTag}
Tag.prototype.getFlags=function(){return this.flags}
Tag.prototype.getLen=function(){return this.len}
Tag.prototype.getName=function(){return this.name}
Tag.prototype.getPos=function(){return this.pos}
Tag.prototype.getSortPriority=function(){return this.sortPriority}
Tag.prototype.getStartTag=function(){return this.startTag}
Tag.prototype.getType=function(){return this.type}
Tag.prototype.canClose=function(startTag){if(this.invalid||this.name!==startTag.name||startTag.type!==Tag.START_TAG||this.type!==Tag.END_TAG||this.pos<startTag.pos||(this.startTag&&this.startTag!==startTag)||(startTag.endTag&&startTag.endTag!==this)){return!1}
return!0}
Tag.prototype.isBrTag=function(){return(this.name==='br')}
Tag.prototype.isEndTag=function(){return!!(this.type&Tag.END_TAG)}
Tag.prototype.isIgnoreTag=function(){return(this.name==='i')}
Tag.prototype.isInvalid=function(){return this.invalid}
Tag.prototype.isParagraphBreak=function(){return(this.name==='pb')}
Tag.prototype.isSelfClosingTag=function(){return(this.type===Tag.SELF_CLOSING_TAG)}
Tag.prototype.isSystemTag=function(){return('br i pb v'.indexOf(this.name)>-1)}
Tag.prototype.isStartTag=function(){return!!(this.type&Tag.START_TAG)}
Tag.prototype.isVerbatim=function(){return(this.name==='v')}
Tag.prototype.getAttribute=function(attrName){return this.attributes[attrName]}
Tag.prototype.hasAttribute=function(attrName){return(attrName in this.attributes)}
Tag.prototype.removeAttribute=function(attrName){delete this.attributes[attrName]}
Tag.prototype.setAttribute=function(attrName,attrValue){this.attributes[attrName]=attrValue}
Tag.prototype.setAttributes=function(attributes){this.attributes={}
for(var attrName in attributes){this.attributes[attrName]=attributes[attrName]}}
var RULE_AUTO_CLOSE=1<<0;var RULE_AUTO_REOPEN=1<<1;var RULE_BREAK_PARAGRAPH=1<<2;var RULE_CREATE_PARAGRAPHS=1<<3;var RULE_DISABLE_AUTO_BR=1<<4;var RULE_ENABLE_AUTO_BR=1<<5;var RULE_IGNORE_TAGS=1<<6;var RULE_IGNORE_TEXT=1<<7;var RULE_IGNORE_WHITESPACE=1<<8;var RULE_IS_TRANSPARENT=1<<9;var RULE_PREVENT_BR=1<<10;var RULE_SUSPEND_AUTO_BR=1<<11;var RULE_TRIM_FIRST_LINE=1<<12;var RULES_AUTO_LINEBREAKS=RULE_DISABLE_AUTO_BR|RULE_ENABLE_AUTO_BR|RULE_SUSPEND_AUTO_BR;var RULES_INHERITANCE=RULE_ENABLE_AUTO_BR;var WHITESPACE=" \n\t";var cntOpen;var cntTotal;var context;var currentFixingCost;var currentTag;var isRich;var logger=new Logger;var maxFixingCost=1000;var namespaces;var openTags;var output;var plugins={"Autoemail":{parser:function(text,matches){var config={attrName:"email",tagName:"EMAIL"};var tagName=config.tagName,attrName=config.attrName;matches.forEach(function(m){var startTag=addStartTag(tagName,m[0][1],0);startTag.setAttribute(attrName,m[0][0]);var endTag=addEndTag(tagName,m[0][1]+m[0][0].length,0);startTag.pairWith(endTag)})},quickMatch:"@",regexp:/\b[-a-z0-9_+.]+@[-a-z0-9.]*[a-z0-9]/ig,regexpLimit:10000},"Autolink":{parser:function(text,matches){var config={attrName:"url",tagName:"URL"};matches.forEach(function(m){linkifyUrl(m[0][1],trimUrl(m[0][0]))});function linkifyUrl(tagPos,url){if(!/^www\.|^[^:]+:/i.test(url)){return}
var endTag=addEndTag(config.tagName,tagPos+url.length,0);if(url.charAt(3)==='.'){url='http://'+url}
var startTag=addStartTag(config.tagName,tagPos,0,1);startTag.setAttribute(config.attrName,url);startTag.pairWith(endTag)};function trimUrl(url){while(1){url=url.replace(/(?![-=\/)])[\s!-.:-@[-`{-~]+$/,'');if(url.substr(-1)===')'&&url.replace(/[^(]+/g,'').length<url.replace(/[^)]+/g,'').length){url=url.substr(0,url.length-1);continue}
break}
return url}},quickMatch:":\/\/",regexp:/\bhttps?:\/\/\S(?:[^\s\[\]\uFF01-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65]|\[\w*\])+/ig,regexpLimit:10000},"BBCodes":{parser:function(text,matches){var config={bbcodes:{"*":{tagName:"LI"},"B":[],"CENTER":[],"CODE":{defaultAttribute:"lang"},"COLOR":[],"DEL":[],"EMAIL":{contentAttributes:["email"]},"I":[],"IMG":{contentAttributes:["src"],defaultAttribute:"src"},"LIST":{defaultAttribute:"type"},"QUOTE":{defaultAttribute:"author"},"S":[],"SIZE":[],"U":[],"URL":{contentAttributes:["url"]}}};var attributes;var bbcodeConfig;var bbcodeName;var bbcodeSuffix;var pos;var startPos;var textLen=text.length;var uppercaseText='';matches.forEach(function(m){bbcodeName=m[1][0].toUpperCase();if(!(bbcodeName in config.bbcodes)){return}
bbcodeConfig=config.bbcodes[bbcodeName];startPos=m[0][1];pos=startPos+m[0][0].length;try
{parseBBCode()}catch(e){}});function addBBCodeEndTag(){return addEndTag(getTagName(),startPos,pos-startPos)}
function addBBCodeSelfClosingTag(){var tag=addSelfClosingTag(getTagName(),startPos,pos-startPos);tag.setAttributes(attributes);return tag}
function addBBCodeStartTag(){var tag=addStartTag(getTagName(),startPos,pos-startPos);tag.setAttributes(attributes);return tag}
function captureEndTag(){if(!uppercaseText){uppercaseText=text.toUpperCase()}
var match='[/'+bbcodeName+bbcodeSuffix+']',endTagPos=uppercaseText.indexOf(match,pos);if(endTagPos<0){return null}
return addEndTag(getTagName(),endTagPos,match.length)}
function getTagName(){return bbcodeConfig.tagName||bbcodeName}
function parseAttributes(){var firstPos=pos,attrName;attributes={};while(pos<textLen){var c=text.charAt(pos);if(" \n\t".indexOf(c)>-1){++pos;continue}
if('/]'.indexOf(c)>-1){return}
var spn=/^[-\w]*/.exec(text.substr(pos,100))[0].length;if(spn){attrName=text.substr(pos,spn).toLowerCase();pos+=spn;if(pos>=textLen){throw ''}
if(text.charAt(pos)!=='='){continue}}else if(c==='='&&pos===firstPos){attrName=bbcodeConfig.defaultAttribute||bbcodeName.toLowerCase()}else{throw ''}
if(++pos>=textLen){throw ''}
attributes[attrName]=parseAttributeValue()}}
function parseAttributeValue(){if(text.charAt(pos)==='"'||text.charAt(pos)==="'"){return parseQuotedAttributeValue()}
var match=/[^\]\n]*?(?=\s*(?:\s\/)?\]|\s+[-\w]+=)/.exec(text.substr(pos));if(!match){throw ''}
var attrValue=match[0];pos+=attrValue.length;return attrValue}
function parseBBCode(){parseBBCodeSuffix();if(text.charAt(startPos+1)==='/'){if(text.charAt(pos)===']'&&bbcodeSuffix===''){++pos;addBBCodeEndTag()}
return}
parseAttributes();if(bbcodeConfig.predefinedAttributes){for(var attrName in bbcodeConfig.predefinedAttributes){if(!(attrName in attributes)){attributes[attrName]=bbcodeConfig.predefinedAttributes[attrName]}}}
if(text.charAt(pos)===']'){++pos}else{if(text.substr(pos,2)==='/]'){pos+=2;addBBCodeSelfClosingTag()}
return}
var contentAttributes=[];if(bbcodeConfig.contentAttributes){bbcodeConfig.contentAttributes.forEach(function(attrName){if(!(attrName in attributes)){contentAttributes.push(attrName)}})}
var requireEndTag=(bbcodeSuffix||bbcodeConfig.forceLookahead),endTag=(requireEndTag||contentAttributes.length)?captureEndTag():null;if(endTag){contentAttributes.forEach(function(attrName){attributes[attrName]=text.substr(pos,endTag.getPos()-pos)})}else if(requireEndTag){return}
var tag=addBBCodeStartTag();if(endTag){tag.pairWith(endTag)}}
function parseBBCodeSuffix(){bbcodeSuffix='';if(text[pos]===':'){bbcodeSuffix=/^:\d*/.exec(text.substr(pos))[0];pos+=bbcodeSuffix.length}}
function parseQuotedAttributeValue(){var quote=text.charAt(pos),valuePos=pos+1;while(1){pos=text.indexOf(quote,pos+1);if(pos<0){throw ''}
var n=0;do{++n}
while(text.charAt(pos-n)==='\\');if(n%2){break}}
var attrValue=text.substr(valuePos,pos-valuePos).replace(/\\([\\'"])/g,'$1');++pos;return attrValue}},quickMatch:"[",regexp:/\[\/?(\*|[-\w]+)(?=[\]\s=:\/])/g,regexpLimit:10000},"Emoji":{parser:function(text,matches){var config={aliases:{":'(":"\ud83d\ude22",":(":"\ud83d\ude41",":)":"\ud83d\ude42",":D":"\ud83d\ude03",":O":"\ud83d\ude2e",":P":"\ud83d\ude1b",":|":"\ud83d\ude10",";)":"\ud83d\ude09",">:(":"\ud83d\ude21","B)":"\ud83d\ude0e"},aliasesRegexp:/(?::(?:[)DOP|]|'?\()|>:\(|[;B]\))/g,attrName:"seq",tagName:"EMOJI"};var asciiRegexp=/:[-+_a-z0-9]+(?=:)/g;var map={"+1":"1f44d","-1":"1f44e","100":"1f4af","1234":"1f522","8ball":"1f3b1","a":"1f170","ab":"1f18e","abc":"1f524","abcd":"1f521","accept":"1f251","aerial_tramway":"1f6a1","afghanistan":"1f1e6-1f1eb","airplane":"2708","airplane_arriving":"1f6ec","airplane_departure":"1f6eb","airplane_small":"1f6e9","aland_islands":"1f1e6-1f1fd","alarm_clock":"23f0","albania":"1f1e6-1f1f1","alembic":"2697","algeria":"1f1e9-1f1ff","alien":"1f47d","ambulance":"1f691","american_samoa":"1f1e6-1f1f8","amphora":"1f3fa","anchor":"2693","andorra":"1f1e6-1f1e9","angel":"1f47c","angel_tone1":"1f47c-1f3fb","angel_tone2":"1f47c-1f3fc","angel_tone3":"1f47c-1f3fd","angel_tone4":"1f47c-1f3fe","angel_tone5":"1f47c-1f3ff","anger":"1f4a2","anger_right":"1f5ef","angola":"1f1e6-1f1f4","angry":"1f620","anguilla":"1f1e6-1f1ee","anguished":"1f627","ant":"1f41c","antarctica":"1f1e6-1f1f6","antigua_barbuda":"1f1e6-1f1ec","apple":"1f34e","aquarius":"2652","argentina":"1f1e6-1f1f7","aries":"2648","armenia":"1f1e6-1f1f2","arrow_backward":"25c0","arrow_double_down":"23ec","arrow_double_up":"23eb","arrow_down":"2b07","arrow_down_small":"1f53d","arrow_forward":"25b6","arrow_heading_down":"2935","arrow_heading_up":"2934","arrow_left":"2b05","arrow_lower_left":"2199","arrow_lower_right":"2198","arrow_right":"27a1","arrow_right_hook":"21aa","arrow_up":"2b06","arrow_up_down":"2195","arrow_up_small":"1f53c","arrow_upper_left":"2196","arrow_upper_right":"2197","arrows_clockwise":"1f503","arrows_counterclockwise":"1f504","art":"1f3a8","articulated_lorry":"1f69b","artificial_satellite":"1f6f0","aruba":"1f1e6-1f1fc","asterisk":"002a-20e3","astonished":"1f632","athletic_shoe":"1f45f","atm":"1f3e7","atom":"269b","atom_symbol":"269b","australia":"1f1e6-1f1fa","austria":"1f1e6-1f1f9","avocado":"1f951","azerbaijan":"1f1e6-1f1ff","b":"1f171","baby":"1f476","baby_bottle":"1f37c","baby_chick":"1f424","baby_symbol":"1f6bc","baby_tone1":"1f476-1f3fb","baby_tone2":"1f476-1f3fc","baby_tone3":"1f476-1f3fd","baby_tone4":"1f476-1f3fe","baby_tone5":"1f476-1f3ff","back":"1f519","bacon":"1f953","badminton":"1f3f8","baggage_claim":"1f6c4","bahamas":"1f1e7-1f1f8","bahrain":"1f1e7-1f1ed","balance_scale":"2696","balloon":"1f388","ballot_box":"1f5f3","ballot_box_with_check":"2611","bamboo":"1f38d","banana":"1f34c","bangbang":"203c","bangladesh":"1f1e7-1f1e9","bank":"1f3e6","bar_chart":"1f4ca","barbados":"1f1e7-1f1e7","barber":"1f488","baseball":"26be","basketball":"1f3c0","basketball_man":"26f9","basketball_player":"26f9","basketball_player_tone1":"26f9-1f3fb","basketball_player_tone2":"26f9-1f3fc","basketball_player_tone3":"26f9-1f3fd","basketball_player_tone4":"26f9-1f3fe","basketball_player_tone5":"26f9-1f3ff","bat":"1f987","bath":"1f6c0","bath_tone1":"1f6c0-1f3fb","bath_tone2":"1f6c0-1f3fc","bath_tone3":"1f6c0-1f3fd","bath_tone4":"1f6c0-1f3fe","bath_tone5":"1f6c0-1f3ff","bathtub":"1f6c1","battery":"1f50b","beach":"1f3d6","beach_umbrella":"26f1","bear":"1f43b","bed":"1f6cf","bee":"1f41d","beer":"1f37a","beers":"1f37b","beetle":"1f41e","beginner":"1f530","belarus":"1f1e7-1f1fe","belgium":"1f1e7-1f1ea","belize":"1f1e7-1f1ff","bell":"1f514","bellhop":"1f6ce","bellhop_bell":"1f6ce","benin":"1f1e7-1f1ef","bento":"1f371","bermuda":"1f1e7-1f1f2","bhutan":"1f1e7-1f1f9","bicyclist":"1f6b4","bicyclist_tone1":"1f6b4-1f3fb","bicyclist_tone2":"1f6b4-1f3fc","bicyclist_tone3":"1f6b4-1f3fd","bicyclist_tone4":"1f6b4-1f3fe","bicyclist_tone5":"1f6b4-1f3ff","bike":"1f6b2","biking_man":"1f6b4","bikini":"1f459","biohazard":"2623","bird":"1f426","birthday":"1f382","black_circle":"26ab","black_flag":"1f3f4","black_heart":"1f5a4","black_joker":"1f0cf","black_large_square":"2b1b","black_medium_small_square":"25fe","black_medium_square":"25fc","black_nib":"2712","black_small_square":"25aa","black_square_button":"1f532","blonde_man":"1f471","blossom":"1f33c","blowfish":"1f421","blue_book":"1f4d8","blue_car":"1f699","blue_circle":"1f535","blue_heart":"1f499","blush":"1f60a","boar":"1f417","boat":"26f5","bolivia":"1f1e7-1f1f4","bomb":"1f4a3","book":"1f4d6","bookmark":"1f516","bookmark_tabs":"1f4d1","books":"1f4da","boom":"1f4a5","boot":"1f462","bosnia_herzegovina":"1f1e7-1f1e6","botswana":"1f1e7-1f1fc","bouquet":"1f490","bow":"1f647","bow_and_arrow":"1f3f9","bow_tone1":"1f647-1f3fb","bow_tone2":"1f647-1f3fc","bow_tone3":"1f647-1f3fd","bow_tone4":"1f647-1f3fe","bow_tone5":"1f647-1f3ff","bowing_man":"1f647","bowling":"1f3b3","boxing_glove":"1f94a","boy":"1f466","boy_tone1":"1f466-1f3fb","boy_tone2":"1f466-1f3fc","boy_tone3":"1f466-1f3fd","boy_tone4":"1f466-1f3fe","boy_tone5":"1f466-1f3ff","brazil":"1f1e7-1f1f7","bread":"1f35e","bride_with_veil":"1f470","bride_with_veil_tone1":"1f470-1f3fb","bride_with_veil_tone2":"1f470-1f3fc","bride_with_veil_tone3":"1f470-1f3fd","bride_with_veil_tone4":"1f470-1f3fe","bride_with_veil_tone5":"1f470-1f3ff","bridge_at_night":"1f309","briefcase":"1f4bc","british_indian_ocean_territory":"1f1ee-1f1f4","british_virgin_islands":"1f1fb-1f1ec","broken_heart":"1f494","brunei":"1f1e7-1f1f3","bug":"1f41b","building_construction":"1f3d7","bulb":"1f4a1","bulgaria":"1f1e7-1f1ec","bullettrain_front":"1f685","bullettrain_side":"1f684","burkina_faso":"1f1e7-1f1eb","burrito":"1f32f","burundi":"1f1e7-1f1ee","bus":"1f68c","business_suit_levitating":"1f574","busstop":"1f68f","bust_in_silhouette":"1f464","busts_in_silhouette":"1f465","butterfly":"1f98b","cactus":"1f335","cake":"1f370","calendar":"1f4c6","calendar_spiral":"1f5d3","call_me":"1f919","call_me_tone1":"1f919-1f3fb","call_me_tone2":"1f919-1f3fc","call_me_tone3":"1f919-1f3fd","call_me_tone4":"1f919-1f3fe","call_me_tone5":"1f919-1f3ff","calling":"1f4f2","cambodia":"1f1f0-1f1ed","camel":"1f42b","camera":"1f4f7","camera_flash":"1f4f8","camera_with_flash":"1f4f8","cameroon":"1f1e8-1f1f2","camping":"1f3d5","canada":"1f1e8-1f1e6","canary_islands":"1f1ee-1f1e8","cancer":"264b","candle":"1f56f","candy":"1f36c","canoe":"1f6f6","cape_verde":"1f1e8-1f1fb","capital_abcd":"1f520","capricorn":"2651","car":"1f697","card_box":"1f5c3","card_file_box":"1f5c3","card_index":"1f4c7","card_index_dividers":"1f5c2","caribbean_netherlands":"1f1e7-1f1f6","carousel_horse":"1f3a0","carrot":"1f955","cartwheel":"1f938","cartwheel_tone1":"1f938-1f3fb","cartwheel_tone2":"1f938-1f3fc","cartwheel_tone3":"1f938-1f3fd","cartwheel_tone4":"1f938-1f3fe","cartwheel_tone5":"1f938-1f3ff","cat":"1f431","cat2":"1f408","cayman_islands":"1f1f0-1f1fe","cd":"1f4bf","central_african_republic":"1f1e8-1f1eb","chad":"1f1f9-1f1e9","chains":"26d3","champagne":"1f37e","champagne_glass":"1f942","chart":"1f4b9","chart_with_downwards_trend":"1f4c9","chart_with_upwards_trend":"1f4c8","checkered_flag":"1f3c1","cheese":"1f9c0","cherries":"1f352","cherry_blossom":"1f338","chestnut":"1f330","chicken":"1f414","children_crossing":"1f6b8","chile":"1f1e8-1f1f1","chipmunk":"1f43f","chocolate_bar":"1f36b","christmas_island":"1f1e8-1f1fd","christmas_tree":"1f384","church":"26ea","cinema":"1f3a6","circus_tent":"1f3aa","city_dusk":"1f306","city_sunrise":"1f307","city_sunset":"1f307","cityscape":"1f3d9","cl":"1f191","clamp":"1f5dc","clap":"1f44f","clap_tone1":"1f44f-1f3fb","clap_tone2":"1f44f-1f3fc","clap_tone3":"1f44f-1f3fd","clap_tone4":"1f44f-1f3fe","clap_tone5":"1f44f-1f3ff","clapper":"1f3ac","classical_building":"1f3db","clipboard":"1f4cb","clock":"1f570","clock1":"1f550","clock10":"1f559","clock1030":"1f565","clock11":"1f55a","clock1130":"1f566","clock12":"1f55b","clock1230":"1f567","clock130":"1f55c","clock2":"1f551","clock230":"1f55d","clock3":"1f552","clock330":"1f55e","clock4":"1f553","clock430":"1f55f","clock5":"1f554","clock530":"1f560","clock6":"1f555","clock630":"1f561","clock7":"1f556","clock730":"1f562","clock8":"1f557","clock830":"1f563","clock9":"1f558","clock930":"1f564","closed_book":"1f4d5","closed_lock_with_key":"1f510","closed_umbrella":"1f302","cloud":"2601","cloud_lightning":"1f329","cloud_rain":"1f327","cloud_snow":"1f328","cloud_tornado":"1f32a","cloud_with_lightning":"1f329","cloud_with_lightning_and_rain":"26c8","cloud_with_rain":"1f327","cloud_with_snow":"1f328","clown":"1f921","clubs":"2663","cn":"1f1e8-1f1f3","cocktail":"1f378","cocos_islands":"1f1e8-1f1e8","coffee":"2615","coffin":"26b0","cold_sweat":"1f630","collision":"1f4a5","colombia":"1f1e8-1f1f4","comet":"2604","comoros":"1f1f0-1f1f2","compression":"1f5dc","computer":"1f4bb","computer_mouse":"1f5b1","confetti_ball":"1f38a","confounded":"1f616","confused":"1f615","congo_brazzaville":"1f1e8-1f1ec","congo_kinshasa":"1f1e8-1f1e9","congratulations":"3297","construction":"1f6a7","construction_site":"1f3d7","construction_worker":"1f477","construction_worker_man":"1f477","construction_worker_tone1":"1f477-1f3fb","construction_worker_tone2":"1f477-1f3fc","construction_worker_tone3":"1f477-1f3fd","construction_worker_tone4":"1f477-1f3fe","construction_worker_tone5":"1f477-1f3ff","control_knobs":"1f39b","convenience_store":"1f3ea","cook_islands":"1f1e8-1f1f0","cookie":"1f36a","cooking":"1f373","cool":"1f192","cop":"1f46e","cop_tone1":"1f46e-1f3fb","cop_tone2":"1f46e-1f3fc","cop_tone3":"1f46e-1f3fd","cop_tone4":"1f46e-1f3fe","cop_tone5":"1f46e-1f3ff","copyright":"00a9","corn":"1f33d","costa_rica":"1f1e8-1f1f7","cote_divoire":"1f1e8-1f1ee","couch":"1f6cb","couch_and_lamp":"1f6cb","couple":"1f46b","couple_mm":"1f468-2764-1f468","couple_with_heart":"1f491","couple_with_heart_man_man":"1f468-2764-1f468","couple_with_heart_woman_man":"1f491","couple_with_heart_woman_woman":"1f469-2764-1f469","couple_ww":"1f469-2764-1f469","couplekiss":"1f48f","couplekiss_man_man":"1f468-2764-1f48b-1f468","couplekiss_man_woman":"1f48f","couplekiss_woman_woman":"1f469-2764-1f48b-1f469","cow":"1f42e","cow2":"1f404","cowboy":"1f920","crab":"1f980","crayon":"1f58d","credit_card":"1f4b3","crescent_moon":"1f319","cricket":"1f3cf","croatia":"1f1ed-1f1f7","crocodile":"1f40a","croissant":"1f950","cross":"271d","crossed_flags":"1f38c","crossed_swords":"2694","crown":"1f451","cruise_ship":"1f6f3","cry":"1f622","crying_cat_face":"1f63f","crystal_ball":"1f52e","cuba":"1f1e8-1f1fa","cucumber":"1f952","cupid":"1f498","curacao":"1f1e8-1f1fc","curly_loop":"27b0","currency_exchange":"1f4b1","curry":"1f35b","custard":"1f36e","customs":"1f6c3","cyclone":"1f300","cyprus":"1f1e8-1f1fe","czech_republic":"1f1e8-1f1ff","dagger":"1f5e1","dancer":"1f483","dancer_tone1":"1f483-1f3fb","dancer_tone2":"1f483-1f3fc","dancer_tone3":"1f483-1f3fd","dancer_tone4":"1f483-1f3fe","dancer_tone5":"1f483-1f3ff","dancers":"1f46f","dancing_women":"1f46f","dango":"1f361","dark_sunglasses":"1f576","dart":"1f3af","dash":"1f4a8","date":"1f4c5","de":"1f1e9-1f1ea","deciduous_tree":"1f333","deer":"1f98c","denmark":"1f1e9-1f1f0","department_store":"1f3ec","derelict_house":"1f3da","desert":"1f3dc","desert_island":"1f3dd","desktop":"1f5a5","desktop_computer":"1f5a5","detective":"1f575","diamond_shape_with_a_dot_inside":"1f4a0","diamonds":"2666","disappointed":"1f61e","disappointed_relieved":"1f625","dividers":"1f5c2","dizzy":"1f4ab","dizzy_face":"1f635","djibouti":"1f1e9-1f1ef","do_not_litter":"1f6af","dog":"1f436","dog2":"1f415","dollar":"1f4b5","dolls":"1f38e","dolphin":"1f42c","dominica":"1f1e9-1f1f2","dominican_republic":"1f1e9-1f1f4","door":"1f6aa","doughnut":"1f369","dove":"1f54a","dragon":"1f409","dragon_face":"1f432","dress":"1f457","dromedary_camel":"1f42a","drooling_face":"1f924","droplet":"1f4a7","drum":"1f941","duck":"1f986","dvd":"1f4c0","e-mail":"1f4e7","eagle":"1f985","ear":"1f442","ear_of_rice":"1f33e","ear_tone1":"1f442-1f3fb","ear_tone2":"1f442-1f3fc","ear_tone3":"1f442-1f3fd","ear_tone4":"1f442-1f3fe","ear_tone5":"1f442-1f3ff","earth_africa":"1f30d","earth_americas":"1f30e","earth_asia":"1f30f","ecuador":"1f1ea-1f1e8","egg":"1f95a","eggplant":"1f346","egypt":"1f1ea-1f1ec","eight":"0038-20e3","eight_pointed_black_star":"2734","eight_spoked_asterisk":"2733","eject":"23cf","el_salvador":"1f1f8-1f1fb","electric_plug":"1f50c","elephant":"1f418","email":"2709","end":"1f51a","envelope":"2709","envelope_with_arrow":"1f4e9","equatorial_guinea":"1f1ec-1f1f6","eritrea":"1f1ea-1f1f7","es":"1f1ea-1f1f8","estonia":"1f1ea-1f1ea","ethiopia":"1f1ea-1f1f9","eu":"1f1ea-1f1fa","euro":"1f4b6","european_castle":"1f3f0","european_post_office":"1f3e4","european_union":"1f1ea-1f1fa","evergreen_tree":"1f332","exclamation":"2757","expressionless":"1f611","eye":"1f441","eye_in_speech_bubble":"1f441-1f5e8","eye_speech_bubble":"1f441-1f5e8","eyeglasses":"1f453","eyes":"1f440","face_palm":"1f926","face_palm_tone1":"1f926-1f3fb","face_palm_tone2":"1f926-1f3fc","face_palm_tone3":"1f926-1f3fd","face_palm_tone4":"1f926-1f3fe","face_palm_tone5":"1f926-1f3ff","face_with_head_bandage":"1f915","face_with_thermometer":"1f912","facepunch":"1f44a","factory":"1f3ed","falkland_islands":"1f1eb-1f1f0","fallen_leaf":"1f342","family":"1f46a","family_man_man_boy":"1f468-1f468-1f466","family_man_man_boy_boy":"1f468-1f468-1f466-1f466","family_man_man_girl":"1f468-1f468-1f467","family_man_man_girl_boy":"1f468-1f468-1f467-1f466","family_man_man_girl_girl":"1f468-1f468-1f467-1f467","family_man_woman_boy":"1f46a","family_man_woman_boy_boy":"1f468-1f469-1f466-1f466","family_man_woman_girl":"1f468-1f469-1f467","family_man_woman_girl_boy":"1f468-1f469-1f467-1f466","family_man_woman_girl_girl":"1f468-1f469-1f467-1f467","family_mmb":"1f468-1f468-1f466","family_mmbb":"1f468-1f468-1f466-1f466","family_mmg":"1f468-1f468-1f467","family_mmgb":"1f468-1f468-1f467-1f466","family_mmgg":"1f468-1f468-1f467-1f467","family_mwbb":"1f468-1f469-1f466-1f466","family_mwg":"1f468-1f469-1f467","family_mwgb":"1f468-1f469-1f467-1f466","family_mwgg":"1f468-1f469-1f467-1f467","family_woman_woman_boy":"1f469-1f469-1f466","family_woman_woman_boy_boy":"1f469-1f469-1f466-1f466","family_woman_woman_girl":"1f469-1f469-1f467","family_woman_woman_girl_boy":"1f469-1f469-1f467-1f466","family_woman_woman_girl_girl":"1f469-1f469-1f467-1f467","family_wwb":"1f469-1f469-1f466","family_wwbb":"1f469-1f469-1f466-1f466","family_wwg":"1f469-1f469-1f467","family_wwgb":"1f469-1f469-1f467-1f466","family_wwgg":"1f469-1f469-1f467-1f467","faroe_islands":"1f1eb-1f1f4","fast_forward":"23e9","fax":"1f4e0","fearful":"1f628","feet":"1f43e","fencer":"1f93a","ferris_wheel":"1f3a1","ferry":"26f4","field_hockey":"1f3d1","fiji":"1f1eb-1f1ef","file_cabinet":"1f5c4","file_folder":"1f4c1","film_frames":"1f39e","film_projector":"1f4fd","film_strip":"1f39e","fingers_crossed":"1f91e","fingers_crossed_tone1":"1f91e-1f3fb","fingers_crossed_tone2":"1f91e-1f3fc","fingers_crossed_tone3":"1f91e-1f3fd","fingers_crossed_tone4":"1f91e-1f3fe","fingers_crossed_tone5":"1f91e-1f3ff","finland":"1f1eb-1f1ee","fire":"1f525","fire_engine":"1f692","fireworks":"1f386","first_place":"1f947","first_quarter_moon":"1f313","first_quarter_moon_with_face":"1f31b","fish":"1f41f","fish_cake":"1f365","fishing_pole_and_fish":"1f3a3","fist":"270a","fist_tone1":"270a-1f3fb","fist_tone2":"270a-1f3fc","fist_tone3":"270a-1f3fd","fist_tone4":"270a-1f3fe","fist_tone5":"270a-1f3ff","five":"0035-20e3","flag_ac":"1f1e6-1f1e8","flag_ad":"1f1e6-1f1e9","flag_ae":"1f1e6-1f1ea","flag_af":"1f1e6-1f1eb","flag_ag":"1f1e6-1f1ec","flag_ai":"1f1e6-1f1ee","flag_al":"1f1e6-1f1f1","flag_am":"1f1e6-1f1f2","flag_ao":"1f1e6-1f1f4","flag_aq":"1f1e6-1f1f6","flag_ar":"1f1e6-1f1f7","flag_as":"1f1e6-1f1f8","flag_at":"1f1e6-1f1f9","flag_au":"1f1e6-1f1fa","flag_aw":"1f1e6-1f1fc","flag_ax":"1f1e6-1f1fd","flag_az":"1f1e6-1f1ff","flag_ba":"1f1e7-1f1e6","flag_bb":"1f1e7-1f1e7","flag_bd":"1f1e7-1f1e9","flag_be":"1f1e7-1f1ea","flag_bf":"1f1e7-1f1eb","flag_bg":"1f1e7-1f1ec","flag_bh":"1f1e7-1f1ed","flag_bi":"1f1e7-1f1ee","flag_bj":"1f1e7-1f1ef","flag_bl":"1f1e7-1f1f1","flag_black":"1f3f4","flag_bm":"1f1e7-1f1f2","flag_bn":"1f1e7-1f1f3","flag_bo":"1f1e7-1f1f4","flag_bq":"1f1e7-1f1f6","flag_br":"1f1e7-1f1f7","flag_bs":"1f1e7-1f1f8","flag_bt":"1f1e7-1f1f9","flag_bv":"1f1e7-1f1fb","flag_bw":"1f1e7-1f1fc","flag_by":"1f1e7-1f1fe","flag_bz":"1f1e7-1f1ff","flag_ca":"1f1e8-1f1e6","flag_cc":"1f1e8-1f1e8","flag_cd":"1f1e8-1f1e9","flag_cf":"1f1e8-1f1eb","flag_cg":"1f1e8-1f1ec","flag_ch":"1f1e8-1f1ed","flag_ci":"1f1e8-1f1ee","flag_ck":"1f1e8-1f1f0","flag_cl":"1f1e8-1f1f1","flag_cm":"1f1e8-1f1f2","flag_cn":"1f1e8-1f1f3","flag_co":"1f1e8-1f1f4","flag_cp":"1f1e8-1f1f5","flag_cr":"1f1e8-1f1f7","flag_cu":"1f1e8-1f1fa","flag_cv":"1f1e8-1f1fb","flag_cw":"1f1e8-1f1fc","flag_cx":"1f1e8-1f1fd","flag_cy":"1f1e8-1f1fe","flag_cz":"1f1e8-1f1ff","flag_de":"1f1e9-1f1ea","flag_dg":"1f1e9-1f1ec","flag_dj":"1f1e9-1f1ef","flag_dk":"1f1e9-1f1f0","flag_dm":"1f1e9-1f1f2","flag_do":"1f1e9-1f1f4","flag_dz":"1f1e9-1f1ff","flag_ea":"1f1ea-1f1e6","flag_ec":"1f1ea-1f1e8","flag_ee":"1f1ea-1f1ea","flag_eg":"1f1ea-1f1ec","flag_eh":"1f1ea-1f1ed","flag_er":"1f1ea-1f1f7","flag_es":"1f1ea-1f1f8","flag_et":"1f1ea-1f1f9","flag_eu":"1f1ea-1f1fa","flag_fi":"1f1eb-1f1ee","flag_fj":"1f1eb-1f1ef","flag_fk":"1f1eb-1f1f0","flag_fm":"1f1eb-1f1f2","flag_fo":"1f1eb-1f1f4","flag_fr":"1f1eb-1f1f7","flag_ga":"1f1ec-1f1e6","flag_gb":"1f1ec-1f1e7","flag_gd":"1f1ec-1f1e9","flag_ge":"1f1ec-1f1ea","flag_gf":"1f1ec-1f1eb","flag_gg":"1f1ec-1f1ec","flag_gh":"1f1ec-1f1ed","flag_gi":"1f1ec-1f1ee","flag_gl":"1f1ec-1f1f1","flag_gm":"1f1ec-1f1f2","flag_gn":"1f1ec-1f1f3","flag_gp":"1f1ec-1f1f5","flag_gq":"1f1ec-1f1f6","flag_gr":"1f1ec-1f1f7","flag_gs":"1f1ec-1f1f8","flag_gt":"1f1ec-1f1f9","flag_gu":"1f1ec-1f1fa","flag_gw":"1f1ec-1f1fc","flag_gy":"1f1ec-1f1fe","flag_hk":"1f1ed-1f1f0","flag_hm":"1f1ed-1f1f2","flag_hn":"1f1ed-1f1f3","flag_hr":"1f1ed-1f1f7","flag_ht":"1f1ed-1f1f9","flag_hu":"1f1ed-1f1fa","flag_ic":"1f1ee-1f1e8","flag_id":"1f1ee-1f1e9","flag_ie":"1f1ee-1f1ea","flag_il":"1f1ee-1f1f1","flag_im":"1f1ee-1f1f2","flag_in":"1f1ee-1f1f3","flag_io":"1f1ee-1f1f4","flag_iq":"1f1ee-1f1f6","flag_ir":"1f1ee-1f1f7","flag_is":"1f1ee-1f1f8","flag_it":"1f1ee-1f1f9","flag_je":"1f1ef-1f1ea","flag_jm":"1f1ef-1f1f2","flag_jo":"1f1ef-1f1f4","flag_jp":"1f1ef-1f1f5","flag_ke":"1f1f0-1f1ea","flag_kg":"1f1f0-1f1ec","flag_kh":"1f1f0-1f1ed","flag_ki":"1f1f0-1f1ee","flag_km":"1f1f0-1f1f2","flag_kn":"1f1f0-1f1f3","flag_kp":"1f1f0-1f1f5","flag_kr":"1f1f0-1f1f7","flag_kw":"1f1f0-1f1fc","flag_ky":"1f1f0-1f1fe","flag_kz":"1f1f0-1f1ff","flag_la":"1f1f1-1f1e6","flag_lb":"1f1f1-1f1e7","flag_lc":"1f1f1-1f1e8","flag_li":"1f1f1-1f1ee","flag_lk":"1f1f1-1f1f0","flag_lr":"1f1f1-1f1f7","flag_ls":"1f1f1-1f1f8","flag_lt":"1f1f1-1f1f9","flag_lu":"1f1f1-1f1fa","flag_lv":"1f1f1-1f1fb","flag_ly":"1f1f1-1f1fe","flag_ma":"1f1f2-1f1e6","flag_mc":"1f1f2-1f1e8","flag_md":"1f1f2-1f1e9","flag_me":"1f1f2-1f1ea","flag_mf":"1f1f2-1f1eb","flag_mg":"1f1f2-1f1ec","flag_mh":"1f1f2-1f1ed","flag_mk":"1f1f2-1f1f0","flag_ml":"1f1f2-1f1f1","flag_mm":"1f1f2-1f1f2","flag_mn":"1f1f2-1f1f3","flag_mo":"1f1f2-1f1f4","flag_mp":"1f1f2-1f1f5","flag_mq":"1f1f2-1f1f6","flag_mr":"1f1f2-1f1f7","flag_ms":"1f1f2-1f1f8","flag_mt":"1f1f2-1f1f9","flag_mu":"1f1f2-1f1fa","flag_mv":"1f1f2-1f1fb","flag_mw":"1f1f2-1f1fc","flag_mx":"1f1f2-1f1fd","flag_my":"1f1f2-1f1fe","flag_mz":"1f1f2-1f1ff","flag_na":"1f1f3-1f1e6","flag_nc":"1f1f3-1f1e8","flag_ne":"1f1f3-1f1ea","flag_nf":"1f1f3-1f1eb","flag_ng":"1f1f3-1f1ec","flag_ni":"1f1f3-1f1ee","flag_nl":"1f1f3-1f1f1","flag_no":"1f1f3-1f1f4","flag_np":"1f1f3-1f1f5","flag_nr":"1f1f3-1f1f7","flag_nu":"1f1f3-1f1fa","flag_nz":"1f1f3-1f1ff","flag_om":"1f1f4-1f1f2","flag_pa":"1f1f5-1f1e6","flag_pe":"1f1f5-1f1ea","flag_pf":"1f1f5-1f1eb","flag_pg":"1f1f5-1f1ec","flag_ph":"1f1f5-1f1ed","flag_pk":"1f1f5-1f1f0","flag_pl":"1f1f5-1f1f1","flag_pm":"1f1f5-1f1f2","flag_pn":"1f1f5-1f1f3","flag_pr":"1f1f5-1f1f7","flag_ps":"1f1f5-1f1f8","flag_pt":"1f1f5-1f1f9","flag_pw":"1f1f5-1f1fc","flag_py":"1f1f5-1f1fe","flag_qa":"1f1f6-1f1e6","flag_re":"1f1f7-1f1ea","flag_ro":"1f1f7-1f1f4","flag_rs":"1f1f7-1f1f8","flag_ru":"1f1f7-1f1fa","flag_rw":"1f1f7-1f1fc","flag_sa":"1f1f8-1f1e6","flag_sb":"1f1f8-1f1e7","flag_sc":"1f1f8-1f1e8","flag_sd":"1f1f8-1f1e9","flag_se":"1f1f8-1f1ea","flag_sg":"1f1f8-1f1ec","flag_sh":"1f1f8-1f1ed","flag_si":"1f1f8-1f1ee","flag_sj":"1f1f8-1f1ef","flag_sk":"1f1f8-1f1f0","flag_sl":"1f1f8-1f1f1","flag_sm":"1f1f8-1f1f2","flag_sn":"1f1f8-1f1f3","flag_so":"1f1f8-1f1f4","flag_sr":"1f1f8-1f1f7","flag_ss":"1f1f8-1f1f8","flag_st":"1f1f8-1f1f9","flag_sv":"1f1f8-1f1fb","flag_sx":"1f1f8-1f1fd","flag_sy":"1f1f8-1f1fe","flag_sz":"1f1f8-1f1ff","flag_ta":"1f1f9-1f1e6","flag_tc":"1f1f9-1f1e8","flag_td":"1f1f9-1f1e9","flag_tf":"1f1f9-1f1eb","flag_tg":"1f1f9-1f1ec","flag_th":"1f1f9-1f1ed","flag_tj":"1f1f9-1f1ef","flag_tk":"1f1f9-1f1f0","flag_tl":"1f1f9-1f1f1","flag_tm":"1f1f9-1f1f2","flag_tn":"1f1f9-1f1f3","flag_to":"1f1f9-1f1f4","flag_tr":"1f1f9-1f1f7","flag_tt":"1f1f9-1f1f9","flag_tv":"1f1f9-1f1fb","flag_tw":"1f1f9-1f1fc","flag_tz":"1f1f9-1f1ff","flag_ua":"1f1fa-1f1e6","flag_ug":"1f1fa-1f1ec","flag_um":"1f1fa-1f1f2","flag_us":"1f1fa-1f1f8","flag_uy":"1f1fa-1f1fe","flag_uz":"1f1fa-1f1ff","flag_va":"1f1fb-1f1e6","flag_vc":"1f1fb-1f1e8","flag_ve":"1f1fb-1f1ea","flag_vg":"1f1fb-1f1ec","flag_vi":"1f1fb-1f1ee","flag_vn":"1f1fb-1f1f3","flag_vu":"1f1fb-1f1fa","flag_wf":"1f1fc-1f1eb","flag_white":"1f3f3","flag_ws":"1f1fc-1f1f8","flag_xk":"1f1fd-1f1f0","flag_ye":"1f1fe-1f1ea","flag_yt":"1f1fe-1f1f9","flag_za":"1f1ff-1f1e6","flag_zm":"1f1ff-1f1f2","flag_zw":"1f1ff-1f1fc","flags":"1f38f","flashlight":"1f526","fleur-de-lis":"269c","fleur_de_lis":"269c","flight_arrival":"1f6ec","flight_departure":"1f6eb","flipper":"1f42c","floppy_disk":"1f4be","flower_playing_cards":"1f3b4","flushed":"1f633","fog":"1f32b","foggy":"1f301","football":"1f3c8","footprints":"1f463","fork_and_knife":"1f374","fork_knife_plate":"1f37d","fountain":"26f2","fountain_pen":"1f58b","four":"0034-20e3","four_leaf_clover":"1f340","fox":"1f98a","fr":"1f1eb-1f1f7","frame_photo":"1f5bc","framed_picture":"1f5bc","free":"1f193","french_bread":"1f956","french_guiana":"1f1ec-1f1eb","french_polynesia":"1f1f5-1f1eb","french_southern_territories":"1f1f9-1f1eb","fried_shrimp":"1f364","fries":"1f35f","frog":"1f438","frowning":"1f626","frowning2":"2639","frowning_face":"2639","frowning_woman":"1f64d","fu":"1f595","fuelpump":"26fd","full_moon":"1f315","full_moon_with_face":"1f31d","funeral_urn":"26b1","gabon":"1f1ec-1f1e6","gambia":"1f1ec-1f1f2","game_die":"1f3b2","gb":"1f1ec-1f1e7","gear":"2699","gem":"1f48e","gemini":"264a","georgia":"1f1ec-1f1ea","ghana":"1f1ec-1f1ed","ghost":"1f47b","gibraltar":"1f1ec-1f1ee","gift":"1f381","gift_heart":"1f49d","girl":"1f467","girl_tone1":"1f467-1f3fb","girl_tone2":"1f467-1f3fc","girl_tone3":"1f467-1f3fd","girl_tone4":"1f467-1f3fe","girl_tone5":"1f467-1f3ff","globe_with_meridians":"1f310","goal":"1f945","goat":"1f410","golf":"26f3","golfer":"1f3cc","golfing_man":"1f3cc","gorilla":"1f98d","grapes":"1f347","greece":"1f1ec-1f1f7","green_apple":"1f34f","green_book":"1f4d7","green_heart":"1f49a","greenland":"1f1ec-1f1f1","grenada":"1f1ec-1f1e9","grey_exclamation":"2755","grey_question":"2754","grimacing":"1f62c","grin":"1f601","grinning":"1f600","guadeloupe":"1f1ec-1f1f5","guam":"1f1ec-1f1fa","guardsman":"1f482","guardsman_tone1":"1f482-1f3fb","guardsman_tone2":"1f482-1f3fc","guardsman_tone3":"1f482-1f3fd","guardsman_tone4":"1f482-1f3fe","guardsman_tone5":"1f482-1f3ff","guatemala":"1f1ec-1f1f9","guernsey":"1f1ec-1f1ec","guinea":"1f1ec-1f1f3","guinea_bissau":"1f1ec-1f1fc","guitar":"1f3b8","gun":"1f52b","guyana":"1f1ec-1f1fe","haircut":"1f487","haircut_tone1":"1f487-1f3fb","haircut_tone2":"1f487-1f3fc","haircut_tone3":"1f487-1f3fd","haircut_tone4":"1f487-1f3fe","haircut_tone5":"1f487-1f3ff","haircut_woman":"1f487","haiti":"1f1ed-1f1f9","hamburger":"1f354","hammer":"1f528","hammer_and_pick":"2692","hammer_and_wrench":"1f6e0","hammer_pick":"2692","hamster":"1f439","hand":"270b","hand_splayed":"1f590","hand_splayed_tone1":"1f590-1f3fb","hand_splayed_tone2":"1f590-1f3fc","hand_splayed_tone3":"1f590-1f3fd","hand_splayed_tone4":"1f590-1f3fe","hand_splayed_tone5":"1f590-1f3ff","handbag":"1f45c","handball":"1f93e","handball_tone1":"1f93e-1f3fb","handball_tone2":"1f93e-1f3fc","handball_tone3":"1f93e-1f3fd","handball_tone4":"1f93e-1f3fe","handball_tone5":"1f93e-1f3ff","handshake":"1f91d","handshake_tone1":"1f91d-1f3fb","handshake_tone2":"1f91d-1f3fc","handshake_tone3":"1f91d-1f3fd","handshake_tone4":"1f91d-1f3fe","handshake_tone5":"1f91d-1f3ff","hankey":"1f4a9","hash":"0023-20e3","hatched_chick":"1f425","hatching_chick":"1f423","head_bandage":"1f915","headphones":"1f3a7","hear_no_evil":"1f649","heart":"2764","heart_decoration":"1f49f","heart_exclamation":"2763","heart_eyes":"1f60d","heart_eyes_cat":"1f63b","heartbeat":"1f493","heartpulse":"1f497","hearts":"2665","heavy_check_mark":"2714","heavy_division_sign":"2797","heavy_dollar_sign":"1f4b2","heavy_exclamation_mark":"2757","heavy_heart_exclamation":"2763","heavy_minus_sign":"2796","heavy_multiplication_x":"2716","heavy_plus_sign":"2795","helicopter":"1f681","helmet_with_cross":"26d1","herb":"1f33f","hibiscus":"1f33a","high_brightness":"1f506","high_heel":"1f460","hocho":"1f52a","hockey":"1f3d2","hole":"1f573","homes":"1f3d8","honduras":"1f1ed-1f1f3","honey_pot":"1f36f","honeybee":"1f41d","hong_kong":"1f1ed-1f1f0","horse":"1f434","horse_racing":"1f3c7","horse_racing_tone1":"1f3c7-1f3fb","horse_racing_tone2":"1f3c7-1f3fc","horse_racing_tone3":"1f3c7-1f3fd","horse_racing_tone4":"1f3c7-1f3fe","horse_racing_tone5":"1f3c7-1f3ff","hospital":"1f3e5","hot_pepper":"1f336","hotdog":"1f32d","hotel":"1f3e8","hotsprings":"2668","hourglass":"231b","hourglass_flowing_sand":"23f3","house":"1f3e0","house_abandoned":"1f3da","house_with_garden":"1f3e1","houses":"1f3d8","hugging":"1f917","hugs":"1f917","hungary":"1f1ed-1f1fa","hushed":"1f62f","ice_cream":"1f368","ice_hockey":"1f3d2","ice_skate":"26f8","icecream":"1f366","iceland":"1f1ee-1f1f8","id":"1f194","ideograph_advantage":"1f250","imp":"1f47f","inbox_tray":"1f4e5","incoming_envelope":"1f4e8","india":"1f1ee-1f1f3","indonesia":"1f1ee-1f1e9","information_desk_person":"1f481","information_desk_person_tone1":"1f481-1f3fb","information_desk_person_tone2":"1f481-1f3fc","information_desk_person_tone3":"1f481-1f3fd","information_desk_person_tone4":"1f481-1f3fe","information_desk_person_tone5":"1f481-1f3ff","information_source":"2139","innocent":"1f607","interrobang":"2049","iphone":"1f4f1","iran":"1f1ee-1f1f7","iraq":"1f1ee-1f1f6","ireland":"1f1ee-1f1ea","island":"1f3dd","isle_of_man":"1f1ee-1f1f2","israel":"1f1ee-1f1f1","it":"1f1ee-1f1f9","izakaya_lantern":"1f3ee","jack_o_lantern":"1f383","jamaica":"1f1ef-1f1f2","japan":"1f5fe","japanese_castle":"1f3ef","japanese_goblin":"1f47a","japanese_ogre":"1f479","jeans":"1f456","jersey":"1f1ef-1f1ea","jordan":"1f1ef-1f1f4","joy":"1f602","joy_cat":"1f639","joystick":"1f579","jp":"1f1ef-1f1f5","juggling":"1f939","juggling_tone1":"1f939-1f3fb","juggling_tone2":"1f939-1f3fc","juggling_tone3":"1f939-1f3fd","juggling_tone4":"1f939-1f3fe","juggling_tone5":"1f939-1f3ff","kaaba":"1f54b","kazakhstan":"1f1f0-1f1ff","kenya":"1f1f0-1f1ea","key":"1f511","key2":"1f5dd","keyboard":"2328","keycap_ten":"1f51f","kimono":"1f458","kiribati":"1f1f0-1f1ee","kiss":"1f48b","kiss_mm":"1f468-2764-1f48b-1f468","kiss_ww":"1f469-2764-1f48b-1f469","kissing":"1f617","kissing_cat":"1f63d","kissing_closed_eyes":"1f61a","kissing_heart":"1f618","kissing_smiling_eyes":"1f619","kiwi":"1f95d","knife":"1f52a","koala":"1f428","koko":"1f201","kosovo":"1f1fd-1f1f0","kr":"1f1f0-1f1f7","kuwait":"1f1f0-1f1fc","kyrgyzstan":"1f1f0-1f1ec","label":"1f3f7","lantern":"1f3ee","laos":"1f1f1-1f1e6","large_blue_circle":"1f535","large_blue_diamond":"1f537","large_orange_diamond":"1f536","last_quarter_moon":"1f317","last_quarter_moon_with_face":"1f31c","latin_cross":"271d","latvia":"1f1f1-1f1fb","laughing":"1f606","leaves":"1f343","lebanon":"1f1f1-1f1e7","ledger":"1f4d2","left_facing_fist":"1f91b","left_facing_fist_tone1":"1f91b-1f3fb","left_facing_fist_tone2":"1f91b-1f3fc","left_facing_fist_tone3":"1f91b-1f3fd","left_facing_fist_tone4":"1f91b-1f3fe","left_facing_fist_tone5":"1f91b-1f3ff","left_luggage":"1f6c5","left_right_arrow":"2194","leftwards_arrow_with_hook":"21a9","lemon":"1f34b","leo":"264c","leopard":"1f406","lesotho":"1f1f1-1f1f8","level_slider":"1f39a","levitate":"1f574","liberia":"1f1f1-1f1f7","libra":"264e","libya":"1f1f1-1f1fe","liechtenstein":"1f1f1-1f1ee","lifter":"1f3cb","lifter_tone1":"1f3cb-1f3fb","lifter_tone2":"1f3cb-1f3fc","lifter_tone3":"1f3cb-1f3fd","lifter_tone4":"1f3cb-1f3fe","lifter_tone5":"1f3cb-1f3ff","light_rail":"1f688","link":"1f517","lion":"1f981","lion_face":"1f981","lips":"1f444","lipstick":"1f484","lithuania":"1f1f1-1f1f9","lizard":"1f98e","lock":"1f512","lock_with_ink_pen":"1f50f","lollipop":"1f36d","loop":"27bf","loud_sound":"1f50a","loudspeaker":"1f4e2","love_hotel":"1f3e9","love_letter":"1f48c","low_brightness":"1f505","luxembourg":"1f1f1-1f1fa","lying_face":"1f925","m":"24c2","macau":"1f1f2-1f1f4","macedonia":"1f1f2-1f1f0","madagascar":"1f1f2-1f1ec","mag":"1f50d","mag_right":"1f50e","mahjong":"1f004","mailbox":"1f4eb","mailbox_closed":"1f4ea","mailbox_with_mail":"1f4ec","mailbox_with_no_mail":"1f4ed","malawi":"1f1f2-1f1fc","malaysia":"1f1f2-1f1fe","maldives":"1f1f2-1f1fb","male_detective":"1f575","mali":"1f1f2-1f1f1","malta":"1f1f2-1f1f9","man":"1f468","man_dancing":"1f57a","man_dancing_tone1":"1f57a-1f3fb","man_dancing_tone2":"1f57a-1f3fc","man_dancing_tone3":"1f57a-1f3fd","man_dancing_tone4":"1f57a-1f3fe","man_dancing_tone5":"1f57a-1f3ff","man_in_tuxedo":"1f935","man_in_tuxedo_tone1":"1f935-1f3fb","man_in_tuxedo_tone2":"1f935-1f3fc","man_in_tuxedo_tone3":"1f935-1f3fd","man_in_tuxedo_tone4":"1f935-1f3fe","man_in_tuxedo_tone5":"1f935-1f3ff","man_tone1":"1f468-1f3fb","man_tone2":"1f468-1f3fc","man_tone3":"1f468-1f3fd","man_tone4":"1f468-1f3fe","man_tone5":"1f468-1f3ff","man_with_gua_pi_mao":"1f472","man_with_gua_pi_mao_tone1":"1f472-1f3fb","man_with_gua_pi_mao_tone2":"1f472-1f3fc","man_with_gua_pi_mao_tone3":"1f472-1f3fd","man_with_gua_pi_mao_tone4":"1f472-1f3fe","man_with_gua_pi_mao_tone5":"1f472-1f3ff","man_with_turban":"1f473","man_with_turban_tone1":"1f473-1f3fb","man_with_turban_tone2":"1f473-1f3fc","man_with_turban_tone3":"1f473-1f3fd","man_with_turban_tone4":"1f473-1f3fe","man_with_turban_tone5":"1f473-1f3ff","mandarin":"1f34a","mans_shoe":"1f45e","mantelpiece_clock":"1f570","map":"1f5fa","maple_leaf":"1f341","marshall_islands":"1f1f2-1f1ed","martial_arts_uniform":"1f94b","martinique":"1f1f2-1f1f6","mask":"1f637","massage":"1f486","massage_tone1":"1f486-1f3fb","massage_tone2":"1f486-1f3fc","massage_tone3":"1f486-1f3fd","massage_tone4":"1f486-1f3fe","massage_tone5":"1f486-1f3ff","massage_woman":"1f486","mauritania":"1f1f2-1f1f7","mauritius":"1f1f2-1f1fa","mayotte":"1f1fe-1f1f9","meat_on_bone":"1f356","medal":"1f3c5","medal_military":"1f396","medal_sports":"1f3c5","mega":"1f4e3","melon":"1f348","memo":"1f4dd","menorah":"1f54e","mens":"1f6b9","metal":"1f918","metal_tone1":"1f918-1f3fb","metal_tone2":"1f918-1f3fc","metal_tone3":"1f918-1f3fd","metal_tone4":"1f918-1f3fe","metal_tone5":"1f918-1f3ff","metro":"1f687","mexico":"1f1f2-1f1fd","micronesia":"1f1eb-1f1f2","microphone":"1f3a4","microphone2":"1f399","microscope":"1f52c","middle_finger":"1f595","middle_finger_tone1":"1f595-1f3fb","middle_finger_tone2":"1f595-1f3fc","middle_finger_tone3":"1f595-1f3fd","middle_finger_tone4":"1f595-1f3fe","middle_finger_tone5":"1f595-1f3ff","military_medal":"1f396","milk":"1f95b","milky_way":"1f30c","minibus":"1f690","minidisc":"1f4bd","mobile_phone_off":"1f4f4","moldova":"1f1f2-1f1e9","monaco":"1f1f2-1f1e8","money_mouth":"1f911","money_mouth_face":"1f911","money_with_wings":"1f4b8","moneybag":"1f4b0","mongolia":"1f1f2-1f1f3","monkey":"1f412","monkey_face":"1f435","monorail":"1f69d","montenegro":"1f1f2-1f1ea","montserrat":"1f1f2-1f1f8","moon":"1f314","morocco":"1f1f2-1f1e6","mortar_board":"1f393","mosque":"1f54c","motor_boat":"1f6e5","motor_scooter":"1f6f5","motorboat":"1f6e5","motorcycle":"1f3cd","motorway":"1f6e3","mount_fuji":"1f5fb","mountain":"26f0","mountain_bicyclist":"1f6b5","mountain_bicyclist_tone1":"1f6b5-1f3fb","mountain_bicyclist_tone2":"1f6b5-1f3fc","mountain_bicyclist_tone3":"1f6b5-1f3fd","mountain_bicyclist_tone4":"1f6b5-1f3fe","mountain_bicyclist_tone5":"1f6b5-1f3ff","mountain_biking_man":"1f6b5","mountain_cableway":"1f6a0","mountain_railway":"1f69e","mountain_snow":"1f3d4","mouse":"1f42d","mouse2":"1f401","mouse_three_button":"1f5b1","movie_camera":"1f3a5","moyai":"1f5ff","mozambique":"1f1f2-1f1ff","mrs_claus":"1f936","mrs_claus_tone1":"1f936-1f3fb","mrs_claus_tone2":"1f936-1f3fc","mrs_claus_tone3":"1f936-1f3fd","mrs_claus_tone4":"1f936-1f3fe","mrs_claus_tone5":"1f936-1f3ff","muscle":"1f4aa","muscle_tone1":"1f4aa-1f3fb","muscle_tone2":"1f4aa-1f3fc","muscle_tone3":"1f4aa-1f3fd","muscle_tone4":"1f4aa-1f3fe","muscle_tone5":"1f4aa-1f3ff","mushroom":"1f344","musical_keyboard":"1f3b9","musical_note":"1f3b5","musical_score":"1f3bc","mute":"1f507","myanmar":"1f1f2-1f1f2","nail_care":"1f485","nail_care_tone1":"1f485-1f3fb","nail_care_tone2":"1f485-1f3fc","nail_care_tone3":"1f485-1f3fd","nail_care_tone4":"1f485-1f3fe","nail_care_tone5":"1f485-1f3ff","name_badge":"1f4db","namibia":"1f1f3-1f1e6","national_park":"1f3de","nauru":"1f1f3-1f1f7","nauseated_face":"1f922","necktie":"1f454","negative_squared_cross_mark":"274e","nepal":"1f1f3-1f1f5","nerd":"1f913","nerd_face":"1f913","netherlands":"1f1f3-1f1f1","neutral_face":"1f610","new":"1f195","new_caledonia":"1f1f3-1f1e8","new_moon":"1f311","new_moon_with_face":"1f31a","new_zealand":"1f1f3-1f1ff","newspaper":"1f4f0","newspaper2":"1f5de","newspaper_roll":"1f5de","next_track_button":"23ed","ng":"1f196","ng_woman":"1f645","nicaragua":"1f1f3-1f1ee","niger":"1f1f3-1f1ea","nigeria":"1f1f3-1f1ec","night_with_stars":"1f303","nine":"0039-20e3","niue":"1f1f3-1f1fa","no_bell":"1f515","no_bicycles":"1f6b3","no_entry":"26d4","no_entry_sign":"1f6ab","no_good":"1f645","no_good_tone1":"1f645-1f3fb","no_good_tone2":"1f645-1f3fc","no_good_tone3":"1f645-1f3fd","no_good_tone4":"1f645-1f3fe","no_good_tone5":"1f645-1f3ff","no_good_woman":"1f645","no_mobile_phones":"1f4f5","no_mouth":"1f636","no_pedestrians":"1f6b7","no_smoking":"1f6ad","non-potable_water":"1f6b1","norfolk_island":"1f1f3-1f1eb","north_korea":"1f1f0-1f1f5","northern_mariana_islands":"1f1f2-1f1f5","norway":"1f1f3-1f1f4","nose":"1f443","nose_tone1":"1f443-1f3fb","nose_tone2":"1f443-1f3fc","nose_tone3":"1f443-1f3fd","nose_tone4":"1f443-1f3fe","nose_tone5":"1f443-1f3ff","notebook":"1f4d3","notebook_with_decorative_cover":"1f4d4","notepad_spiral":"1f5d2","notes":"1f3b6","nut_and_bolt":"1f529","o":"2b55","o2":"1f17e","ocean":"1f30a","octagonal_sign":"1f6d1","octopus":"1f419","oden":"1f362","office":"1f3e2","oil":"1f6e2","oil_drum":"1f6e2","ok":"1f197","ok_hand":"1f44c","ok_hand_tone1":"1f44c-1f3fb","ok_hand_tone2":"1f44c-1f3fc","ok_hand_tone3":"1f44c-1f3fd","ok_hand_tone4":"1f44c-1f3fe","ok_hand_tone5":"1f44c-1f3ff","ok_woman":"1f646","ok_woman_tone1":"1f646-1f3fb","ok_woman_tone2":"1f646-1f3fc","ok_woman_tone3":"1f646-1f3fd","ok_woman_tone4":"1f646-1f3fe","ok_woman_tone5":"1f646-1f3ff","old_key":"1f5dd","older_man":"1f474","older_man_tone1":"1f474-1f3fb","older_man_tone2":"1f474-1f3fc","older_man_tone3":"1f474-1f3fd","older_man_tone4":"1f474-1f3fe","older_man_tone5":"1f474-1f3ff","older_woman":"1f475","older_woman_tone1":"1f475-1f3fb","older_woman_tone2":"1f475-1f3fc","older_woman_tone3":"1f475-1f3fd","older_woman_tone4":"1f475-1f3fe","older_woman_tone5":"1f475-1f3ff","om":"1f549","om_symbol":"1f549","oman":"1f1f4-1f1f2","on":"1f51b","oncoming_automobile":"1f698","oncoming_bus":"1f68d","oncoming_police_car":"1f694","oncoming_taxi":"1f696","one":"0031-20e3","open_book":"1f4d6","open_file_folder":"1f4c2","open_hands":"1f450","open_hands_tone1":"1f450-1f3fb","open_hands_tone2":"1f450-1f3fc","open_hands_tone3":"1f450-1f3fd","open_hands_tone4":"1f450-1f3fe","open_hands_tone5":"1f450-1f3ff","open_mouth":"1f62e","open_umbrella":"2602","ophiuchus":"26ce","orange":"1f34a","orange_book":"1f4d9","orthodox_cross":"2626","outbox_tray":"1f4e4","owl":"1f989","ox":"1f402","package":"1f4e6","page_facing_up":"1f4c4","page_with_curl":"1f4c3","pager":"1f4df","paintbrush":"1f58c","pakistan":"1f1f5-1f1f0","palau":"1f1f5-1f1fc","palestinian_territories":"1f1f5-1f1f8","palm_tree":"1f334","panama":"1f1f5-1f1e6","pancakes":"1f95e","panda_face":"1f43c","paperclip":"1f4ce","paperclips":"1f587","papua_new_guinea":"1f1f5-1f1ec","paraguay":"1f1f5-1f1fe","parasol_on_ground":"26f1","park":"1f3de","parking":"1f17f","part_alternation_mark":"303d","partly_sunny":"26c5","passenger_ship":"1f6f3","passport_control":"1f6c2","pause_button":"23f8","paw_prints":"1f43e","peace":"262e","peace_symbol":"262e","peach":"1f351","peanuts":"1f95c","pear":"1f350","pen":"1f58a","pen_ballpoint":"1f58a","pen_fountain":"1f58b","pencil":"1f4dd","pencil2":"270f","penguin":"1f427","pensive":"1f614","performing_arts":"1f3ad","persevere":"1f623","person_frowning":"1f64d","person_frowning_tone1":"1f64d-1f3fb","person_frowning_tone2":"1f64d-1f3fc","person_frowning_tone3":"1f64d-1f3fd","person_frowning_tone4":"1f64d-1f3fe","person_frowning_tone5":"1f64d-1f3ff","person_with_blond_hair":"1f471","person_with_blond_hair_tone1":"1f471-1f3fb","person_with_blond_hair_tone2":"1f471-1f3fc","person_with_blond_hair_tone3":"1f471-1f3fd","person_with_blond_hair_tone4":"1f471-1f3fe","person_with_blond_hair_tone5":"1f471-1f3ff","person_with_pouting_face":"1f64e","person_with_pouting_face_tone1":"1f64e-1f3fb","person_with_pouting_face_tone2":"1f64e-1f3fc","person_with_pouting_face_tone3":"1f64e-1f3fd","person_with_pouting_face_tone4":"1f64e-1f3fe","person_with_pouting_face_tone5":"1f64e-1f3ff","peru":"1f1f5-1f1ea","philippines":"1f1f5-1f1ed","phone":"260e","pick":"26cf","pig":"1f437","pig2":"1f416","pig_nose":"1f43d","pill":"1f48a","pineapple":"1f34d","ping_pong":"1f3d3","pisces":"2653","pitcairn_islands":"1f1f5-1f1f3","pizza":"1f355","place_of_worship":"1f6d0","plate_with_cutlery":"1f37d","play_or_pause_button":"23ef","play_pause":"23ef","point_down":"1f447","point_down_tone1":"1f447-1f3fb","point_down_tone2":"1f447-1f3fc","point_down_tone3":"1f447-1f3fd","point_down_tone4":"1f447-1f3fe","point_down_tone5":"1f447-1f3ff","point_left":"1f448","point_left_tone1":"1f448-1f3fb","point_left_tone2":"1f448-1f3fc","point_left_tone3":"1f448-1f3fd","point_left_tone4":"1f448-1f3fe","point_left_tone5":"1f448-1f3ff","point_right":"1f449","point_right_tone1":"1f449-1f3fb","point_right_tone2":"1f449-1f3fc","point_right_tone3":"1f449-1f3fd","point_right_tone4":"1f449-1f3fe","point_right_tone5":"1f449-1f3ff","point_up":"261d","point_up_2":"1f446","point_up_2_tone1":"1f446-1f3fb","point_up_2_tone2":"1f446-1f3fc","point_up_2_tone3":"1f446-1f3fd","point_up_2_tone4":"1f446-1f3fe","point_up_2_tone5":"1f446-1f3ff","point_up_tone1":"261d-1f3fb","point_up_tone2":"261d-1f3fc","point_up_tone3":"261d-1f3fd","point_up_tone4":"261d-1f3fe","point_up_tone5":"261d-1f3ff","poland":"1f1f5-1f1f1","police_car":"1f693","policeman":"1f46e","poodle":"1f429","poop":"1f4a9","popcorn":"1f37f","portugal":"1f1f5-1f1f9","post_office":"1f3e3","postal_horn":"1f4ef","postbox":"1f4ee","potable_water":"1f6b0","potato":"1f954","pouch":"1f45d","poultry_leg":"1f357","pound":"1f4b7","pout":"1f621","pouting_cat":"1f63e","pouting_woman":"1f64e","pray":"1f64f","pray_tone1":"1f64f-1f3fb","pray_tone2":"1f64f-1f3fc","pray_tone3":"1f64f-1f3fd","pray_tone4":"1f64f-1f3fe","pray_tone5":"1f64f-1f3ff","prayer_beads":"1f4ff","pregnant_woman":"1f930","pregnant_woman_tone1":"1f930-1f3fb","pregnant_woman_tone2":"1f930-1f3fc","pregnant_woman_tone3":"1f930-1f3fd","pregnant_woman_tone4":"1f930-1f3fe","pregnant_woman_tone5":"1f930-1f3ff","previous_track_button":"23ee","prince":"1f934","prince_tone1":"1f934-1f3fb","prince_tone2":"1f934-1f3fc","prince_tone3":"1f934-1f3fd","prince_tone4":"1f934-1f3fe","prince_tone5":"1f934-1f3ff","princess":"1f478","princess_tone1":"1f478-1f3fb","princess_tone2":"1f478-1f3fc","princess_tone3":"1f478-1f3fd","princess_tone4":"1f478-1f3fe","princess_tone5":"1f478-1f3ff","printer":"1f5a8","projector":"1f4fd","puerto_rico":"1f1f5-1f1f7","punch":"1f44a","punch_tone1":"1f44a-1f3fb","punch_tone2":"1f44a-1f3fc","punch_tone3":"1f44a-1f3fd","punch_tone4":"1f44a-1f3fe","punch_tone5":"1f44a-1f3ff","purple_heart":"1f49c","purse":"1f45b","pushpin":"1f4cc","put_litter_in_its_place":"1f6ae","qatar":"1f1f6-1f1e6","question":"2753","rabbit":"1f430","rabbit2":"1f407","race_car":"1f3ce","racehorse":"1f40e","racing_car":"1f3ce","radio":"1f4fb","radio_button":"1f518","radioactive":"2622","rage":"1f621","railway_car":"1f683","railway_track":"1f6e4","rainbow":"1f308","rainbow_flag":"1f3f3-1f308","raised_back_of_hand":"1f91a","raised_back_of_hand_tone1":"1f91a-1f3fb","raised_back_of_hand_tone2":"1f91a-1f3fc","raised_back_of_hand_tone3":"1f91a-1f3fd","raised_back_of_hand_tone4":"1f91a-1f3fe","raised_back_of_hand_tone5":"1f91a-1f3ff","raised_hand":"270b","raised_hand_tone1":"270b-1f3fb","raised_hand_tone2":"270b-1f3fc","raised_hand_tone3":"270b-1f3fd","raised_hand_tone4":"270b-1f3fe","raised_hand_tone5":"270b-1f3ff","raised_hand_with_fingers_splayed":"1f590","raised_hands":"1f64c","raised_hands_tone1":"1f64c-1f3fb","raised_hands_tone2":"1f64c-1f3fc","raised_hands_tone3":"1f64c-1f3fd","raised_hands_tone4":"1f64c-1f3fe","raised_hands_tone5":"1f64c-1f3ff","raising_hand":"1f64b","raising_hand_tone1":"1f64b-1f3fb","raising_hand_tone2":"1f64b-1f3fc","raising_hand_tone3":"1f64b-1f3fd","raising_hand_tone4":"1f64b-1f3fe","raising_hand_tone5":"1f64b-1f3ff","raising_hand_woman":"1f64b","ram":"1f40f","ramen":"1f35c","rat":"1f400","record_button":"23fa","recycle":"267b","red_car":"1f697","red_circle":"1f534","regional_indicator_a":"1f1e6","regional_indicator_b":"1f1e7","regional_indicator_c":"1f1e8","regional_indicator_d":"1f1e9","regional_indicator_e":"1f1ea","regional_indicator_f":"1f1eb","regional_indicator_g":"1f1ec","regional_indicator_h":"1f1ed","regional_indicator_i":"1f1ee","regional_indicator_j":"1f1ef","regional_indicator_k":"1f1f0","regional_indicator_l":"1f1f1","regional_indicator_m":"1f1f2","regional_indicator_n":"1f1f3","regional_indicator_o":"1f1f4","regional_indicator_p":"1f1f5","regional_indicator_q":"1f1f6","regional_indicator_r":"1f1f7","regional_indicator_s":"1f1f8","regional_indicator_t":"1f1f9","regional_indicator_u":"1f1fa","regional_indicator_v":"1f1fb","regional_indicator_w":"1f1fc","regional_indicator_x":"1f1fd","regional_indicator_y":"1f1fe","regional_indicator_z":"1f1ff","registered":"00ae","relaxed":"263a","relieved":"1f60c","reminder_ribbon":"1f397","repeat":"1f501","repeat_one":"1f502","rescue_worker_helmet":"26d1","restroom":"1f6bb","reunion":"1f1f7-1f1ea","revolving_hearts":"1f49e","rewind":"23ea","rhino":"1f98f","ribbon":"1f380","rice":"1f35a","rice_ball":"1f359","rice_cracker":"1f358","rice_scene":"1f391","right_anger_bubble":"1f5ef","right_facing_fist":"1f91c","right_facing_fist_tone1":"1f91c-1f3fb","right_facing_fist_tone2":"1f91c-1f3fc","right_facing_fist_tone3":"1f91c-1f3fd","right_facing_fist_tone4":"1f91c-1f3fe","right_facing_fist_tone5":"1f91c-1f3ff","ring":"1f48d","robot":"1f916","rocket":"1f680","rofl":"1f923","roll_eyes":"1f644","roller_coaster":"1f3a2","rolling_eyes":"1f644","romania":"1f1f7-1f1f4","rooster":"1f413","rose":"1f339","rosette":"1f3f5","rotating_light":"1f6a8","round_pushpin":"1f4cd","rowboat":"1f6a3","rowboat_tone1":"1f6a3-1f3fb","rowboat_tone2":"1f6a3-1f3fc","rowboat_tone3":"1f6a3-1f3fd","rowboat_tone4":"1f6a3-1f3fe","rowboat_tone5":"1f6a3-1f3ff","rowing_man":"1f6a3","ru":"1f1f7-1f1fa","rugby_football":"1f3c9","runner":"1f3c3","runner_tone1":"1f3c3-1f3fb","runner_tone2":"1f3c3-1f3fc","runner_tone3":"1f3c3-1f3fd","runner_tone4":"1f3c3-1f3fe","runner_tone5":"1f3c3-1f3ff","running":"1f3c3","running_man":"1f3c3","running_shirt_with_sash":"1f3bd","rwanda":"1f1f7-1f1fc","sa":"1f202","sagittarius":"2650","sailboat":"26f5","sake":"1f376","salad":"1f957","samoa":"1f1fc-1f1f8","san_marino":"1f1f8-1f1f2","sandal":"1f461","santa":"1f385","santa_tone1":"1f385-1f3fb","santa_tone2":"1f385-1f3fc","santa_tone3":"1f385-1f3fd","santa_tone4":"1f385-1f3fe","santa_tone5":"1f385-1f3ff","sao_tome_principe":"1f1f8-1f1f9","satellite":"1f4e1","satellite_orbital":"1f6f0","satisfied":"1f606","saudi_arabia":"1f1f8-1f1e6","saxophone":"1f3b7","scales":"2696","school":"1f3eb","school_satchel":"1f392","scissors":"2702","scooter":"1f6f4","scorpion":"1f982","scorpius":"264f","scream":"1f631","scream_cat":"1f640","scroll":"1f4dc","seat":"1f4ba","second_place":"1f948","secret":"3299","see_no_evil":"1f648","seedling":"1f331","selfie":"1f933","selfie_tone1":"1f933-1f3fb","selfie_tone2":"1f933-1f3fc","selfie_tone3":"1f933-1f3fd","selfie_tone4":"1f933-1f3fe","selfie_tone5":"1f933-1f3ff","senegal":"1f1f8-1f1f3","serbia":"1f1f7-1f1f8","seven":"0037-20e3","seychelles":"1f1f8-1f1e8","shallow_pan_of_food":"1f958","shamrock":"2618","shark":"1f988","shaved_ice":"1f367","sheep":"1f411","shell":"1f41a","shield":"1f6e1","shinto_shrine":"26e9","ship":"1f6a2","shirt":"1f455","shit":"1f4a9","shoe":"1f45e","shopping":"1f6cd","shopping_bags":"1f6cd","shopping_cart":"1f6d2","shower":"1f6bf","shrimp":"1f990","shrug":"1f937","shrug_tone1":"1f937-1f3fb","shrug_tone2":"1f937-1f3fc","shrug_tone3":"1f937-1f3fd","shrug_tone4":"1f937-1f3fe","shrug_tone5":"1f937-1f3ff","sierra_leone":"1f1f8-1f1f1","signal_strength":"1f4f6","singapore":"1f1f8-1f1ec","sint_maarten":"1f1f8-1f1fd","six":"0036-20e3","six_pointed_star":"1f52f","ski":"1f3bf","skier":"26f7","skull":"1f480","skull_and_crossbones":"2620","skull_crossbones":"2620","sleeping":"1f634","sleeping_accommodation":"1f6cc","sleeping_bed":"1f6cc","sleepy":"1f62a","slight_frown":"1f641","slight_smile":"1f642","slightly_frowning_face":"1f641","slightly_smiling_face":"1f642","slot_machine":"1f3b0","slovakia":"1f1f8-1f1f0","slovenia":"1f1f8-1f1ee","small_airplane":"1f6e9","small_blue_diamond":"1f539","small_orange_diamond":"1f538","small_red_triangle":"1f53a","small_red_triangle_down":"1f53b","smile":"1f604","smile_cat":"1f638","smiley":"1f603","smiley_cat":"1f63a","smiling_imp":"1f608","smirk":"1f60f","smirk_cat":"1f63c","smoking":"1f6ac","snail":"1f40c","snake":"1f40d","sneezing_face":"1f927","snowboarder":"1f3c2","snowflake":"2744","snowman":"26c4","snowman2":"2603","snowman_with_snow":"2603","sob":"1f62d","soccer":"26bd","solomon_islands":"1f1f8-1f1e7","somalia":"1f1f8-1f1f4","soon":"1f51c","sos":"1f198","sound":"1f509","south_africa":"1f1ff-1f1e6","south_georgia_south_sandwich_islands":"1f1ec-1f1f8","south_sudan":"1f1f8-1f1f8","space_invader":"1f47e","spades":"2660","spaghetti":"1f35d","sparkle":"2747","sparkler":"1f387","sparkles":"2728","sparkling_heart":"1f496","speak_no_evil":"1f64a","speaker":"1f508","speaking_head":"1f5e3","speech_balloon":"1f4ac","speech_left":"1f5e8","speedboat":"1f6a4","spider":"1f577","spider_web":"1f578","spiral_calendar":"1f5d3","spiral_notepad":"1f5d2","spoon":"1f944","spy":"1f575","spy_tone1":"1f575-1f3fb","spy_tone2":"1f575-1f3fc","spy_tone3":"1f575-1f3fd","spy_tone4":"1f575-1f3fe","spy_tone5":"1f575-1f3ff","squid":"1f991","sri_lanka":"1f1f1-1f1f0","st_barthelemy":"1f1e7-1f1f1","st_helena":"1f1f8-1f1ed","st_kitts_nevis":"1f1f0-1f1f3","st_lucia":"1f1f1-1f1e8","st_pierre_miquelon":"1f1f5-1f1f2","st_vincent_grenadines":"1f1fb-1f1e8","stadium":"1f3df","star":"2b50","star2":"1f31f","star_and_crescent":"262a","star_of_david":"2721","stars":"1f320","station":"1f689","statue_of_liberty":"1f5fd","steam_locomotive":"1f682","stew":"1f372","stop_button":"23f9","stopwatch":"23f1","straight_ruler":"1f4cf","strawberry":"1f353","stuck_out_tongue":"1f61b","stuck_out_tongue_closed_eyes":"1f61d","stuck_out_tongue_winking_eye":"1f61c","studio_microphone":"1f399","stuffed_flatbread":"1f959","sudan":"1f1f8-1f1e9","sun_behind_large_cloud":"1f325","sun_behind_rain_cloud":"1f326","sun_behind_small_cloud":"1f324","sun_with_face":"1f31e","sunflower":"1f33b","sunglasses":"1f60e","sunny":"2600","sunrise":"1f305","sunrise_over_mountains":"1f304","surfer":"1f3c4","surfer_tone1":"1f3c4-1f3fb","surfer_tone2":"1f3c4-1f3fc","surfer_tone3":"1f3c4-1f3fd","surfer_tone4":"1f3c4-1f3fe","surfer_tone5":"1f3c4-1f3ff","surfing_man":"1f3c4","suriname":"1f1f8-1f1f7","sushi":"1f363","suspension_railway":"1f69f","swaziland":"1f1f8-1f1ff","sweat":"1f613","sweat_drops":"1f4a6","sweat_smile":"1f605","sweden":"1f1f8-1f1ea","sweet_potato":"1f360","swimmer":"1f3ca","swimmer_tone1":"1f3ca-1f3fb","swimmer_tone2":"1f3ca-1f3fc","swimmer_tone3":"1f3ca-1f3fd","swimmer_tone4":"1f3ca-1f3fe","swimmer_tone5":"1f3ca-1f3ff","swimming_man":"1f3ca","switzerland":"1f1e8-1f1ed","symbols":"1f523","synagogue":"1f54d","syria":"1f1f8-1f1fe","syringe":"1f489","taco":"1f32e","tada":"1f389","taiwan":"1f1f9-1f1fc","tajikistan":"1f1f9-1f1ef","tanabata_tree":"1f38b","tangerine":"1f34a","tanzania":"1f1f9-1f1ff","taurus":"2649","taxi":"1f695","tea":"1f375","telephone":"260e","telephone_receiver":"1f4de","telescope":"1f52d","tennis":"1f3be","tent":"26fa","thailand":"1f1f9-1f1ed","thermometer":"1f321","thermometer_face":"1f912","thinking":"1f914","third_place":"1f949","thought_balloon":"1f4ad","three":"0033-20e3","thumbsdown":"1f44e","thumbsdown_tone1":"1f44e-1f3fb","thumbsdown_tone2":"1f44e-1f3fc","thumbsdown_tone3":"1f44e-1f3fd","thumbsdown_tone4":"1f44e-1f3fe","thumbsdown_tone5":"1f44e-1f3ff","thumbsup":"1f44d","thumbsup_tone1":"1f44d-1f3fb","thumbsup_tone2":"1f44d-1f3fc","thumbsup_tone3":"1f44d-1f3fd","thumbsup_tone4":"1f44d-1f3fe","thumbsup_tone5":"1f44d-1f3ff","thunder_cloud_rain":"26c8","ticket":"1f3ab","tickets":"1f39f","tiger":"1f42f","tiger2":"1f405","timer":"23f2","timer_clock":"23f2","timor_leste":"1f1f9-1f1f1","tipping_hand_woman":"1f481","tired_face":"1f62b","tm":"2122","togo":"1f1f9-1f1ec","toilet":"1f6bd","tokelau":"1f1f9-1f1f0","tokyo_tower":"1f5fc","tomato":"1f345","tone1":"1f3fb","tone2":"1f3fc","tone3":"1f3fd","tone4":"1f3fe","tone5":"1f3ff","tonga":"1f1f9-1f1f4","tongue":"1f445","tools":"1f6e0","top":"1f51d","tophat":"1f3a9","tornado":"1f32a","tr":"1f1f9-1f1f7","track_next":"23ed","track_previous":"23ee","trackball":"1f5b2","tractor":"1f69c","traffic_light":"1f6a5","train":"1f68b","train2":"1f686","tram":"1f68a","triangular_flag_on_post":"1f6a9","triangular_ruler":"1f4d0","trident":"1f531","trinidad_tobago":"1f1f9-1f1f9","triumph":"1f624","trolleybus":"1f68e","trophy":"1f3c6","tropical_drink":"1f379","tropical_fish":"1f420","truck":"1f69a","trumpet":"1f3ba","tshirt":"1f455","tulip":"1f337","tumbler_glass":"1f943","tunisia":"1f1f9-1f1f3","turkey":"1f983","turkmenistan":"1f1f9-1f1f2","turks_caicos_islands":"1f1f9-1f1e8","turtle":"1f422","tuvalu":"1f1f9-1f1fb","tv":"1f4fa","twisted_rightwards_arrows":"1f500","two":"0032-20e3","two_hearts":"1f495","two_men_holding_hands":"1f46c","two_women_holding_hands":"1f46d","u5272":"1f239","u5408":"1f234","u55b6":"1f23a","u6307":"1f22f","u6708":"1f237","u6709":"1f236","u6e80":"1f235","u7121":"1f21a","u7533":"1f238","u7981":"1f232","u7a7a":"1f233","uganda":"1f1fa-1f1ec","uk":"1f1ec-1f1e7","ukraine":"1f1fa-1f1e6","umbrella":"2614","umbrella2":"2602","unamused":"1f612","underage":"1f51e","unicorn":"1f984","united_arab_emirates":"1f1e6-1f1ea","unlock":"1f513","up":"1f199","upside_down":"1f643","upside_down_face":"1f643","urn":"26b1","uruguay":"1f1fa-1f1fe","us":"1f1fa-1f1f8","us_virgin_islands":"1f1fb-1f1ee","uzbekistan":"1f1fa-1f1ff","v":"270c","v_tone1":"270c-1f3fb","v_tone2":"270c-1f3fc","v_tone3":"270c-1f3fd","v_tone4":"270c-1f3fe","v_tone5":"270c-1f3ff","vanuatu":"1f1fb-1f1fa","vatican_city":"1f1fb-1f1e6","venezuela":"1f1fb-1f1ea","vertical_traffic_light":"1f6a6","vhs":"1f4fc","vibration_mode":"1f4f3","video_camera":"1f4f9","video_game":"1f3ae","vietnam":"1f1fb-1f1f3","violin":"1f3bb","virgo":"264d","volcano":"1f30b","volleyball":"1f3d0","vs":"1f19a","vulcan":"1f596","vulcan_salute":"1f596","vulcan_tone1":"1f596-1f3fb","vulcan_tone2":"1f596-1f3fc","vulcan_tone3":"1f596-1f3fd","vulcan_tone4":"1f596-1f3fe","vulcan_tone5":"1f596-1f3ff","walking":"1f6b6","walking_man":"1f6b6","walking_tone1":"1f6b6-1f3fb","walking_tone2":"1f6b6-1f3fc","walking_tone3":"1f6b6-1f3fd","walking_tone4":"1f6b6-1f3fe","walking_tone5":"1f6b6-1f3ff","wallis_futuna":"1f1fc-1f1eb","waning_crescent_moon":"1f318","waning_gibbous_moon":"1f316","warning":"26a0","wastebasket":"1f5d1","watch":"231a","water_buffalo":"1f403","water_polo":"1f93d","water_polo_tone1":"1f93d-1f3fb","water_polo_tone2":"1f93d-1f3fc","water_polo_tone3":"1f93d-1f3fd","water_polo_tone4":"1f93d-1f3fe","water_polo_tone5":"1f93d-1f3ff","watermelon":"1f349","wave":"1f44b","wave_tone1":"1f44b-1f3fb","wave_tone2":"1f44b-1f3fc","wave_tone3":"1f44b-1f3fd","wave_tone4":"1f44b-1f3fe","wave_tone5":"1f44b-1f3ff","wavy_dash":"3030","waxing_crescent_moon":"1f312","waxing_gibbous_moon":"1f314","wc":"1f6be","weary":"1f629","wedding":"1f492","weight_lifting_man":"1f3cb","western_sahara":"1f1ea-1f1ed","whale":"1f433","whale2":"1f40b","wheel_of_dharma":"2638","wheelchair":"267f","white_check_mark":"2705","white_circle":"26aa","white_flag":"1f3f3","white_flower":"1f4ae","white_large_square":"2b1c","white_medium_small_square":"25fd","white_medium_square":"25fb","white_small_square":"25ab","white_square_button":"1f533","white_sun_cloud":"1f325","white_sun_rain_cloud":"1f326","white_sun_small_cloud":"1f324","wilted_rose":"1f940","wind_blowing_face":"1f32c","wind_chime":"1f390","wind_face":"1f32c","wine_glass":"1f377","wink":"1f609","wolf":"1f43a","woman":"1f469","woman_tone1":"1f469-1f3fb","woman_tone2":"1f469-1f3fc","woman_tone3":"1f469-1f3fd","woman_tone4":"1f469-1f3fe","woman_tone5":"1f469-1f3ff","womans_clothes":"1f45a","womans_hat":"1f452","womens":"1f6ba","world_map":"1f5fa","worried":"1f61f","wrench":"1f527","wrestlers":"1f93c","wrestlers_tone1":"1f93c-1f3fb","wrestlers_tone2":"1f93c-1f3fc","wrestlers_tone3":"1f93c-1f3fd","wrestlers_tone4":"1f93c-1f3fe","wrestlers_tone5":"1f93c-1f3ff","writing_hand":"270d","writing_hand_tone1":"270d-1f3fb","writing_hand_tone2":"270d-1f3fc","writing_hand_tone3":"270d-1f3fd","writing_hand_tone4":"270d-1f3fe","writing_hand_tone5":"270d-1f3ff","x":"274c","yellow_heart":"1f49b","yemen":"1f1fe-1f1ea","yen":"1f4b4","yin_yang":"262f","yum":"1f60b","zambia":"1f1ff-1f1f2","zap":"26a1","zero":"0030-20e3","zimbabwe":"1f1ff-1f1fc","zipper_mouth":"1f910","zipper_mouth_face":"1f910","zzz":"1f4a4"};var unicodeRegexp=/(?:[#*0-9]\ufe0f\u20e3?|[\xa9\xae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb\u25fc\u2600-\u2604\u260e\u2611\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2660\u2663\u2665\u2666\u2668\u267b\u2692\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26b0\u26b1\u26c8\u26cf\u26d1\u26d3\u26e9\u26f0\u26f1\u26f4\u26f7\u26f8\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u3030\u303d\u3297\u3299]\ufe0f|[\u231a\u231b\u23e9-\u23ec\u23f0\u23f3\u25fd\u25fe\u2614\u2615\u2648-\u2653\u267f\u2693\u26a1\u26aa\u26ab\u26bd\u26be\u26c4\u26c5\u26ce\u26d4\u26ea\u26f2\u26f3\u26f5\u26fa\u26fd\u2705\u2728\u274c\u274e\u2753-\u2755\u2757\u2795-\u2797\u27b0\u27bf\u2b1b\u2b1c\u2b50\u2b55]\ufe0f?|[\u261d\u26f9\u270c\u270d](?:\ud83c[\udffb-\udfff]|\ufe0f)|[\u270a\u270b](?:\ud83c[\udffb-\udfff]|\ufe0f)?|\ud83c(?:[\udc04\udccf\udd8e\udd91-\udd9a\ude01\ude1a\ude2f\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc2\udfc5-\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]\ufe0f?|[\udd70\udd71\udd7e\udd7f\ude02\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcc-\udfce\udfd4-\udfdf\udff3\udff5\udff7]\ufe0f|[\udde6-\uddff](?:\ud83c[\udde6-\uddff]|\ufe0f)?|[\udf85\udfc3\udfc4\udfca](?:\ud83c[\udffb-\udfff]|\ufe0f)?|\udfcb(?:\ud83c[\udffb-\udfff]|\ufe0f))|\ud83d(?:[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\udecc\uded0-\uded2\udeeb\udeec\udef4-\udef6]\ufe0f?|[\udc3f\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd74\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]\ufe0f|[\udc42\udc43\udc46-\udc50\udc66\udc67\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0](?:\ud83c[\udffb-\udfff]|\ufe0f)?|[\udd75\udd90](?:\ud83c[\udffb-\udfff]|\ufe0f)|\udc41(?:\u200d\ud83d\udde8|\ufe0f)|\udc68(?:\u200d(?:\u2764\ufe0f\u200d\ud83d(?:\udc8b\u200d\ud83d)?\udc68|\ud83d[\udc68\udc69]\u200d\ud83d(?:\udc66(?:\u200d\ud83d\udc66)?|\udc67(?:\u200d\ud83d[\udc66\udc67])?))|\ud83c[\udffb-\udfff]|\ufe0f)?|\udc69(?:\u200d(?:\u2764\ufe0f\u200d\ud83d(?:\udc8b\u200d\ud83d)?[\udc68\udc69]|\ud83d\udc69\u200d\ud83d(?:\udc66(?:\u200d\ud83d\udc66)?|\udc67(?:\u200d\ud83d[\udc66\udc67])?))|\ud83c[\udffb-\udfff]|\ufe0f)?)|\ud83e(?:[\udd10-\udd17\udd20-\udd25\udd27\udd3a\udd40-\udd45\udd47-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]\ufe0f?|[\udd18-\udd1e\udd26\udd30\udd33-\udd39\udd3c-\udd3e](?:\ud83c[\udffb-\udfff]|\ufe0f)?))(?!\ufe0e)/g;parseAsciiEmoji(text);parseAliases(text);parseUnicodeEmoji(text);function addTag(tagPos,tagLen,seq){addSelfClosingTag(config.tagName,tagPos,tagLen,10).setAttribute(config.attrName,seq)}
function getSequence(str){str=str.replace(/[\u200D\uFE0F]/g,'');var seq=[],i=0;do{var cp=str.charCodeAt(i);if(cp>=0xD800){cp=(cp<<10)+str.charCodeAt(++i)-56613888}
seq.push(('000'+cp.toString(16)).replace(/^0+(.{4,})$/,'$1'))}
while(++i<str.length);return seq.join('-')}
function parseAliases(text){if(!HINT.EMOJI_HAS_ALIASES||!config.aliases){return}
var matchPos=0,m;if(HINT.EMOJI_HAS_ALIAS_QUICKMATCH&&config.aliasesQuickMatch){matchPos=text.indexOf(config.aliasesQuickMatch);if(matchPos<0){return}}
config.aliasesRegexp.lastIndex=matchPos;while(m=config.aliasesRegexp.exec(text)){var alias=m[0],tagPos=m.index,emoji;if(config.aliases[alias]){emoji=config.aliases[alias];addTag(tagPos,alias.length,getSequence(emoji))}}}
function parseAsciiEmoji(text){var m,matchPos=text.indexOf(':');if(matchPos<0){return}
asciiRegexp.lastIndex=matchPos;while(m=asciiRegexp.exec(text)){var shortName=m[0].substr(1),tagPos=m.index;if(map[shortName]){addTag(tagPos,2+shortName.length,map[shortName])}}}
function parseUnicodeEmoji(text){var m;unicodeRegexp.lastIndex=0;while(m=unicodeRegexp.exec(text)){var emoji=m[0],tagPos=m.index;addTag(tagPos,emoji.length,getSequence(emoji))}}}},"Escaper":{parser:function(text,matches){var config={tagName:"ESC"};matches.forEach(function(m){addTagPair(config.tagName,m[0][1],1,m[0][1]+m[0][0].length,0)})},quickMatch:"\\",regexp:/\\[-!#()*+.:<>@[\\\]^_`{|}]/g,regexpLimit:10000},"Litedown":{parser:function(text,matches){var config={decodeHtmlEntities:!1};var hasEscapedChars,hasRefs,refs,startTagLen,startTagPos,endTagPos,endTagLen;init();matchBlockLevelMarkup();matchLinkReferences();matchInlineCode();matchImages();matchLinks();matchStrikethrough();matchSuperscript();matchEmphasis();matchForcedLineBreaks();function addImageTag(startTagPos,endTagPos,endTagLen,linkInfo,alt){var tag=addTagPair('IMG',startTagPos,2,endTagPos,endTagLen);setLinkAttributes(tag,linkInfo,'src');tag.setAttribute('alt',decode(alt));overwrite(startTagPos,endTagPos+endTagLen-startTagPos)}
function addInlineCodeTags(left,right){var startTagPos=left.pos,startTagLen=left.len+left.trimAfter,endTagPos=right.pos-right.trimBefore,endTagLen=right.len+right.trimBefore;addTagPair('C',startTagPos,startTagLen,endTagPos,endTagLen);overwrite(startTagPos,endTagPos+endTagLen-startTagPos)}
function addLinkTag(startTagPos,endTagPos,endTagLen,linkInfo){var priority=(endTagLen===1)?1:-1;var tag=addTagPair('URL',startTagPos,1,endTagPos,endTagLen,priority);setLinkAttributes(tag,linkInfo,'url');overwrite(startTagPos,1);overwrite(endTagPos,endTagLen)}
function closeList(list,textBoundary){addEndTag('LIST',textBoundary,0).pairWith(list.listTag);addEndTag('LI',textBoundary,0).pairWith(list.itemTag);if(list.tight){list.itemTags.forEach(function(itemTag){itemTag.removeFlags(RULE_CREATE_PARAGRAPHS)})}}
function computeQuoteIgnoreLen(str,maxQuoteDepth){var remaining=str;while(--maxQuoteDepth>=0){remaining=remaining.replace(/^ *> ?/,'')}
return str.length-remaining.length}
function decode(str){if(HINT.LITEDOWN_DECODE_HTML_ENTITIES&&config.decodeHtmlEntities&&str.indexOf('&')>-1){str=html_entity_decode(str)}
str=str.replace(/\x1A/g,'');if(hasEscapedChars){str=str.replace(/\x1B./g,function(seq){return{"\x1B0":'!',"\x1B1":'"',"\x1B2":"'","\x1B3":'(',"\x1B4":')',"\x1B5":'*',"\x1B6":'[',"\x1B7":'\\',"\x1B8":']',"\x1B9":'^',"\x1BA":'_',"\x1BB":'`',"\x1BC":'~'}[seq]})}
return str}
function encode(str){return str.replace(/\\[!"'()*[\\\]^_`~]/g,function(str){return{'\\!':"\x1B0",'\\"':"\x1B1","\\'":"\x1B2",'\\(':"\x1B3",'\\)':"\x1B4",'\\*':"\x1B5",'\\[':"\x1B6",'\\\\':"\x1B7",'\\]':"\x1B8",'\\^':"\x1B9",'\\_':"\x1BA",'\\`':"\x1BB",'\\~':"\x1BC"}[str]})}
function getAtxHeaderEndTagLen(startPos,endPos){var content=text.substr(startPos,endPos-startPos),m=/[ \t]*#*[ \t]*$/.exec(content);return m[0].length}
function getEmphasisByBlock(regexp,pos){var block=[],blocks=[],breakPos=breakPos=text.indexOf("\x17",pos),m;regexp.lastIndex=pos;while(m=regexp.exec(text)){var matchPos=m.index,matchLen=m[0].length;if(matchPos>breakPos){blocks.push(block);block=[];breakPos=text.indexOf("\x17",matchPos)}
if(!ignoreEmphasis(matchPos,matchLen)){block.push([matchPos,matchLen])}}
blocks.push(block);return blocks}
function getInlineCodeMarkers(){var pos=text.indexOf('`');if(pos<0){return[]}
var regexp=/(`+)(\s*)[^\x17`]*/g,trimNext=0,markers=[],_text=text.replace(/\x1BB/g,'\\`'),m;regexp.lastIndex=pos;while(m=regexp.exec(_text)){markers.push({pos:m.index,len:m[1].length,trimBefore:trimNext,trimAfter:m[2].length,next:m.index+m[0].length});trimNext=m[0].length-m[0].replace(/\s+$/,'').length}
return markers}
function getLabels(){var labels={},m,regexp=/\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\]/g;while(m=regexp.exec(text)){labels[m.index]=m[1].toLowerCase()}
return labels}
function getSetextLines(){var setextLines={};if(text.indexOf('-')===-1&&text.indexOf('=')===-1){return setextLines}
var m,regexp=/^(?=[-=>])(?:> ?)*(?=[-=])(?:-+|=+) *$/gm;while(m=regexp.exec(text)){var match=m[0],matchPos=m.index;var endTagPos=matchPos-1;while(endTagPos>0&&text[endTagPos-1]===' '){--endTagPos}
setextLines[matchPos-1]={endTagLen:matchPos+match.length-endTagPos,endTagPos:endTagPos,quoteDepth:match.length-match.replace(/>/g,'').length,tagName:(match.charAt(0)==='=')?'H1':'H2'}}
return setextLines}
function ignoreEmphasis(matchPos,matchLen){return(text[matchPos]==='_'&&matchLen===1&&isSurroundedByAlnum(matchPos,matchLen))}
function init(){if(text.indexOf('\\')<0){hasEscapedChars=!1}else{hasEscapedChars=!0;text=encode(text)}
text+="\n\n\x17"}
function isAlnum(chr){return(' abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'.indexOf(chr)>0)}
function isSurroundedByAlnum(matchPos,matchLen){return(matchPos>0&&isAlnum(text[matchPos-1])&&isAlnum(text[matchPos+matchLen]))}
function markBoundary(pos){text=text.substr(0,pos)+"\x17"+text.substr(pos+1)}
function matchBlockLevelMarkup(){var codeFence,codeIndent=4,codeTag,lineIsEmpty=!0,lists=[],listsCnt=0,newContext=!1,quotes=[],quotesCnt=0,setextLines=getSetextLines(),textBoundary=0,breakParagraph,continuation,endTag,ignoreLen,indentStr,indentLen,lfPos,listIndex,maxIndent,minIndent,quoteDepth,tagPos,tagLen;var matches=[],m,regexp=/^(?:(?=[-*+\d \t>`~#_])((?: {0,3}> ?)+)?([ \t]+)?(\* *\* *\*[* ]*$|- *- *-[- ]*$|_ *_ *_[_ ]*$)?((?:[-*+]|\d+\.)[ \t]+(?=\S))?[ \t]*(#{1,6}[ \t]+|```+[^`\n]*$|~~~+[^~\n]*$)?)?/gm;while(m=regexp.exec(text)){matches.push(m);if(m.index===regexp.lastIndex){++regexp.lastIndex}}
matches.forEach(function(m){var matchPos=m.index,matchLen=m[0].length;ignoreLen=0;quoteDepth=0;continuation=!lineIsEmpty;lfPos=text.indexOf("\n",matchPos);lineIsEmpty=(lfPos===matchPos+matchLen&&!m[3]&&!m[4]&&!m[5]);if(!matchLen){++regexp.lastIndex}
breakParagraph=(lineIsEmpty&&continuation);if(m[1]){quoteDepth=m[1].length-m[1].replace(/>/g,'').length;ignoreLen=m[1].length;if(codeTag&&codeTag.hasAttribute('quoteDepth')){quoteDepth=Math.min(quoteDepth,codeTag.getAttribute('quoteDepth'));ignoreLen=computeQuoteIgnoreLen(m[1],quoteDepth)}
overwrite(matchPos,ignoreLen)}
if(quoteDepth<quotesCnt&&!continuation){newContext=!0;do{addEndTag('QUOTE',textBoundary,0).pairWith(quotes.pop())}
while(quoteDepth<--quotesCnt);}
if(quoteDepth>quotesCnt&&!lineIsEmpty){newContext=!0;do{var tag=addStartTag('QUOTE',matchPos,0,quotesCnt-999);quotes.push(tag)}
while(quoteDepth>++quotesCnt);}
var indentWidth=0,indentPos=0;if(m[2]&&!codeFence){indentStr=m[2];indentLen=indentStr.length;do{if(indentStr.charAt(indentPos)===' '){++indentWidth}else{indentWidth=(indentWidth+4)&~3}}
while(++indentPos<indentLen&&indentWidth<codeIndent);}
if(codeTag&&!codeFence&&indentWidth<codeIndent&&!lineIsEmpty){newContext=!0}
if(newContext){newContext=!1;if(codeTag){overwrite(codeTag.getPos(),textBoundary-codeTag.getPos());endTag=addEndTag('CODE',textBoundary,0,-1);endTag.pairWith(codeTag);codeTag=null;codeFence=null}
lists.forEach(function(list){closeList(list,textBoundary)});lists=[];listsCnt=0;if(matchPos){markBoundary(matchPos-1)}}
if(indentWidth>=codeIndent){if(codeTag||!continuation){ignoreLen=(m[1]||'').length+indentPos;if(!codeTag){codeTag=addStartTag('CODE',matchPos+ignoreLen,0,-999)}
m={}}}else{var hasListItem=!!m[4];if(!indentWidth&&!continuation&&!hasListItem){listIndex=-1}else if(continuation&&!hasListItem){listIndex=listsCnt-1}else if(!listsCnt){if(hasListItem&&(!continuation||text.charAt(matchPos-1)==="\x17")){listIndex=0}else{listIndex=-1}}else{listIndex=0;while(listIndex<listsCnt&&indentWidth>lists[listIndex].maxIndent){++listIndex}}
while(listIndex<listsCnt-1){closeList(lists.pop(),textBoundary);--listsCnt}
if(listIndex===listsCnt&&!hasListItem){--listIndex}
if(hasListItem&&listIndex>=0){breakParagraph=!0;tagPos=matchPos+ignoreLen+indentPos
tagLen=m[4].length;var itemTag=addStartTag('LI',tagPos,tagLen);overwrite(tagPos,tagLen);if(listIndex<listsCnt){addEndTag('LI',textBoundary,0).pairWith(lists[listIndex].itemTag);lists[listIndex].itemTag=itemTag;lists[listIndex].itemTags.push(itemTag)}else{++listsCnt;if(listIndex){minIndent=lists[listIndex-1].maxIndent+1;maxIndent=Math.max(minIndent,listIndex*4)}else{minIndent=0;maxIndent=indentWidth}
var listTag=addStartTag('LIST',tagPos,0);if(m[4].indexOf('.')>-1){listTag.setAttribute('type','decimal');var start=+m[4];if(start!==1){listTag.setAttribute('start',start)}}
lists.push({listTag:listTag,itemTag:itemTag,itemTags:[itemTag],minIndent:minIndent,maxIndent:maxIndent,tight:!0})}}
if(listsCnt&&!continuation&&!lineIsEmpty){if(lists[0].itemTags.length>1||!hasListItem){lists.forEach(function(list){list.tight=!1})}}
codeIndent=(listsCnt+1)*4}
if(m[5]){if(m[5].charAt(0)==='#'){startTagLen=m[5].length;startTagPos=matchPos+matchLen-startTagLen;endTagLen=getAtxHeaderEndTagLen(matchPos+matchLen,lfPos);endTagPos=lfPos-endTagLen;addTagPair('H'+/#{1,6}/.exec(m[5])[0].length,startTagPos,startTagLen,endTagPos,endTagLen);markBoundary(startTagPos);markBoundary(lfPos);if(continuation){breakParagraph=!0}}else if(m[5].charAt(0)==='`'||m[5].charAt(0)==='~'){tagPos=matchPos+ignoreLen;tagLen=lfPos-tagPos;if(codeTag&&m[5]===codeFence){endTag=addEndTag('CODE',tagPos,tagLen,-1);endTag.pairWith(codeTag);addIgnoreTag(textBoundary,tagPos-textBoundary);overwrite(codeTag.getPos(),tagPos+tagLen-codeTag.getPos());codeTag=null;codeFence=null}else if(!codeTag){codeTag=addStartTag('CODE',tagPos,tagLen);codeFence=m[5].replace(/[^`~]+/,'');codeTag.setAttribute('quoteDepth',quoteDepth);addIgnoreTag(tagPos+tagLen,1);var lang=m[5].replace(/^[`~\s]*/,'').replace(/\s+$/,'');if(lang!==''){codeTag.setAttribute('lang',lang)}}}}else if(m[3]&&!listsCnt&&text.charAt(matchPos+matchLen)!=="\x17"){addSelfClosingTag('HR',matchPos+ignoreLen,matchLen-ignoreLen);breakParagraph=!0;markBoundary(lfPos)}else if(setextLines[lfPos]&&setextLines[lfPos].quoteDepth===quoteDepth&&!lineIsEmpty&&!listsCnt&&!codeTag){addTagPair(setextLines[lfPos].tagName,matchPos+ignoreLen,0,setextLines[lfPos].endTagPos,setextLines[lfPos].endTagLen);markBoundary(setextLines[lfPos].endTagPos+setextLines[lfPos].endTagLen)}
if(breakParagraph){addParagraphBreak(textBoundary);markBoundary(textBoundary)}
if(!lineIsEmpty){textBoundary=lfPos}
if(ignoreLen){addIgnoreTag(matchPos,ignoreLen,1000)}})}
function matchEmphasis(){matchEmphasisByCharacter('*',/\*+/g);matchEmphasisByCharacter('_',/_+/g)}
function matchEmphasisByCharacter(character,regexp){var pos=text.indexOf(character);if(pos===-1){return}
getEmphasisByBlock(regexp,pos).forEach(processEmphasisBlock)}
function matchForcedLineBreaks(){var pos=text.indexOf("  \n");while(pos!==-1){addBrTag(pos+2);pos=text.indexOf("  \n",pos+3)}}
function matchImages(){var pos=text.indexOf('![');if(pos===-1){return}
if(text.indexOf('](',pos)>0){matchInlineImages()}
if(hasRefs){matchReferenceImages()}}
function matchInlineImages(){var m,regexp=/!\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;while(m=regexp.exec(text)){var linkInfo=m[1],startTagPos=m.index,endTagLen=3+linkInfo.length,endTagPos=startTagPos+m[0].length-endTagLen,alt=m[0].substr(2,m[0].length-endTagLen-2);addImageTag(startTagPos,endTagPos,endTagLen,linkInfo,alt)}}
function matchReferenceImages(){var m,regexp=/!\[((?:[^\x17[\]]|\[[^\x17[\]]*\])*)\](?: ?\[([^\x17[\]]+)\])?/g;while(m=regexp.exec(text)){var startTagPos=+m.index,endTagPos=startTagPos+2+m[1].length,endTagLen=1,alt=m[1],id=alt;if(m[2]>''&&refs[m[2]]){endTagLen=m[0].length-alt.length-2;id=m[2]}else if(!refs[id]){continue}
addImageTag(startTagPos,endTagPos,endTagLen,refs[id],alt)}}
function matchInlineCode(){var markers=getInlineCodeMarkers(),i=-1,cnt=markers.length;while(++i<(cnt-1)){var pos=markers[i].next,j=i;if(text.charAt(markers[i].pos)!=='`'){++markers[i].pos;--markers[i].len}
while(++j<cnt&&markers[j].pos===pos){if(markers[j].len===markers[i].len){addInlineCodeTags(markers[i],markers[j]);i=j;break}
pos=markers[j].next}}}
function matchInlineLinks(){var m,regexp=/\[(?:[^\x17[\]]|\[[^\x17[\]]*\])*\]\(( *(?:[^\x17\s()]|\([^\x17\s()]*\))*(?=[ )]) *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))? *)\)/g;while(m=regexp.exec(text)){var linkInfo=m[1],startTagPos=m.index,endTagLen=3+linkInfo.length,endTagPos=startTagPos+m[0].length-endTagLen;addLinkTag(startTagPos,endTagPos,endTagLen,linkInfo)}}
function matchLinkReferences(){hasRefs=!1;refs={};if(text.indexOf(']:')===-1){return}
var m,regexp=/^\x1A* {0,3}\[([^\x17\]]+)\]: *([^\s\x17]+ *(?:"[^\x17]*?"|'[^\x17]*?'|\([^\x17)]*\))?)[^\x17\n]*\n?/gm;while(m=regexp.exec(text)){addIgnoreTag(m.index,m[0].length,-2);var id=m[1].toLowerCase();if(refs[id]){continue}
hasRefs=!0;refs[id]=m[2]}}
function matchLinks(){if(text.indexOf('](')!==-1){matchInlineLinks()}
if(hasRefs){matchReferenceLinks()}}
function matchReferenceLinks(){var labels=getLabels(),startTagPos;for(startTagPos in labels){var id=labels[startTagPos],labelPos=+startTagPos+2+id.length,endTagPos=labelPos-1,endTagLen=1;if(text.charAt(labelPos)===' '){++labelPos}
if(labels[labelPos]>''&&refs[labels[labelPos]]){id=labels[labelPos];endTagLen=labelPos+2+id.length-endTagPos}
if(refs[id]){addLinkTag(+startTagPos,endTagPos,endTagLen,refs[id])}}}
function matchStrikethrough(){if(text.indexOf('~~')===-1){return}
var m,regexp=/~~[^\x17]+?~~/g;while(m=regexp.exec(text)){var match=m[0],matchPos=m.index,matchLen=match.length;addTagPair('DEL',matchPos,2,matchPos+matchLen-2,2)}}
function matchSuperscript(){if(text.indexOf('^')===-1){return}
var m,regexp=/\^[^\x17\s]+/g;while(m=regexp.exec(text)){var match=m[0],matchPos=m.index,matchLen=match.length,startTagPos=matchPos,endTagPos=matchPos+matchLen;var parts=match.split('^');parts.shift();parts.forEach(function(part){addTagPair('SUP',startTagPos,1,endTagPos,0);startTagPos+=1+part.length})}}
function overwrite(pos,len){text=text.substr(0,pos)+new Array(1+len).join("\x1A")+text.substr(pos+len)}
function processEmphasisBlock(block){var buffered=0,emPos=-1,strongPos=-1,pair,remaining;block.forEach(function(pair){var matchPos=pair[0],matchLen=pair[1],closeLen=Math.min(3,matchLen),closeEm=closeLen&buffered&1,closeStrong=closeLen&buffered&2,emEndPos=matchPos,strongEndPos=matchPos;if(buffered>2&&emPos===strongPos){if(closeEm){emPos+=2}else{++strongPos}}
if(closeEm&&closeStrong){if(emPos<strongPos){emEndPos+=2}else{++strongEndPos}}
remaining=matchLen;if(closeEm){--buffered;--remaining;addTagPair('EM',emPos,1,emEndPos,1)}
if(closeStrong){buffered-=2;remaining-=2;addTagPair('STRONG',strongPos,2,strongEndPos,2)}
remaining=Math.min(3,remaining);if(remaining&1){emPos=matchPos+matchLen-remaining}
if(remaining&2){strongPos=matchPos+matchLen-remaining}
buffered+=remaining})}
function setLinkAttributes(tag,linkInfo,attrName){var url=linkInfo.replace(/^\s*/,'').replace(/\s*$/,''),title='',pos=url.indexOf(' ')
if(pos!==-1){title=url.substr(pos).replace(/^\s*\S/,'').replace(/\S\s*$/,'');url=url.substr(0,pos)}
tag.setAttribute(attrName,decode(url));if(title>''){tag.setAttribute('title',decode(title))}}}},"Preg":{parser:function(text,matches){var config={generics:[["POSTMENTION",/\B@([a-z0-9_-]+)#(\d+)/ig,0,["","username","id"]],["USERMENTION",/\B@([a-z0-9_-]+)(?!#)/ig,0,["","username"]]]};config.generics.forEach(function(entry){var tagName=entry[0],regexp=entry[1],passthroughIdx=entry[2],map=entry[3],m;regexp.lastIndex=0;while(m=regexp.exec(text)){var startTagPos=m.index,matchLen=m[0].length,tag;if(HINT.PREG_HAS_PASSTHROUGH&&passthroughIdx&&m[passthroughIdx]!==''){var contentPos=text.indexOf(m[passthroughIdx],startTagPos),contentLen=m[passthroughIdx].length,startTagLen=contentPos-startTagPos,endTagPos=contentPos+contentLen,endTagLen=matchLen-(startTagLen+contentLen);tag=addTagPair(tagName,startTagPos,startTagLen,endTagPos,endTagLen,-100)}else{tag=addSelfClosingTag(tagName,startTagPos,matchLen,-100)}
map.forEach(function(attrName,i){if(attrName&&typeof m[i]!=='undefined'){tag.setAttribute(attrName,m[i])}})}})}}};var pos;var registeredVars={"urlConfig":{allowedSchemes:/^https?$/i}};var rootContext={allowed:oB88E87AA,flags:40};var tagsConfig={"B":oE4DC5376,"C":{allowed:o553403F9,bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:66},tagLimit:1000},"CENTER":{allowed:oB88E87AA,bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:o3894ED6F,tagLimit:1000},"CODE":{allowed:o553403F9,attributes:{"lang":{filterChain:oCCE4F73D,required:!1}},bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:4436,fosterParent:oD4869BFF},tagLimit:1000},"COLOR":{allowed:o8B7A8F1F,attributes:{"color":{filterChain:[function(attrValue,attrName){return BuiltInFilters.filterColor(attrValue)}],required:!0}},bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:oB565876D,tagLimit:1000},"DEL":{allowed:oB88E87AA,bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:512},tagLimit:1000},"EM":oE4DC5376,"EMAIL":{allowed:o18338443,attributes:{"email":{filterChain:[function(attrValue,attrName){return BuiltInFilters.filterEmail(attrValue)}],required:!0}},bitNumber:1,filterChain:o1B3CF9D3,nestingLimit:10,rules:o939F1698,tagLimit:1000},"EMOJI":{allowed:o8B7A8F1F,attributes:{"seq":{filterChain:oCCE4F73D,required:!0}},bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:oA80287CC,tagLimit:1000},"ESC":{allowed:o553403F9,bitNumber:0,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:1616},tagLimit:1000},"H1":o568FB992,"H2":o568FB992,"H3":o568FB992,"H4":o568FB992,"H5":o568FB992,"H6":o568FB992,"HR":{allowed:o8B7A8F1F,bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:3349},tagLimit:1000},"I":oE4DC5376,"IMG":{allowed:o8B7A8F1F,attributes:{"alt":oD62CC35F,"src":o374BDE7B,"title":oD62CC35F},bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:oA80287CC,tagLimit:1000},"LI":{allowed:oB88E87AA,bitNumber:4,filterChain:o1B3CF9D3,nestingLimit:10,rules:{closeParent:{"LI":1},flags:264,fosterParent:oD4869BFF},tagLimit:1000},"LIST":{allowed:[7953],attributes:{"start":o16EF6CF6,"type":{filterChain:[function(attrValue,attrName){return BuiltInFilters.filterHashmap(attrValue,{"A":"upper-alpha","I":"upper-roman","a":"lower-alpha","i":"lower-roman","1":"decimal"},!1)},function(attrValue,attrName){return BuiltInFilters.filterSimpletext(attrValue)}],required:!1}},bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:{createChild:["LI"],flags:3460,fosterParent:oD4869BFF},tagLimit:1000},"POSTMENTION":{allowed:o8B7A8F1F,attributes:{"discussionid":o16EF6CF6,"id":{filterChain:o3CC2AFB8,required:!0},"number":o16EF6CF6,"username":oCF37F21E},bitNumber:1,filterChain:[function(tag,tagConfig){return(function(){return!0})(tag)},oD76D04BF],nestingLimit:10,rules:oA80287CC,tagLimit:1000},"QUOTE":{allowed:oB88E87AA,attributes:{"author":oD62CC35F},bitNumber:3,filterChain:o1B3CF9D3,nestingLimit:10,rules:o3894ED6F,tagLimit:1000},"S":oE4DC5376,"SIZE":{allowed:o8B7A8F1F,attributes:{"size":{filterChain:[function(attrValue,attrName){return BuiltInFilters.filterRange(attrValue,8,36,logger)}],required:!0}},bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:oB565876D,tagLimit:1000},"STRONG":oE4DC5376,"SUP":{allowed:o8B7A8F1F,bitNumber:2,filterChain:o1B3CF9D3,nestingLimit:10,rules:{flags:0},tagLimit:1000},"U":oE4DC5376,"URL":{allowed:o18338443,attributes:{"title":oD62CC35F,"url":o374BDE7B},bitNumber:1,filterChain:o1B3CF9D3,nestingLimit:10,rules:o939F1698,tagLimit:1000},"USERMENTION":{allowed:o8B7A8F1F,attributes:{"id":o16EF6CF6,"username":oCF37F21E},bitNumber:1,filterChain:[function(tag,tagConfig){return(function(){return!0})(tag,registeredVars.userRepository)},oD76D04BF],nestingLimit:10,rules:oA80287CC,tagLimit:1000}};var tagStack;var tagStackIsSorted;var text;var textLen;var uid=0;var wsPos;function disableTag(tagName){if(tagsConfig[tagName]){copyTagConfig(tagName).isDisabled=!0}}
function enableTag(tagName){if(tagsConfig[tagName]){copyTagConfig(tagName).isDisabled=!1}}
function getLogger(){return logger}
function parse(_text){reset(_text);var _uid=uid;executePluginParsers();processTags();finalizeOutput();if(uid!==_uid){throw 'The parser has been reset during execution'}
if(currentFixingCost>maxFixingCost){logger.warn('Fixing cost limit exceeded')}
return output}
function reset(_text){_text=_text.replace(/\r\n?/g,"\n");_text=_text.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]+/g,'');logger.clear();cntOpen={};cntTotal={};currentFixingCost=0;currentTag=null;isRich=!1;namespaces={};openTags=[];output='';pos=0;tagStack=[];tagStackIsSorted=!1;text=_text;textLen=text.length;wsPos=0;context=rootContext;context.inParagraph=!1;++uid}
function setTagLimit(tagName,tagLimit){if(tagsConfig[tagName]){copyTagConfig(tagName).tagLimit=tagLimit}}
function setNestingLimit(tagName,nestingLimit){if(tagsConfig[tagName]){copyTagConfig(tagName).nestingLimit=nestingLimit}}
function copyTagConfig(tagName){var tagConfig={},k;for(k in tagsConfig[tagName]){tagConfig[k]=tagsConfig[tagName][k]}
return tagsConfig[tagName]=tagConfig}
function executeAttributePreprocessors(tag,tagConfig){if(tagConfig.attributePreprocessors){tagConfig.attributePreprocessors.forEach(function(attributePreprocessor){var attrName=attributePreprocessor[0],regexp=attributePreprocessor[1],map=attributePreprocessor[2];if(!tag.hasAttribute(attrName)){return}
executeAttributePreprocessor(tag,attrName,regexp,map)})}
return!0}
function executeAttributePreprocessor(tag,attrName,regexp,map){var attrValue=tag.getAttribute(attrName),captures=getNamedCaptures(attrValue,regexp,map),k;for(k in captures){if(k===attrName||!tag.hasAttribute(k)){tag.setAttribute(k,captures[k])}}}
function getNamedCaptures(attrValue,regexp,map){var m=regexp.exec(attrValue);if(!m){return[]}
var values={};map.forEach(function(k,i){if(typeof m[i]==='string'&&m[i]!==''){values[k]=m[i]}});return values}
function filterAttributes(tag,tagConfig,registeredVars,logger){if(!tagConfig.attributes){tag.setAttributes({});return!0}
var attrName,attrConfig;if(HINT.attributeGenerator){for(attrName in tagConfig.attributes){attrConfig=tagConfig.attributes[attrName];if(attrConfig.generator){tag.setAttribute(attrName,attrConfig.generator(attrName))}}}
var attributes=tag.getAttributes();for(attrName in attributes){var attrValue=attributes[attrName];if(!tagConfig.attributes[attrName]){tag.removeAttribute(attrName);continue}
attrConfig=tagConfig.attributes[attrName];if(!attrConfig.filterChain){continue}
logger.setAttribute(attrName);for(var i=0;i<attrConfig.filterChain.length;++i){attrValue=attrConfig.filterChain[i](attrValue,attrName);if(attrValue===!1){tag.removeAttribute(attrName);break}}
if(attrValue!==!1){tag.setAttribute(attrName,attrValue)}
logger.unsetAttribute()}
for(attrName in tagConfig.attributes){attrConfig=tagConfig.attributes[attrName];if(!tag.hasAttribute(attrName)){if(HINT.attributeDefaultValue&&attrConfig.defaultValue!==undefined){tag.setAttribute(attrName,attrConfig.defaultValue)}else if(attrConfig.required){return!1}}}
return!0}
function filterTag(tag){var tagName=tag.getName(),tagConfig=tagsConfig[tagName],isValid=!0;if(tagConfig.filterChain){logger.setTag(tag);for(var i=0;i<tagConfig.filterChain.length;++i){if(!tagConfig.filterChain[i](tag,tagConfig)){isValid=!1;break}}
logger.unsetTag()}
return isValid}
function encodeUnicodeSupplementaryCharacters(){output=output.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,encodeUnicodeSupplementaryCharactersCallback)}
function encodeUnicodeSupplementaryCharactersCallback(pair){var cp=(pair.charCodeAt(0)<<10)+pair.charCodeAt(1)-56613888;return'&#'+cp+';'}
function finalizeOutput(){var tmp;outputText(textLen,0,!0);do{tmp=output;output=output.replace(/<([^ />]+)><\/\1>/g,'')}
while(output!==tmp);output=output.replace(/<\/i><i>/g,'',output);encodeUnicodeSupplementaryCharacters();var tagName=(isRich)?'r':'t';tmp='<'+tagName;if(HINT.namespaces){for(var prefix in namespaces){tmp+=' xmlns:'+prefix+'="urn:s9e:TextFormatter:'+prefix+'"'}}
output=tmp+'>'+output+'</'+tagName+'>'}
function outputTag(tag){isRich=!0;var tagName=tag.getName(),tagPos=tag.getPos(),tagLen=tag.getLen(),tagFlags=tag.getFlags(),skipBefore=0,skipAfter=0;if(HINT.RULE_IGNORE_WHITESPACE&&(tagFlags&RULE_IGNORE_WHITESPACE)){skipBefore=1;skipAfter=(tag.isEndTag())?2:1}
var closeParagraph=!1;if(tag.isStartTag()){if(HINT.RULE_BREAK_PARAGRAPH&&(tagFlags&RULE_BREAK_PARAGRAPH)){closeParagraph=!0}}else{closeParagraph=!0}
outputText(tagPos,skipBefore,closeParagraph);var tagText=(tagLen)?htmlspecialchars_noquotes(text.substr(tagPos,tagLen)):'';if(tag.isStartTag()){if(!HINT.RULE_BREAK_PARAGRAPH||!(tagFlags&RULE_BREAK_PARAGRAPH)){outputParagraphStart(tagPos)}
if(HINT.namespaces){var colonPos=tagName.indexOf(':');if(colonPos>0){namespaces[tagName.substr(0,colonPos)]=0}}
output+='<'+tagName;var attributes=tag.getAttributes(),attributeNames=[];for(var attrName in attributes){attributeNames.push(attrName)}
attributeNames.sort(function(a,b){return(a>b)?1:-1});attributeNames.forEach(function(attrName){output+=' '+attrName+'="'+htmlspecialchars_compat(attributes[attrName].toString()).replace(/\n/g,'&#10;')+'"'});if(tag.isSelfClosingTag()){if(tagLen){output+='>'+tagText+'</'+tagName+'>'}else{output+='/>'}}else if(tagLen){output+='><s>'+tagText+'</s>'}else{output+='>'}}else{if(tagLen){output+='<e>'+tagText+'</e>'}
output+='</'+tagName+'>'}
pos=tagPos+tagLen;wsPos=pos;while(skipAfter&&wsPos<textLen&&text.charAt(wsPos)==="\n"){--skipAfter;++wsPos}}
function outputText(catchupPos,maxLines,closeParagraph){if(closeParagraph){if(!(context.flags&RULE_CREATE_PARAGRAPHS)){closeParagraph=!1}else{maxLines=-1}}
if(pos>=catchupPos){if(closeParagraph){outputParagraphEnd()}}
if(wsPos>pos){var skipPos=Math.min(catchupPos,wsPos);output+=text.substr(pos,skipPos-pos);pos=skipPos;if(pos>=catchupPos){if(closeParagraph){outputParagraphEnd()}}}
var catchupLen,catchupText;if(HINT.RULE_IGNORE_TEXT&&context.flags&RULE_IGNORE_TEXT){catchupLen=catchupPos-pos,catchupText=text.substr(pos,catchupLen);if(!/^[ \n\t]*$/.test(catchupText)){catchupText='<i>'+catchupText+'</i>'}
output+=catchupText;pos=catchupPos;if(closeParagraph){outputParagraphEnd()}
return}
var ignorePos=catchupPos,ignoreLen=0;while(maxLines&&--ignorePos>=pos){var c=text.charAt(ignorePos);if(c!==' '&&c!=="\n"&&c!=="\t"){break}
if(c==="\n"){--maxLines}
++ignoreLen}
catchupPos-=ignoreLen;if(HINT.RULE_CREATE_PARAGRAPHS&&context.flags&RULE_CREATE_PARAGRAPHS){if(!context.inParagraph){outputWhitespace(catchupPos);if(catchupPos>pos){outputParagraphStart(catchupPos)}}
var pbPos=text.indexOf("\n\n",pos);while(pbPos>-1&&pbPos<catchupPos){outputText(pbPos,0,!0);outputParagraphStart(catchupPos);pbPos=text.indexOf("\n\n",pos)}}
if(catchupPos>pos){catchupText=htmlspecialchars_noquotes(text.substr(pos,catchupPos-pos));if(HINT.RULE_ENABLE_AUTO_BR&&(context.flags&RULES_AUTO_LINEBREAKS)===RULE_ENABLE_AUTO_BR){catchupText=catchupText.replace(/\n/g,"<br/>\n")}
output+=catchupText}
if(closeParagraph){outputParagraphEnd()}
if(ignoreLen){output+=text.substr(catchupPos,ignoreLen)}
pos=catchupPos+ignoreLen}
function outputBrTag(tag){outputText(tag.getPos(),0,!1);output+='<br/>'}
function outputIgnoreTag(tag){var tagPos=tag.getPos(),tagLen=tag.getLen();var ignoreText=text.substr(tagPos,tagLen);outputText(tagPos,0,!1);output+='<i>'+htmlspecialchars_noquotes(ignoreText)+'</i>';isRich=!0;pos=tagPos+tagLen}
function outputParagraphStart(maxPos){if(!HINT.RULE_CREATE_PARAGRAPHS){return}
if(context.inParagraph||!(context.flags&RULE_CREATE_PARAGRAPHS)){return}
outputWhitespace(maxPos);if(pos<textLen){output+='<p>';context.inParagraph=!0}}
function outputParagraphEnd(){if(!context.inParagraph){return}
output+='</p>';context.inParagraph=!1}
function outputVerbatim(tag){var flags=context.flags;context.flags=tag.getFlags();outputText(currentTag.getPos()+currentTag.getLen(),0,!1);context.flags=flags}
function outputWhitespace(maxPos){while(pos<maxPos&&" \n\t".indexOf(text.charAt(pos))>-1){output+=text.charAt(pos);++pos}}
function disablePlugin(pluginName){if(plugins[pluginName]){plugins[pluginName].isDisabled=!0}}
function enablePlugin(pluginName){if(plugins[pluginName]){plugins[pluginName].isDisabled=!1}}
function executePluginParser(pluginName){var pluginConfig=plugins[pluginName];if(pluginConfig.quickMatch&&text.indexOf(pluginConfig.quickMatch)<0){return}
var matches=[];if(pluginConfig.regexp){matches=getMatches(pluginConfig.regexp,pluginConfig.regexpLimit);if(!matches.length){return}}
getPluginParser(pluginName)(text,matches)}
function executePluginParsers(){for(var pluginName in plugins){if(!plugins[pluginName].isDisabled){executePluginParser(pluginName)}}}
function getMatches(regexp,limit){regexp.lastIndex=0;var matches=[],cnt=0,m;while(++cnt<=limit&&(m=regexp.exec(text))){var pos=+m.index,match=[[m[0],pos]],i=0;while(++i<m.length){var str=m[i];if(str===undefined){match.push(['',-1])}else{match.push([str,text.indexOf(str,pos)]);pos+=str.length}}
matches.push(match)}
return matches}
function getPluginParser(pluginName){return plugins[pluginName].parser}
function registerParser(pluginName,parser,regexp,limit){if(!plugins[pluginName]){plugins[pluginName]={}}
if(regexp){plugins[pluginName].regexp=regexp;plugins[pluginName].limit=limit||Infinity}
plugins[pluginName].parser=parser}
function closeAncestor(tag){if(!HINT.closeAncestor){return!1}
if(openTags.length){var tagName=tag.getName(),tagConfig=tagsConfig[tagName];if(tagConfig.rules.closeAncestor){var i=openTags.length;while(--i>=0){var ancestor=openTags[i],ancestorName=ancestor.getName();if(tagConfig.rules.closeAncestor[ancestorName]){tagStack.push(tag);addMagicEndTag(ancestor,tag.getPos());return!0}}}}
return!1}
function closeParent(tag){if(!HINT.closeParent){return!1}
if(openTags.length){var tagName=tag.getName(),tagConfig=tagsConfig[tagName];if(tagConfig.rules.closeParent){var parent=openTags[openTags.length-1],parentName=parent.getName();if(tagConfig.rules.closeParent[parentName]){tagStack.push(tag);addMagicEndTag(parent,tag.getPos());return!0}}}
return!1}
function createChild(tag){if(!HINT.createChild){return}
var tagConfig=tagsConfig[tag.getName()];if(tagConfig.rules.createChild){var priority=-1000,_text=text.substr(pos),tagPos=pos+_text.length-_text.replace(/^[ \n\r\t]+/,'').length;tagConfig.rules.createChild.forEach(function(tagName){addStartTag(tagName,tagPos,0,++priority)})}}
function fosterParent(tag){if(!HINT.fosterParent){return!1}
if(openTags.length){var tagName=tag.getName(),tagConfig=tagsConfig[tagName];if(tagConfig.rules.fosterParent){var parent=openTags[openTags.length-1],parentName=parent.getName();if(tagConfig.rules.fosterParent[parentName]){if(parentName!==tagName&&currentFixingCost<maxFixingCost){var child=addCopyTag(parent,tag.getPos()+tag.getLen(),0,tag.getSortPriority()+1);tag.cascadeInvalidationTo(child)}
tagStack.push(tag);addMagicEndTag(parent,tag.getPos(),tag.getSortPriority()-1);currentFixingCost+=4;return!0}}}
return!1}
function requireAncestor(tag){if(!HINT.requireAncestor){return!1}
var tagName=tag.getName(),tagConfig=tagsConfig[tagName];if(tagConfig.rules.requireAncestor){var i=tagConfig.rules.requireAncestor.length;while(--i>=0){var ancestorName=tagConfig.rules.requireAncestor[i];if(cntOpen[ancestorName]){return!1}}
logger.err('Tag requires an ancestor',{'requireAncestor':tagConfig.rules.requireAncestor.join(', '),'tag':tag});return!0}
return!1}
function addMagicEndTag(startTag,tagPos){var tagName=startTag.getName();if(HINT.RULE_IGNORE_WHITESPACE&&(startTag.getFlags()&RULE_IGNORE_WHITESPACE)){tagPos=getMagicPos(tagPos)}
var endTag=addEndTag(tagName,tagPos,0);endTag.pairWith(startTag);return endTag}
function getMagicPos(tagPos){while(tagPos>pos&&WHITESPACE.indexOf(text.charAt(tagPos-1))>-1){--tagPos}
return tagPos}
function isFollowedByClosingTag(tag){return(!tagStack.length)?!1:tagStack[tagStack.length-1].canClose(tag)}
function processTags(){if(!tagStack.length){return}
for(var tagName in tagsConfig){cntOpen[tagName]=0;cntTotal[tagName]=0}
do{while(tagStack.length){if(!tagStackIsSorted){sortTags()}
currentTag=tagStack.pop();processCurrentTag()}
openTags.forEach(function(startTag){addMagicEndTag(startTag,textLen)})}
while(tagStack.length);}
function processCurrentTag(){if((context.flags&RULE_IGNORE_TAGS)&&!currentTag.canClose(openTags[openTags.length-1])&&!currentTag.isSystemTag()){currentTag.invalidate()}
var tagPos=currentTag.getPos(),tagLen=currentTag.getLen();if(pos>tagPos&&!currentTag.isInvalid()){var startTag=currentTag.getStartTag();if(startTag&&openTags.indexOf(startTag)>=0){addEndTag(startTag.getName(),pos,Math.max(0,tagPos+tagLen-pos)).pairWith(startTag);return}
if(currentTag.isIgnoreTag()){var ignoreLen=tagPos+tagLen-pos;if(ignoreLen>0){addIgnoreTag(pos,ignoreLen);return}}
currentTag.invalidate()}
if(currentTag.isInvalid()){return}
if(currentTag.isIgnoreTag()){outputIgnoreTag(currentTag)}else if(currentTag.isBrTag()){if(!HINT.RULE_PREVENT_BR||!(context.flags&RULE_PREVENT_BR)){outputBrTag(currentTag)}}else if(currentTag.isParagraphBreak()){outputText(currentTag.getPos(),0,!0)}else if(currentTag.isVerbatim()){outputVerbatim(currentTag)}else if(currentTag.isStartTag()){processStartTag(currentTag)}else{processEndTag(currentTag)}}
function processStartTag(tag){var tagName=tag.getName(),tagConfig=tagsConfig[tagName];if(cntTotal[tagName]>=tagConfig.tagLimit){logger.err('Tag limit exceeded',{'tag':tag,'tagName':tagName,'tagLimit':tagConfig.tagLimit});tag.invalidate();return}
if(!filterTag(tag)){tag.invalidate();return}
if(fosterParent(tag)||closeParent(tag)||closeAncestor(tag)){return}
if(cntOpen[tagName]>=tagConfig.nestingLimit){logger.err('Nesting limit exceeded',{'tag':tag,'tagName':tagName,'nestingLimit':tagConfig.nestingLimit});tag.invalidate();return}
if(!tagIsAllowed(tagName)){var msg='Tag is not allowed in this context',context={'tag':tag,'tagName':tagName};if(tag.getLen()>0){logger.warn(msg,context)}else{logger.debug(msg,context)}
tag.invalidate();return}
if(requireAncestor(tag)){tag.invalidate();return}
if(HINT.RULE_AUTO_CLOSE&&tag.getFlags()&RULE_AUTO_CLOSE&&!tag.getEndTag()&&!isFollowedByClosingTag(tag)){var newTag=new Tag(Tag.SELF_CLOSING_TAG,tagName,tag.getPos(),tag.getLen());newTag.setAttributes(tag.getAttributes());newTag.setFlags(tag.getFlags());tag=newTag}
if(HINT.RULE_TRIM_FIRST_LINE&&tag.getFlags()&RULE_TRIM_FIRST_LINE&&!tag.getEndTag()&&text.charAt(tag.getPos()+tag.getLen())==="\n"){addIgnoreTag(tag.getPos()+tag.getLen(),1)}
outputTag(tag);pushContext(tag);createChild(tag)}
function processEndTag(tag){var tagName=tag.getName();if(!cntOpen[tagName]){return}
var closeTags=[];var i=openTags.length;while(--i>=0){var openTag=openTags[i];if(tag.canClose(openTag)){break}
closeTags.push(openTag);++currentFixingCost}
if(i<0){logger.debug('Skipping end tag with no start tag',{'tag':tag});return}
var keepReopening=HINT.RULE_AUTO_REOPEN&&(currentFixingCost<maxFixingCost),reopenTags=[];closeTags.forEach(function(openTag){var openTagName=openTag.getName();if(keepReopening){if(openTag.getFlags()&RULE_AUTO_REOPEN){reopenTags.push(openTag)}else{keepReopening=!1}}
var tagPos=tag.getPos();if(HINT.RULE_IGNORE_WHITESPACE&&openTag.getFlags()&RULE_IGNORE_WHITESPACE){tagPos=getMagicPos(tagPos)}
var endTag=new Tag(Tag.END_TAG,openTagName,tagPos,0);endTag.setFlags(openTag.getFlags());outputTag(endTag);popContext()});outputTag(tag);popContext();if(closeTags.length&&currentFixingCost<maxFixingCost){var ignorePos=pos;i=tagStack.length;while(--i>=0&&++currentFixingCost<maxFixingCost){var upcomingTag=tagStack[i];if(upcomingTag.getPos()>ignorePos||upcomingTag.isStartTag()){break}
var j=closeTags.length;while(--j>=0&&++currentFixingCost<maxFixingCost){if(upcomingTag.canClose(closeTags[j])){closeTags.splice(j,1);if(reopenTags[j]){reopenTags.splice(j,1)}
ignorePos=Math.max(ignorePos,upcomingTag.getPos()+upcomingTag.getLen());break}}}
if(ignorePos>pos){outputIgnoreTag(new Tag(Tag.SELF_CLOSING_TAG,'i',pos,ignorePos-pos))}}
reopenTags.forEach(function(startTag){var newTag=addCopyTag(startTag,pos,0);var endTag=startTag.getEndTag();if(endTag){newTag.pairWith(endTag)}})}
function popContext(){var tag=openTags.pop();--cntOpen[tag.getName()];context=context.parentContext}
function pushContext(tag){var tagName=tag.getName(),tagFlags=tag.getFlags(),tagConfig=tagsConfig[tagName];++cntTotal[tagName];if(tag.isSelfClosingTag()){return}
var allowed=[];if(HINT.RULE_IS_TRANSPARENT&&(tagFlags&RULE_IS_TRANSPARENT)){context.allowed.forEach(function(v,k){allowed.push(tagConfig.allowed[k]&v)})}else{context.allowed.forEach(function(v,k){allowed.push(tagConfig.allowed[k]&((v&0xFF00)|(v>>8)))})}
var flags=tagFlags|(context.flags&RULES_INHERITANCE);if(flags&RULE_DISABLE_AUTO_BR){flags&=~RULE_ENABLE_AUTO_BR}
++cntOpen[tagName];openTags.push(tag);context={allowed:allowed,flags:flags,parentContext:context}}
function tagIsAllowed(tagName){var n=tagsConfig[tagName].bitNumber;return!!(context.allowed[n>>3]&(1<<(n&7)))}
function addStartTag(name,pos,len,prio){return addTag(Tag.START_TAG,name,pos,len,prio||0)}
function addEndTag(name,pos,len,prio){return addTag(Tag.END_TAG,name,pos,len,prio||0)}
function addSelfClosingTag(name,pos,len,prio){return addTag(Tag.SELF_CLOSING_TAG,name,pos,len,prio||0)}
function addBrTag(pos,prio){return addTag(Tag.SELF_CLOSING_TAG,'br',pos,0,prio||0)}
function addIgnoreTag(pos,len,prio){return addTag(Tag.SELF_CLOSING_TAG,'i',pos,Math.min(len,textLen-pos),prio||0)}
function addParagraphBreak(pos,prio){return addTag(Tag.SELF_CLOSING_TAG,'pb',pos,0,prio||0)}
function addCopyTag(tag,pos,len,prio){var copy=addTag(tag.getType(),tag.getName(),pos,len,tag.getSortPriority());copy.setAttributes(tag.getAttributes());return copy}
function addTag(type,name,pos,len,prio){var tag=new Tag(type,name,pos,len,prio||0);if(tagsConfig[name]){tag.setFlags(tagsConfig[name].rules.flags)}
if(!tagsConfig[name]&&!tag.isSystemTag()){tag.invalidate()}else if(tagsConfig[name]&&tagsConfig[name].isDisabled){logger.warn('Tag is disabled',{'tag':tag,'tagName':name});tag.invalidate()}else if(len<0||pos<0||pos+len>textLen){tag.invalidate()}else{insertTag(tag)}
return tag}
function insertTag(tag){if(!tagStackIsSorted){tagStack.push(tag)}else{var i=tagStack.length;while(i>0&&compareTags(tagStack[i-1],tag)>0){tagStack[i]=tagStack[i-1];--i}
tagStack[i]=tag}}
function addTagPair(name,startPos,startLen,endPos,endLen,prio){var endTag=addEndTag(name,endPos,endLen,-prio||0),startTag=addStartTag(name,startPos,startLen,prio||0);startTag.pairWith(endTag);return startTag}
function addVerbatim(pos,len,prio){return addTag(Tag.SELF_CLOSING_TAG,'v',pos,len,prio||0)}
function sortTags(){tagStack.sort(compareTags);tagStackIsSorted=!0}
function compareTags(a,b){var aPos=a.getPos(),bPos=b.getPos();if(aPos!==bPos){return bPos-aPos}
if(a.getSortPriority()!==b.getSortPriority()){return b.getSortPriority()-a.getSortPriority()}
var aLen=a.getLen(),bLen=b.getLen();if(!aLen||!bLen){if(!aLen&&!bLen){var order={};order[Tag.END_TAG]=0;order[Tag.SELF_CLOSING_TAG]=1;order[Tag.START_TAG]=2;return order[b.getType()]-order[a.getType()]}
return(aLen)?-1:1}
return aLen-bLen}
var MSXML=(typeof DOMParser==='undefined'||typeof XSLTProcessor==='undefined');var xslt={init:function(xsl){var stylesheet=xslt.loadXML(xsl,'MSXML2.FreeThreadedDOMDocument.6.0');if(MSXML){var generator=new ActiveXObject("MSXML2.XSLTemplate.6.0");generator.stylesheet=stylesheet;xslt.proc=generator.createProcessor()}else{xslt.proc=new XSLTProcessor;xslt.proc.importStylesheet(stylesheet)}},loadXML:function(xml,type){if(MSXML){var dom=new ActiveXObject(type);dom.async=!1;dom.validateOnParse=!1;dom.loadXML(xml);return dom}
return(new DOMParser).parseFromString(xml,'text/xml')},setParameter:function(paramName,paramValue){if(MSXML){xslt.proc.addParameter(paramName,paramValue,'')}else{xslt.proc.setParameter(null,paramName,paramValue)}},transformToFragment:function(xml,targetDoc){if(MSXML){var div=targetDoc.createElement('div'),fragment=targetDoc.createDocumentFragment();xslt.proc.input=xslt.loadXML(xml,'MSXML2.DOMDocument.6.0');xslt.proc.transform();div.innerHTML=xslt.proc.output;while(div.firstChild){fragment.appendChild(div.removeChild(div.firstChild))}
return fragment}
return targetDoc.importNode(xslt.proc.transformToFragment(xslt.loadXML(xml),targetDoc),!0)}}
xslt.init(xsl);var postProcessFunctions={};function preview(text,target){var targetDoc=target.ownerDocument,resultFragment=xslt.transformToFragment(parse(text),targetDoc);if(HINT.postProcessing){var nodes=resultFragment.querySelectorAll('[data-s9e-livepreview-postprocess]'),i=nodes.length;while(--i>=0){var code=nodes[i].getAttribute('data-s9e-livepreview-postprocess');if(!postProcessFunctions[code]){postProcessFunctions[code]=new Function(code)}
postProcessFunctions[code].call(nodes[i])}}
function refreshElementContent(oldEl,newEl){var oldNodes=oldEl.childNodes,newNodes=newEl.childNodes,oldCnt=oldNodes.length,newCnt=newNodes.length,oldNode,newNode,left=0,right=0;while(left<oldCnt&&left<newCnt){oldNode=oldNodes[left];newNode=newNodes[left];if(!refreshNode(oldNode,newNode)){break}
++left}
var maxRight=Math.min(oldCnt-left,newCnt-left);while(right<maxRight){oldNode=oldNodes[oldCnt-(right+1)];newNode=newNodes[newCnt-(right+1)];if(!refreshNode(oldNode,newNode)){break}
++right}
var newNodesFragment=targetDoc.createDocumentFragment(),i=left;while(i<(newCnt-right)){newNode=newNodes[i].cloneNode(!0);newNodesFragment.appendChild(newNode);++i}
i=oldCnt-right;while(--i>=left){oldEl.removeChild(oldNodes[i])}
if(!right){oldEl.appendChild(newNodesFragment)}else{oldEl.insertBefore(newNodesFragment,oldEl.childNodes[left])}}
function refreshNode(oldNode,newNode){if(oldNode.nodeName!==newNode.nodeName||oldNode.nodeType!==newNode.nodeType){return!1}
if(oldNode.nodeType===3||oldNode.nodeType===8){if(oldNode.nodeValue!==newNode.nodeValue){oldNode.nodeValue=newNode.nodeValue}
return!0}
if(oldNode.isEqualNode&&oldNode.isEqualNode(newNode)){return!0}
syncElementAttributes(oldNode,newNode);refreshElementContent(oldNode,newNode);return!0}
function syncElementAttributes(oldEl,newEl){var oldAttributes=oldEl.attributes,newAttributes=newEl.attributes,oldCnt=oldAttributes.length,newCnt=newAttributes.length,i=oldCnt;while(--i>=0){var oldAttr=oldAttributes[i],namespaceURI=oldAttr.namespaceURI,attrName=oldAttr.name;if(!newEl.hasAttributeNS(namespaceURI,attrName)){oldEl.removeAttributeNS(namespaceURI,attrName)}}
i=newCnt;while(--i>=0){var newAttr=newAttributes[i],namespaceURI=newAttr.namespaceURI,attrName=newAttr.name,attrValue=newAttr.value;if(attrValue!==oldEl.getAttributeNS(namespaceURI,attrName)){oldEl.setAttributeNS(namespaceURI,attrName,attrValue)}}}
refreshElementContent(target,resultFragment)}
function setParameter(paramName,paramValue){xslt.setParameter(paramName,paramValue)}
window.s9e={'TextFormatter':{'preview':preview}}})();
